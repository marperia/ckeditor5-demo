var $h=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var B5=$h((ge,pe)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zs({emitter:i,activator:e,callback:t,contextElements:n}){i.listenTo(document,"mousedown",(s,r)=>{if(!e())return;const o=typeof r.composedPath=="function"?r.composedPath():[],a=typeof n=="function"?n():n;for(const l of a)if(l.contains(r.target)||o.includes(l))return;t()})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zh(i){class e extends i{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Za({view:i}){i.listenTo(i.element,"submit",(e,t)=>{t.preventDefault(),i.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Uh(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const mt=Uh(),A={isMac:Ja(mt),isWindows:qh(mt),isGecko:Gh(mt),isSafari:jh(mt),isiOS:Kh(mt),isAndroid:Zh(mt),isBlink:Jh(mt),features:{isRegExpUnicodePropertySupported:Xh()}};function Ja(i){return i.indexOf("macintosh")>-1}function qh(i){return i.indexOf("windows")>-1}function Gh(i){return!!i.match(/gecko\/\d+/)}function jh(i){return i.indexOf(" applewebkit/")>-1&&i.indexOf("chrome")===-1}function Kh(i){return!!i.match(/iphone|ipad/i)||Ja(i)&&navigator.maxTouchPoints>0}function Zh(i){return i.indexOf("android")>-1}function Jh(i){return i.indexOf("chrome/")>-1&&i.indexOf("edge/")<0}function Xh(){let i=!1;try{i="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Xa(i,e,t,n){t=t||function(l,c){return l===c};const s=Array.isArray(i)?i:Array.prototype.slice.call(i),r=Array.isArray(e)?e:Array.prototype.slice.call(e),o=Yh(s,r,t);return n?eu(o,r.length):Qh(r,o)}function Yh(i,e,t){const n=Pr(i,e,t);if(n===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=Er(i,n),r=Er(e,n),o=Pr(s,r,t),a=i.length-o,l=e.length-o;return{firstIndex:n,lastIndexOld:a,lastIndexNew:l}}function Pr(i,e,t){for(let n=0;n<Math.max(i.length,e.length);n++)if(i[n]===void 0||e[n]===void 0||!t(i[n],e[n]))return n;return-1}function Er(i,e){return i.slice(e).reverse()}function Qh(i,e){const t=[],{firstIndex:n,lastIndexOld:s,lastIndexNew:r}=e;return r-n>0&&t.push({index:n,type:"insert",values:i.slice(n,r)}),s-n>0&&t.push({index:n+(r-n),type:"delete",howMany:s-n}),t}function eu(i,e){const{firstIndex:t,lastIndexOld:n,lastIndexNew:s}=i;if(t===-1)return Array(e).fill("equal");let r=[];return t>0&&(r=r.concat(Array(t).fill("equal"))),s-t>0&&(r=r.concat(Array(s-t).fill("insert"))),n-t>0&&(r=r.concat(Array(n-t).fill("delete"))),s<e&&(r=r.concat(Array(e-s).fill("equal"))),r}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function bn(i,e,t){t=t||function(b,T){return b===T};const n=i.length,s=e.length;if(n>200||s>200||n+s>300)return bn.fastDiff(i,e,t,!0);let r,o;if(s<n){const b=i;i=e,e=b,r="delete",o="insert"}else r="insert",o="delete";const a=i.length,l=e.length,c=l-a,h={},u={};function f(b){const T=(u[b-1]!==void 0?u[b-1]:-1)+1,P=u[b+1]!==void 0?u[b+1]:-1,j=T>P?-1:1;h[b+j]&&(h[b]=h[b+j].slice(0)),h[b]||(h[b]=[]),h[b].push(T>P?r:o);let X=Math.max(T,P),ee=X-b;for(;ee<a&&X<l&&t(i[ee],e[X]);)ee++,X++,h[b].push("equal");return X}let g=0,w;do{for(w=-g;w<c;w++)u[w]=f(w);for(w=c+g;w>c;w--)u[w]=f(w);u[c]=f(c),g++}while(u[c]!==l);return h[c].slice(1)}bn.fastDiff=Xa;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Sr(){return function i(){i.called=!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ze{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=Sr(),this.off=Sr()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const re=new Array(256).fill("").map((i,e)=>("0"+e.toString(16)).slice(-2));function Je(){const i=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0;return"e"+re[i>>0&255]+re[i>>8&255]+re[i>>16&255]+re[i>>24&255]+re[e>>0&255]+re[e>>8&255]+re[e>>16&255]+re[e>>24&255]+re[t>>0&255]+re[t>>8&255]+re[t>>16&255]+re[t>>24&255]+re[n>>0&255]+re[n>>8&255]+re[n>>16&255]+re[n>>24&255]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const vt={get(i="normal"){return typeof i!="number"?this[i]||this.normal:i},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tu(i,e){const t=vt.get(e.priority);for(let n=0;n<i.length;n++)if(vt.get(i[n].priority)<t){i.splice(n,0,e);return}i.push(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const nu="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class d extends Error{constructor(e,t,n){super(iu(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new d(e.message,t);throw n.stack=e.stack,n}}function ne(i,e){console.warn(...su(i,e))}function Ya(i){return`
Read more: ${nu}#error-${i}`}function iu(i,e){const t=new WeakSet,s=e?` ${JSON.stringify(e,(o,a)=>{if(typeof a=="object"&&a!==null){if(t.has(a))return`[object ${a.constructor.name}]`;t.add(a)}return a})}`:"",r=Ya(i);return i+s+r}function su(i,e){const t=Ya(i);return e?[i,e,t]:[i,t]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ru="41.1.0",ou=new Date(2024,1,7);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new d("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=ru;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const $t=Symbol("listeningTo"),fs=Symbol("emitterId"),He=Symbol("delegations"),Qa=N(Object);function N(i){if(!i)return Qa;class e extends i{on(n,s,r){this.listenTo(this,n,s,r)}once(n,s,r){let o=!1;const a=(l,...c)=>{o||(o=!0,l.off(),s.call(this,l,...c))};this.listenTo(this,n,a,r)}off(n,s){this.stopListening(this,n,s)}listenTo(n,s,r,o={}){let a,l;this[$t]||(this[$t]={});const c=this[$t];Vi(n)||el(n);const h=Vi(n);(a=c[h])||(a=c[h]={emitter:n,callbacks:{}}),(l=a.callbacks[s])||(l=a.callbacks[s]=[]),l.push(r),hu(this,n,s,r,o)}stopListening(n,s,r){const o=this[$t];let a=n&&Vi(n);const l=o&&a?o[a]:void 0,c=l&&s?l.callbacks[s]:void 0;if(!(!o||n&&!l||s&&!c))if(r)Ni(this,n,s,r),c.indexOf(r)!==-1&&(c.length===1?delete l.callbacks[s]:Ni(this,n,s,r));else if(c){for(;r=c.pop();)Ni(this,n,s,r);delete l.callbacks[s]}else if(l){for(s in l.callbacks)this.stopListening(n,s);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[$t]}}fire(n,...s){try{const r=n instanceof Ze?n:new Ze(this,n),o=r.name;let a=nl(this,o);if(r.path.push(this),a){const c=[r,...s];a=Array.from(a);for(let h=0;h<a.length&&(a[h].callback.apply(this,c),r.off.called&&(delete r.off.called,this._removeEventListener(o,a[h].callback)),!r.stop.called);h++);}const l=this[He];if(l){const c=l.get(o),h=l.get("*");c&&Ar(c,r,s),h&&Ar(h,r,s)}return r.return}catch(r){/* istanbul ignore next -- @preserve */d.rethrowUnexpectedError(r,this)}}delegate(...n){return{to:(s,r)=>{this[He]||(this[He]=new Map),n.forEach(o=>{const a=this[He].get(o);a?a.set(s,r):this[He].set(o,new Map([[s,r]]))})}}}stopDelegating(n,s){if(this[He])if(!n)this[He].clear();else if(!s)this[He].delete(n);else{const r=this[He].get(n);r&&r.delete(s)}}_addEventListener(n,s,r){cu(this,n);const o=ms(this,n),a=vt.get(r.priority),l={callback:s,priority:a};for(const c of o)tu(c,l)}_removeEventListener(n,s){const r=ms(this,n);for(const o of r)for(let a=0;a<o.length;a++)o[a].callback==s&&(o.splice(a,1),a--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{N[i]=Qa.prototype[i]});function au(i,e){const t=i[$t];return t&&t[e]?t[e].emitter:null}function el(i,e){i[fs]||(i[fs]=e||Je())}function Vi(i){return i[fs]}function tl(i){return i._events||Object.defineProperty(i,"_events",{value:{}}),i._events}function lu(){return{callbacks:[],childEvents:[]}}function cu(i,e){const t=tl(i);if(t[e])return;let n=e,s=null;const r=[];for(;n!==""&&!t[n];)t[n]=lu(),r.push(t[n]),s&&t[n].childEvents.push(s),s=n,n=n.substr(0,n.lastIndexOf(":"));if(n!==""){for(const o of r)o.callbacks=t[n].callbacks.slice();t[n].childEvents.push(s)}}function ms(i,e){const t=tl(i)[e];if(!t)return[];let n=[t.callbacks];for(let s=0;s<t.childEvents.length;s++){const r=ms(i,t.childEvents[s]);n=n.concat(r)}return n}function nl(i,e){let t;return!i._events||!(t=i._events[e])||!t.callbacks.length?e.indexOf(":")>-1?nl(i,e.substr(0,e.lastIndexOf(":"))):null:t.callbacks}function Ar(i,e,t){for(let[n,s]of i){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const r=new Ze(e.source,s);r.path=[...e.path],n.fire(r,...t)}}function hu(i,e,t,n,s){e._addEventListener?e._addEventListener(t,n,s):i._addEventListener.call(e,t,n,s)}function Ni(i,e,t,n){e._removeEventListener?e._removeEventListener(t,n):i._removeEventListener.call(e,t,n)}var il=typeof global=="object"&&global&&global.Object===Object&&global,uu=typeof self=="object"&&self&&self.Object===Object&&self,Me=il||uu||Function("return this")(),Ve=Me.Symbol,sl=Object.prototype,du=sl.hasOwnProperty,fu=sl.toString,on=Ve?Ve.toStringTag:void 0;function mu(i){var e=du.call(i,on),t=i[on];try{i[on]=void 0;var n=!0}catch{}var s=fu.call(i);return n&&(e?i[on]=t:delete i[on]),s}var gu=Object.prototype,pu=gu.toString;function wu(i){return pu.call(i)}var _u="[object Null]",bu="[object Undefined]",Mr=Ve?Ve.toStringTag:void 0;function lt(i){return i==null?i===void 0?bu:_u:Mr&&Mr in Object(i)?mu(i):wu(i)}function Ce(i){return i!=null&&typeof i=="object"}var xu="[object Symbol]";function Ti(i){return typeof i=="symbol"||Ce(i)&&lt(i)==xu}function yu(i,e){for(var t=-1,n=i==null?0:i.length,s=Array(n);++t<n;)s[t]=e(i[t],t,i);return s}var le=Array.isArray,vu=1/0,Fr=Ve?Ve.prototype:void 0,Rr=Fr?Fr.toString:void 0;function rl(i){if(typeof i=="string")return i;if(le(i))return yu(i,rl)+"";if(Ti(i))return Rr?Rr.call(i):"";var e=i+"";return e=="0"&&1/i==-vu?"-0":e}var ku=/\s/;function Cu(i){for(var e=i.length;e--&&ku.test(i.charAt(e)););return e}var Tu=/^\s+/;function Pu(i){return i&&i.slice(0,Cu(i)+1).replace(Tu,"")}function Z(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var Or=NaN,Eu=/^[-+]0x[0-9a-f]+$/i,Su=/^0b[01]+$/i,Au=/^0o[0-7]+$/i,Mu=parseInt;function Ir(i){if(typeof i=="number")return i;if(Ti(i))return Or;if(Z(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=Z(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=Pu(i);var t=Su.test(i);return t||Au.test(i)?Mu(i.slice(2),t?2:8):Eu.test(i)?Or:+i}function ol(i){return i}var Fu="[object AsyncFunction]",Ru="[object Function]",Ou="[object GeneratorFunction]",Iu="[object Proxy]";function Tt(i){if(!Z(i))return!1;var e=lt(i);return e==Ru||e==Ou||e==Fu||e==Iu}var Li=Me["__core-js_shared__"],Br=function(){var i=/[^.]+$/.exec(Li&&Li.keys&&Li.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function Bu(i){return!!Br&&Br in i}var Du=Function.prototype,Vu=Du.toString;function At(i){if(i!=null){try{return Vu.call(i)}catch{}try{return i+""}catch{}}return""}var Nu=/[\\^$.*+?()[\]{}|]/g,Lu=/^\[object .+?Constructor\]$/,Wu=Function.prototype,Hu=Object.prototype,$u=Wu.toString,zu=Hu.hasOwnProperty,Uu=RegExp("^"+$u.call(zu).replace(Nu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qu(i){if(!Z(i)||Bu(i))return!1;var e=Tt(i)?Uu:Lu;return e.test(At(i))}function Gu(i,e){return i==null?void 0:i[e]}function Mt(i,e){var t=Gu(i,e);return qu(t)?t:void 0}var gs=Mt(Me,"WeakMap"),Dr=Object.create,ju=function(){function i(){}return function(e){if(!Z(e))return{};if(Dr)return Dr(e);i.prototype=e;var t=new i;return i.prototype=void 0,t}}();function Ku(i,e,t){switch(t.length){case 0:return i.call(e);case 1:return i.call(e,t[0]);case 2:return i.call(e,t[0],t[1]);case 3:return i.call(e,t[0],t[1],t[2])}return i.apply(e,t)}function al(i,e){var t=-1,n=i.length;for(e||(e=Array(n));++t<n;)e[t]=i[t];return e}var Zu=800,Ju=16,Xu=Date.now;function Yu(i){var e=0,t=0;return function(){var n=Xu(),s=Ju-(n-t);if(t=n,s>0){if(++e>=Zu)return arguments[0]}else e=0;return i.apply(void 0,arguments)}}function Qu(i){return function(){return i}}var hi=function(){try{var i=Mt(Object,"defineProperty");return i({},"",{}),i}catch{}}(),ed=hi?function(i,e){return hi(i,"toString",{configurable:!0,enumerable:!1,value:Qu(e),writable:!0})}:ol;const td=ed;var nd=Yu(td);function id(i,e){for(var t=-1,n=i==null?0:i.length;++t<n&&e(i[t],t,i)!==!1;);return i}var sd=9007199254740991,rd=/^(?:0|[1-9]\d*)$/;function Us(i,e){var t=typeof i;return e=e??sd,!!e&&(t=="number"||t!="symbol"&&rd.test(i))&&i>-1&&i%1==0&&i<e}function qs(i,e,t){e=="__proto__"&&hi?hi(i,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):i[e]=t}function Un(i,e){return i===e||i!==i&&e!==e}var od=Object.prototype,ad=od.hasOwnProperty;function Gs(i,e,t){var n=i[e];(!(ad.call(i,e)&&Un(n,t))||t===void 0&&!(e in i))&&qs(i,e,t)}function en(i,e,t,n){var s=!t;t||(t={});for(var r=-1,o=e.length;++r<o;){var a=e[r],l=n?n(t[a],i[a],a,t,i):void 0;l===void 0&&(l=i[a]),s?qs(t,a,l):Gs(t,a,l)}return t}var Vr=Math.max;function ld(i,e,t){return e=Vr(e===void 0?i.length-1:e,0),function(){for(var n=arguments,s=-1,r=Vr(n.length-e,0),o=Array(r);++s<r;)o[s]=n[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=n[s];return a[e]=t(o),Ku(i,this,a)}}function cd(i,e){return nd(ld(i,e,ol),i+"")}var hd=9007199254740991;function ll(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=hd}function Pi(i){return i!=null&&ll(i.length)&&!Tt(i)}function ud(i,e,t){if(!Z(t))return!1;var n=typeof e;return(n=="number"?Pi(t)&&Us(e,t.length):n=="string"&&e in t)?Un(t[e],i):!1}function cl(i){return cd(function(e,t){var n=-1,s=t.length,r=s>1?t[s-1]:void 0,o=s>2?t[2]:void 0;for(r=i.length>3&&typeof r=="function"?(s--,r):void 0,o&&ud(t[0],t[1],o)&&(r=s<3?void 0:r,s=1),e=Object(e);++n<s;){var a=t[n];a&&i(e,a,n,r)}return e})}var dd=Object.prototype;function js(i){var e=i&&i.constructor,t=typeof e=="function"&&e.prototype||dd;return i===t}function fd(i,e){for(var t=-1,n=Array(i);++t<i;)n[t]=e(t);return n}var md="[object Arguments]";function Nr(i){return Ce(i)&&lt(i)==md}var hl=Object.prototype,gd=hl.hasOwnProperty,pd=hl.propertyIsEnumerable,ps=Nr(function(){return arguments}())?Nr:function(i){return Ce(i)&&gd.call(i,"callee")&&!pd.call(i,"callee")};function wd(){return!1}var ul=typeof ge=="object"&&ge&&!ge.nodeType&&ge,Lr=ul&&typeof pe=="object"&&pe&&!pe.nodeType&&pe,_d=Lr&&Lr.exports===ul,Wr=_d?Me.Buffer:void 0,bd=Wr?Wr.isBuffer:void 0,Pn=bd||wd,xd="[object Arguments]",yd="[object Array]",vd="[object Boolean]",kd="[object Date]",Cd="[object Error]",Td="[object Function]",Pd="[object Map]",Ed="[object Number]",Sd="[object Object]",Ad="[object RegExp]",Md="[object Set]",Fd="[object String]",Rd="[object WeakMap]",Od="[object ArrayBuffer]",Id="[object DataView]",Bd="[object Float32Array]",Dd="[object Float64Array]",Vd="[object Int8Array]",Nd="[object Int16Array]",Ld="[object Int32Array]",Wd="[object Uint8Array]",Hd="[object Uint8ClampedArray]",$d="[object Uint16Array]",zd="[object Uint32Array]",$={};$[Bd]=$[Dd]=$[Vd]=$[Nd]=$[Ld]=$[Wd]=$[Hd]=$[$d]=$[zd]=!0;$[xd]=$[yd]=$[Od]=$[vd]=$[Id]=$[kd]=$[Cd]=$[Td]=$[Pd]=$[Ed]=$[Sd]=$[Ad]=$[Md]=$[Fd]=$[Rd]=!1;function Ud(i){return Ce(i)&&ll(i.length)&&!!$[lt(i)]}function Ks(i){return function(e){return i(e)}}var dl=typeof ge=="object"&&ge&&!ge.nodeType&&ge,xn=dl&&typeof pe=="object"&&pe&&!pe.nodeType&&pe,qd=xn&&xn.exports===dl,Wi=qd&&il.process,Kt=function(){try{var i=xn&&xn.require&&xn.require("util").types;return i||Wi&&Wi.binding&&Wi.binding("util")}catch{}}(),Hr=Kt&&Kt.isTypedArray,Zs=Hr?Ks(Hr):Ud,Gd=Object.prototype,jd=Gd.hasOwnProperty;function fl(i,e){var t=le(i),n=!t&&ps(i),s=!t&&!n&&Pn(i),r=!t&&!n&&!s&&Zs(i),o=t||n||s||r,a=o?fd(i.length,String):[],l=a.length;for(var c in i)(e||jd.call(i,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Us(c,l)))&&a.push(c);return a}function ml(i,e){return function(t){return i(e(t))}}var Kd=ml(Object.keys,Object),Zd=Object.prototype,Jd=Zd.hasOwnProperty;function Xd(i){if(!js(i))return Kd(i);var e=[];for(var t in Object(i))Jd.call(i,t)&&t!="constructor"&&e.push(t);return e}function Js(i){return Pi(i)?fl(i):Xd(i)}function Yd(i){var e=[];if(i!=null)for(var t in Object(i))e.push(t);return e}var Qd=Object.prototype,ef=Qd.hasOwnProperty;function tf(i){if(!Z(i))return Yd(i);var e=js(i),t=[];for(var n in i)n=="constructor"&&(e||!ef.call(i,n))||t.push(n);return t}function tn(i){return Pi(i)?fl(i,!0):tf(i)}var nf=cl(function(i,e){en(e,tn(e),i)}),sf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rf=/^\w*$/;function of(i,e){if(le(i))return!1;var t=typeof i;return t=="number"||t=="symbol"||t=="boolean"||i==null||Ti(i)?!0:rf.test(i)||!sf.test(i)||e!=null&&i in Object(e)}var En=Mt(Object,"create");function af(){this.__data__=En?En(null):{},this.size=0}function lf(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var cf="__lodash_hash_undefined__",hf=Object.prototype,uf=hf.hasOwnProperty;function df(i){var e=this.__data__;if(En){var t=e[i];return t===cf?void 0:t}return uf.call(e,i)?e[i]:void 0}var ff=Object.prototype,mf=ff.hasOwnProperty;function gf(i){var e=this.__data__;return En?e[i]!==void 0:mf.call(e,i)}var pf="__lodash_hash_undefined__";function wf(i,e){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=En&&e===void 0?pf:e,this}function Pt(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Pt.prototype.clear=af;Pt.prototype.delete=lf;Pt.prototype.get=df;Pt.prototype.has=gf;Pt.prototype.set=wf;function _f(){this.__data__=[],this.size=0}function Ei(i,e){for(var t=i.length;t--;)if(Un(i[t][0],e))return t;return-1}var bf=Array.prototype,xf=bf.splice;function yf(i){var e=this.__data__,t=Ei(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():xf.call(e,t,1),--this.size,!0}function vf(i){var e=this.__data__,t=Ei(e,i);return t<0?void 0:e[t][1]}function kf(i){return Ei(this.__data__,i)>-1}function Cf(i,e){var t=this.__data__,n=Ei(t,i);return n<0?(++this.size,t.push([i,e])):t[n][1]=e,this}function Qe(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Qe.prototype.clear=_f;Qe.prototype.delete=yf;Qe.prototype.get=vf;Qe.prototype.has=kf;Qe.prototype.set=Cf;var Sn=Mt(Me,"Map");function Tf(){this.size=0,this.__data__={hash:new Pt,map:new(Sn||Qe),string:new Pt}}function Pf(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}function Si(i,e){var t=i.__data__;return Pf(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Ef(i){var e=Si(this,i).delete(i);return this.size-=e?1:0,e}function Sf(i){return Si(this,i).get(i)}function Af(i){return Si(this,i).has(i)}function Mf(i,e){var t=Si(this,i),n=t.size;return t.set(i,e),this.size+=t.size==n?0:1,this}function et(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}et.prototype.clear=Tf;et.prototype.delete=Ef;et.prototype.get=Sf;et.prototype.has=Af;et.prototype.set=Mf;var Ff="Expected a function";function Xs(i,e){if(typeof i!="function"||e!=null&&typeof e!="function")throw new TypeError(Ff);var t=function(){var n=arguments,s=e?e.apply(this,n):n[0],r=t.cache;if(r.has(s))return r.get(s);var o=i.apply(this,n);return t.cache=r.set(s,o)||r,o};return t.cache=new(Xs.Cache||et),t}Xs.Cache=et;var Rf=500;function Of(i){var e=Xs(i,function(n){return t.size===Rf&&t.clear(),n}),t=e.cache;return e}var If=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bf=/\\(\\)?/g,Df=Of(function(i){var e=[];return i.charCodeAt(0)===46&&e.push(""),i.replace(If,function(t,n,s,r){e.push(s?r.replace(Bf,"$1"):n||t)}),e});function Ys(i){return i==null?"":rl(i)}function Qs(i,e){return le(i)?i:of(i,e)?[i]:Df(Ys(i))}var Vf=1/0;function er(i){if(typeof i=="string"||Ti(i))return i;var e=i+"";return e=="0"&&1/i==-Vf?"-0":e}function gl(i,e){e=Qs(e,i);for(var t=0,n=e.length;i!=null&&t<n;)i=i[er(e[t++])];return t&&t==n?i:void 0}function ui(i,e,t){var n=i==null?void 0:gl(i,e);return n===void 0?t:n}function pl(i,e){for(var t=-1,n=e.length,s=i.length;++t<n;)i[s+t]=e[t];return i}var tr=ml(Object.getPrototypeOf,Object),Nf="[object Object]",Lf=Function.prototype,Wf=Object.prototype,wl=Lf.toString,Hf=Wf.hasOwnProperty,$f=wl.call(Object);function ve(i){if(!Ce(i)||lt(i)!=Nf)return!1;var e=tr(i);if(e===null)return!0;var t=Hf.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&wl.call(t)==$f}function _l(i,e,t){var n=-1,s=i.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var r=Array(s);++n<s;)r[n]=i[n+e];return r}function zf(i,e,t){var n=i.length;return t=t===void 0?n:t,!e&&t>=n?i:_l(i,e,t)}var Uf="\\ud800-\\udfff",qf="\\u0300-\\u036f",Gf="\\ufe20-\\ufe2f",jf="\\u20d0-\\u20ff",Kf=qf+Gf+jf,Zf="\\ufe0e\\ufe0f",Jf="\\u200d",Xf=RegExp("["+Jf+Uf+Kf+Zf+"]");function bl(i){return Xf.test(i)}function Yf(i){return i.split("")}var xl="\\ud800-\\udfff",Qf="\\u0300-\\u036f",em="\\ufe20-\\ufe2f",tm="\\u20d0-\\u20ff",nm=Qf+em+tm,im="\\ufe0e\\ufe0f",sm="["+xl+"]",ws="["+nm+"]",_s="\\ud83c[\\udffb-\\udfff]",rm="(?:"+ws+"|"+_s+")",yl="[^"+xl+"]",vl="(?:\\ud83c[\\udde6-\\uddff]){2}",kl="[\\ud800-\\udbff][\\udc00-\\udfff]",om="\\u200d",Cl=rm+"?",Tl="["+im+"]?",am="(?:"+om+"(?:"+[yl,vl,kl].join("|")+")"+Tl+Cl+")*",lm=Tl+Cl+am,cm="(?:"+[yl+ws+"?",ws,vl,kl,sm].join("|")+")",hm=RegExp(_s+"(?="+_s+")|"+cm+lm,"g");function um(i){return i.match(hm)||[]}function dm(i){return bl(i)?um(i):Yf(i)}function fm(i){return function(e){e=Ys(e);var t=bl(e)?dm(e):void 0,n=t?t[0]:e.charAt(0),s=t?zf(t,1).join(""):e.slice(1);return n[i]()+s}}var mm=fm("toUpperCase");function gm(){this.__data__=new Qe,this.size=0}function pm(i){var e=this.__data__,t=e.delete(i);return this.size=e.size,t}function wm(i){return this.__data__.get(i)}function _m(i){return this.__data__.has(i)}var bm=200;function xm(i,e){var t=this.__data__;if(t instanceof Qe){var n=t.__data__;if(!Sn||n.length<bm-1)return n.push([i,e]),this.size=++t.size,this;t=this.__data__=new et(n)}return t.set(i,e),this.size=t.size,this}function Ie(i){var e=this.__data__=new Qe(i);this.size=e.size}Ie.prototype.clear=gm;Ie.prototype.delete=pm;Ie.prototype.get=wm;Ie.prototype.has=_m;Ie.prototype.set=xm;function ym(i,e){return i&&en(e,Js(e),i)}function vm(i,e){return i&&en(e,tn(e),i)}var Pl=typeof ge=="object"&&ge&&!ge.nodeType&&ge,$r=Pl&&typeof pe=="object"&&pe&&!pe.nodeType&&pe,km=$r&&$r.exports===Pl,zr=km?Me.Buffer:void 0,Ur=zr?zr.allocUnsafe:void 0;function El(i,e){if(e)return i.slice();var t=i.length,n=Ur?Ur(t):new i.constructor(t);return i.copy(n),n}function Cm(i,e){for(var t=-1,n=i==null?0:i.length,s=0,r=[];++t<n;){var o=i[t];e(o,t,i)&&(r[s++]=o)}return r}function Sl(){return[]}var Tm=Object.prototype,Pm=Tm.propertyIsEnumerable,qr=Object.getOwnPropertySymbols,nr=qr?function(i){return i==null?[]:(i=Object(i),Cm(qr(i),function(e){return Pm.call(i,e)}))}:Sl;function Em(i,e){return en(i,nr(i),e)}var Sm=Object.getOwnPropertySymbols,Al=Sm?function(i){for(var e=[];i;)pl(e,nr(i)),i=tr(i);return e}:Sl;function Am(i,e){return en(i,Al(i),e)}function Ml(i,e,t){var n=e(i);return le(i)?n:pl(n,t(i))}function bs(i){return Ml(i,Js,nr)}function Mm(i){return Ml(i,tn,Al)}var xs=Mt(Me,"DataView"),ys=Mt(Me,"Promise"),vs=Mt(Me,"Set"),Gr="[object Map]",Fm="[object Object]",jr="[object Promise]",Kr="[object Set]",Zr="[object WeakMap]",Jr="[object DataView]",Rm=At(xs),Om=At(Sn),Im=At(ys),Bm=At(vs),Dm=At(gs),xt=lt;(xs&&xt(new xs(new ArrayBuffer(1)))!=Jr||Sn&&xt(new Sn)!=Gr||ys&&xt(ys.resolve())!=jr||vs&&xt(new vs)!=Kr||gs&&xt(new gs)!=Zr)&&(xt=function(i){var e=lt(i),t=e==Fm?i.constructor:void 0,n=t?At(t):"";if(n)switch(n){case Rm:return Jr;case Om:return Gr;case Im:return jr;case Bm:return Kr;case Dm:return Zr}return e});const An=xt;var Vm=Object.prototype,Nm=Vm.hasOwnProperty;function Lm(i){var e=i.length,t=new i.constructor(e);return e&&typeof i[0]=="string"&&Nm.call(i,"index")&&(t.index=i.index,t.input=i.input),t}var di=Me.Uint8Array;function ir(i){var e=new i.constructor(i.byteLength);return new di(e).set(new di(i)),e}function Wm(i,e){var t=e?ir(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.byteLength)}var Hm=/\w*$/;function $m(i){var e=new i.constructor(i.source,Hm.exec(i));return e.lastIndex=i.lastIndex,e}var Xr=Ve?Ve.prototype:void 0,Yr=Xr?Xr.valueOf:void 0;function zm(i){return Yr?Object(Yr.call(i)):{}}function Fl(i,e){var t=e?ir(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.length)}var Um="[object Boolean]",qm="[object Date]",Gm="[object Map]",jm="[object Number]",Km="[object RegExp]",Zm="[object Set]",Jm="[object String]",Xm="[object Symbol]",Ym="[object ArrayBuffer]",Qm="[object DataView]",eg="[object Float32Array]",tg="[object Float64Array]",ng="[object Int8Array]",ig="[object Int16Array]",sg="[object Int32Array]",rg="[object Uint8Array]",og="[object Uint8ClampedArray]",ag="[object Uint16Array]",lg="[object Uint32Array]";function cg(i,e,t){var n=i.constructor;switch(e){case Ym:return ir(i);case Um:case qm:return new n(+i);case Qm:return Wm(i,t);case eg:case tg:case ng:case ig:case sg:case rg:case og:case ag:case lg:return Fl(i,t);case Gm:return new n;case jm:case Jm:return new n(i);case Km:return $m(i);case Zm:return new n;case Xm:return zm(i)}}function Rl(i){return typeof i.constructor=="function"&&!js(i)?ju(tr(i)):{}}var hg="[object Map]";function ug(i){return Ce(i)&&An(i)==hg}var Qr=Kt&&Kt.isMap,dg=Qr?Ks(Qr):ug,fg="[object Set]";function mg(i){return Ce(i)&&An(i)==fg}var eo=Kt&&Kt.isSet,gg=eo?Ks(eo):mg,pg=1,wg=2,_g=4,Ol="[object Arguments]",bg="[object Array]",xg="[object Boolean]",yg="[object Date]",vg="[object Error]",Il="[object Function]",kg="[object GeneratorFunction]",Cg="[object Map]",Tg="[object Number]",Bl="[object Object]",Pg="[object RegExp]",Eg="[object Set]",Sg="[object String]",Ag="[object Symbol]",Mg="[object WeakMap]",Fg="[object ArrayBuffer]",Rg="[object DataView]",Og="[object Float32Array]",Ig="[object Float64Array]",Bg="[object Int8Array]",Dg="[object Int16Array]",Vg="[object Int32Array]",Ng="[object Uint8Array]",Lg="[object Uint8ClampedArray]",Wg="[object Uint16Array]",Hg="[object Uint32Array]",L={};L[Ol]=L[bg]=L[Fg]=L[Rg]=L[xg]=L[yg]=L[Og]=L[Ig]=L[Bg]=L[Dg]=L[Vg]=L[Cg]=L[Tg]=L[Bl]=L[Pg]=L[Eg]=L[Sg]=L[Ag]=L[Ng]=L[Lg]=L[Wg]=L[Hg]=!0;L[vg]=L[Il]=L[Mg]=!1;function Gt(i,e,t,n,s,r){var o,a=e&pg,l=e&wg,c=e&_g;if(t&&(o=s?t(i,n,s,r):t(i)),o!==void 0)return o;if(!Z(i))return i;var h=le(i);if(h){if(o=Lm(i),!a)return al(i,o)}else{var u=An(i),f=u==Il||u==kg;if(Pn(i))return El(i,a);if(u==Bl||u==Ol||f&&!s){if(o=l||f?{}:Rl(i),!a)return l?Am(i,vm(o,i)):Em(i,ym(o,i))}else{if(!L[u])return s?i:{};o=cg(i,u,a)}}r||(r=new Ie);var g=r.get(i);if(g)return g;r.set(i,o),gg(i)?i.forEach(function(T){o.add(Gt(T,e,t,T,i,r))}):dg(i)&&i.forEach(function(T,P){o.set(P,Gt(T,e,t,P,i,r))});var w=c?l?Mm:bs:l?tn:Js,b=h?void 0:w(i);return id(b||i,function(T,P){b&&(P=T,T=i[P]),Gs(o,P,Gt(T,e,t,P,i,r))}),o}var $g=4;function Dl(i){return Gt(i,$g)}var zg=1,Ug=4;function ct(i){return Gt(i,zg|Ug)}var qg=1,Gg=4;function sr(i,e){return e=typeof e=="function"?e:void 0,Gt(i,qg|Gg,e)}var jg="__lodash_hash_undefined__";function Kg(i){return this.__data__.set(i,jg),this}function Zg(i){return this.__data__.has(i)}function fi(i){var e=-1,t=i==null?0:i.length;for(this.__data__=new et;++e<t;)this.add(i[e])}fi.prototype.add=fi.prototype.push=Kg;fi.prototype.has=Zg;function Jg(i,e){for(var t=-1,n=i==null?0:i.length;++t<n;)if(e(i[t],t,i))return!0;return!1}function Xg(i,e){return i.has(e)}var Yg=1,Qg=2;function Vl(i,e,t,n,s,r){var o=t&Yg,a=i.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(i),h=r.get(e);if(c&&h)return c==e&&h==i;var u=-1,f=!0,g=t&Qg?new fi:void 0;for(r.set(i,e),r.set(e,i);++u<a;){var w=i[u],b=e[u];if(n)var T=o?n(b,w,u,e,i,r):n(w,b,u,i,e,r);if(T!==void 0){if(T)continue;f=!1;break}if(g){if(!Jg(e,function(P,j){if(!Xg(g,j)&&(w===P||s(w,P,t,n,r)))return g.push(j)})){f=!1;break}}else if(!(w===b||s(w,b,t,n,r))){f=!1;break}}return r.delete(i),r.delete(e),f}function e0(i){var e=-1,t=Array(i.size);return i.forEach(function(n,s){t[++e]=[s,n]}),t}function t0(i){var e=-1,t=Array(i.size);return i.forEach(function(n){t[++e]=n}),t}var n0=1,i0=2,s0="[object Boolean]",r0="[object Date]",o0="[object Error]",a0="[object Map]",l0="[object Number]",c0="[object RegExp]",h0="[object Set]",u0="[object String]",d0="[object Symbol]",f0="[object ArrayBuffer]",m0="[object DataView]",to=Ve?Ve.prototype:void 0,Hi=to?to.valueOf:void 0;function g0(i,e,t,n,s,r,o){switch(t){case m0:if(i.byteLength!=e.byteLength||i.byteOffset!=e.byteOffset)return!1;i=i.buffer,e=e.buffer;case f0:return!(i.byteLength!=e.byteLength||!r(new di(i),new di(e)));case s0:case r0:case l0:return Un(+i,+e);case o0:return i.name==e.name&&i.message==e.message;case c0:case u0:return i==e+"";case a0:var a=e0;case h0:var l=n&n0;if(a||(a=t0),i.size!=e.size&&!l)return!1;var c=o.get(i);if(c)return c==e;n|=i0,o.set(i,e);var h=Vl(a(i),a(e),n,s,r,o);return o.delete(i),h;case d0:if(Hi)return Hi.call(i)==Hi.call(e)}return!1}var p0=1,w0=Object.prototype,_0=w0.hasOwnProperty;function b0(i,e,t,n,s,r){var o=t&p0,a=bs(i),l=a.length,c=bs(e),h=c.length;if(l!=h&&!o)return!1;for(var u=l;u--;){var f=a[u];if(!(o?f in e:_0.call(e,f)))return!1}var g=r.get(i),w=r.get(e);if(g&&w)return g==e&&w==i;var b=!0;r.set(i,e),r.set(e,i);for(var T=o;++u<l;){f=a[u];var P=i[f],j=e[f];if(n)var X=o?n(j,P,f,e,i,r):n(P,j,f,i,e,r);if(!(X===void 0?P===j||s(P,j,t,n,r):X)){b=!1;break}T||(T=f=="constructor")}if(b&&!T){var ee=i.constructor,se=e.constructor;ee!=se&&"constructor"in i&&"constructor"in e&&!(typeof ee=="function"&&ee instanceof ee&&typeof se=="function"&&se instanceof se)&&(b=!1)}return r.delete(i),r.delete(e),b}var x0=1,no="[object Arguments]",io="[object Array]",Kn="[object Object]",y0=Object.prototype,so=y0.hasOwnProperty;function v0(i,e,t,n,s,r){var o=le(i),a=le(e),l=o?io:An(i),c=a?io:An(e);l=l==no?Kn:l,c=c==no?Kn:c;var h=l==Kn,u=c==Kn,f=l==c;if(f&&Pn(i)){if(!Pn(e))return!1;o=!0,h=!1}if(f&&!h)return r||(r=new Ie),o||Zs(i)?Vl(i,e,t,n,s,r):g0(i,e,l,t,n,s,r);if(!(t&x0)){var g=h&&so.call(i,"__wrapped__"),w=u&&so.call(e,"__wrapped__");if(g||w){var b=g?i.value():i,T=w?e.value():e;return r||(r=new Ie),s(b,T,t,n,r)}}return f?(r||(r=new Ie),b0(i,e,t,n,s,r)):!1}function rr(i,e,t,n,s){return i===e?!0:i==null||e==null||!Ce(i)&&!Ce(e)?i!==i&&e!==e:v0(i,e,t,n,rr,s)}function k0(i){return function(e,t,n){for(var s=-1,r=Object(e),o=n(e),a=o.length;a--;){var l=o[i?a:++s];if(t(r[l],l,r)===!1)break}return e}}var C0=k0(),$i=function(){return Me.Date.now()},T0="Expected a function",P0=Math.max,E0=Math.min;function Mn(i,e,t){var n,s,r,o,a,l,c=0,h=!1,u=!1,f=!0;if(typeof i!="function")throw new TypeError(T0);e=Ir(e)||0,Z(t)&&(h=!!t.leading,u="maxWait"in t,r=u?P0(Ir(t.maxWait)||0,e):r,f="trailing"in t?!!t.trailing:f);function g(v){var E=n,k=s;return n=s=void 0,c=v,o=i.apply(k,E),o}function w(v){return c=v,a=setTimeout(P,e),h?g(v):o}function b(v){var E=v-l,k=v-c,H=e-E;return u?E0(H,r-k):H}function T(v){var E=v-l,k=v-c;return l===void 0||E>=e||E<0||u&&k>=r}function P(){var v=$i();if(T(v))return j(v);a=setTimeout(P,b(v))}function j(v){return a=void 0,f&&n?g(v):(n=s=void 0,o)}function X(){a!==void 0&&clearTimeout(a),c=0,n=l=s=a=void 0}function ee(){return a===void 0?o:j($i())}function se(){var v=$i(),E=T(v);if(n=arguments,s=this,l=v,E){if(a===void 0)return w(l);if(u)return clearTimeout(a),a=setTimeout(P,e),g(l)}return a===void 0&&(a=setTimeout(P,e)),o}return se.cancel=X,se.flush=ee,se}function ks(i,e,t){(t!==void 0&&!Un(i[e],t)||t===void 0&&!(e in i))&&qs(i,e,t)}function S0(i){return Ce(i)&&Pi(i)}function Cs(i,e){if(!(e==="constructor"&&typeof i[e]=="function")&&e!="__proto__")return i[e]}function A0(i){return en(i,tn(i))}function M0(i,e,t,n,s,r,o){var a=Cs(i,t),l=Cs(e,t),c=o.get(l);if(c){ks(i,t,c);return}var h=r?r(a,l,t+"",i,e,o):void 0,u=h===void 0;if(u){var f=le(l),g=!f&&Pn(l),w=!f&&!g&&Zs(l);h=l,f||g||w?le(a)?h=a:S0(a)?h=al(a):g?(u=!1,h=El(l,!0)):w?(u=!1,h=Fl(l,!0)):h=[]:ve(l)||ps(l)?(h=a,ps(a)?h=A0(a):(!Z(a)||Tt(a))&&(h=Rl(l))):u=!1}u&&(o.set(l,h),s(h,l,n,r,o),o.delete(l)),ks(i,t,h)}function Nl(i,e,t,n,s){i!==e&&C0(e,function(r,o){if(s||(s=new Ie),Z(r))M0(i,e,o,t,Nl,n,s);else{var a=n?n(Cs(i,o),r,o+"",i,e,s):void 0;a===void 0&&(a=r),ks(i,o,a)}},tn)}function F0(i){var e=i==null?0:i.length;return e?i[e-1]:void 0}var Ll=/[\\^$.*+?()[\]{}|]/g,R0=RegExp(Ll.source);function Wl(i){return i=Ys(i),i&&R0.test(i)?i.replace(Ll,"\\$&"):i}var O0="[object String]";function ro(i){return typeof i=="string"||!le(i)&&Ce(i)&&lt(i)==O0}function I0(i,e){return e.length<2?i:gl(i,_l(e,0,-1))}function Et(i){return Ce(i)&&i.nodeType===1&&!ve(i)}function oo(i,e){return rr(i,e)}function B0(i,e,t){t=typeof t=="function"?t:void 0;var n=t?t(i,e):void 0;return n===void 0?rr(i,e,void 0,t):!!n}var Hl=cl(function(i,e,t){Nl(i,e,t)});function D0(i,e){return e=Qs(e,i),i=I0(i,e),i==null||delete i[er(F0(e))]}function V0(i,e,t,n){if(!Z(i))return i;e=Qs(e,i);for(var s=-1,r=e.length,o=r-1,a=i;a!=null&&++s<r;){var l=er(e[s]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return i;if(s!=o){var h=a[l];c=n?n(h,l,a):void 0,c===void 0&&(c=Z(h)?h:Us(e[s+1])?[]:{})}Gs(a,l,c),a=a[l]}return i}function N0(i,e,t){return i==null?i:V0(i,e,t)}var L0="Expected a function";function mi(i,e,t){var n=!0,s=!0;if(typeof i!="function")throw new TypeError(L0);return Z(t)&&(n="leading"in t?!!t.leading:n,s="trailing"in t?!!t.trailing:s),Mn(i,e,{leading:n,maxWait:e,trailing:s})}function W0(i,e){return i==null?!0:D0(i,e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gi=Symbol("observableProperties"),Ai=Symbol("boundObservables"),pi=Symbol("boundProperties"),Bt=Symbol("decoratedMethods"),ao=Symbol("decoratedOriginal"),$l=q(N());function q(i){if(!i)return $l;class e extends i{set(n,s){if(Z(n)){Object.keys(n).forEach(o=>{this.set(o,n[o])},this);return}zi(this);const r=this[gi];if(n in this&&!r.has(n))throw new d("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get(){return r.get(n)},set(o){const a=r.get(n);let l=this.fire(`set:${n}`,n,o,a);l===void 0&&(l=o),(a!==l||!r.has(n))&&(r.set(n,l),this.fire(`change:${n}`,n,l,a))}}),this[n]=s}bind(...n){if(!n.length||!lo(n))throw new d("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new d("observable-bind-duplicate-properties",this);zi(this);const s=this[pi];n.forEach(o=>{if(s.has(o))throw new d("observable-bind-rebind",this)});const r=new Map;return n.forEach(o=>{const a={property:o,to:[]};s.set(o,a),r.set(o,a)}),{to:H0,toMany:$0,_observable:this,_bindProperties:n,_to:[],_bindings:r}}unbind(...n){if(!this[gi])return;const s=this[pi],r=this[Ai];if(n.length){if(!lo(n))throw new d("observable-unbind-wrong-properties",this);n.forEach(o=>{const a=s.get(o);a&&(a.to.forEach(([l,c])=>{const h=r.get(l),u=h[c];u.delete(a),u.size||delete h[c],Object.keys(h).length||(r.delete(l),this.stopListening(l,"change"))}),s.delete(o))})}else r.forEach((o,a)=>{this.stopListening(a,"change")}),r.clear(),s.clear()}decorate(n){zi(this);const s=this[n];if(!s)throw new d("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(r,o)=>{r.return=s.apply(this,o)}),this[n]=function(...r){return this.fire(n,r)},this[n][ao]=s,this[Bt]||(this[Bt]=[]),this[Bt].push(n)}stopListening(n,s,r){if(!n&&this[Bt]){for(const o of this[Bt])this[o]=this[o][ao];delete this[Bt]}super.stopListening(n,s,r)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{q[i]=$l.prototype[i]});function zi(i){i[gi]||(Object.defineProperty(i,gi,{value:new Map}),Object.defineProperty(i,Ai,{value:new Map}),Object.defineProperty(i,pi,{value:new Map}))}function H0(...i){const e=U0(...i),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new d("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new d("observable-bind-to-extra-callback",this);e.to.forEach(s=>{if(s.properties.length&&s.properties.length!==n)throw new d("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),j0(this._observable,this._to),G0(this),this._bindProperties.forEach(s=>{zl(this._observable,s)})}function $0(i,e,t){if(this._bindings.size>1)throw new d("observable-bind-to-many-not-one-binding",this);this.to(...z0(i,e),t)}function z0(i,e){const t=i.map(n=>[n,e]);return Array.prototype.concat.apply([],t)}function lo(i){return i.every(e=>typeof e=="string")}function U0(...i){if(!i.length)throw new d("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof i[i.length-1]=="function"&&(e.callback=i.pop()),i.forEach(n=>{if(typeof n=="string")t.properties.push(n);else if(typeof n=="object")t={observable:n,properties:[]},e.to.push(t);else throw new d("observable-bind-to-parse-error",null)}),e}function q0(i,e,t,n){const s=i[Ai],r=s.get(t),o=r||{};o[n]||(o[n]=new Set),o[n].add(e),r||s.set(t,o)}function G0(i){let e;i._bindings.forEach((t,n)=>{i._to.forEach(s=>{e=s.properties[t.callback?0:i._bindProperties.indexOf(n)],t.to.push([s.observable,e]),q0(i._observable,t,s.observable,e)})})}function zl(i,e){const n=i[pi].get(e);let s;n.callback?s=n.callback.apply(i,n.to.map(r=>r[0][r[1]])):(s=n.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(i,e)?i[e]=s:i.set(e,s)}function j0(i,e){e.forEach(t=>{const n=i[Ai];let s;n.get(t.observable)||i.listenTo(t.observable,"change",(r,o)=>{s=n.get(t.observable)[o],s&&s.forEach(a=>{zl(i,a.property)})})})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ul{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ts(i){let e=0;for(const t of i)e++;return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ae(i,e){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)if(i[n]!=e[n])return n;return i.length==e.length?"same":i.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function we(i){return!!(i&&i[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Fn(i,e,t={},n=[]){const s=t&&t.xmlns,r=s?i.createElementNS(s,e):i.createElement(e);for(const o in t)r.setAttribute(o,t[o]);(ro(n)||!we(n))&&(n=[n]);for(let o of n)ro(o)&&(o=i.createTextNode(o)),r.appendChild(o);return r}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ql{constructor(e,t){this._config={},t&&this.define(co(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,s=!1){if(ve(t)){this._setObjectToTarget(e,t,s);return}const r=t.split(".");t=r.pop();for(const o of r)ve(e[o])||(e[o]={}),e=e[o];if(ve(n)){ve(e[t])||(e[t]={}),e=e[t],this._setObjectToTarget(e,n,s);return}s&&typeof e[t]<"u"||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const s of n){if(!ve(e[s])){e=null;break}e=e[s]}return e?co(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(s=>{this._setToTarget(e,s,t[s],n)})}}function co(i){return sr(i,K0)}function K0(i){return Et(i)||typeof i=="function"?i:void 0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function at(i){if(i){if(i.defaultView)return i instanceof i.defaultView.Document;if(i.ownerDocument&&i.ownerDocument.defaultView)return i instanceof i.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wi(i){const e=Object.prototype.toString.apply(i);return e=="[object Window]"||e=="[object global]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Gl=Fe(N());function Fe(i){if(!i)return Gl;class e extends i{listenTo(n,s,r,o={}){if(at(n)||wi(n)){const a={capture:!!o.useCapture,passive:!!o.usePassive},l=this._getProxyEmitter(n,a)||new Z0(n,a);this.listenTo(l,s,r,o)}else super.listenTo(n,s,r,o)}stopListening(n,s,r){if(at(n)||wi(n)){const o=this._getAllProxyEmitters(n);for(const a of o)this.stopListening(a,s,r)}else super.stopListening(n,s,r)}_getProxyEmitter(n,s){return au(this,jl(n,s))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(n,s)).filter(s=>!!s)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{Fe[i]=Gl.prototype[i]});class Z0 extends N(){constructor(e,t){super(),el(this,jl(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),N().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){N().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function J0(i){return i["data-ck-expando"]||(i["data-ck-expando"]=Je())}function jl(i,e){let t=J0(i);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ps;try{Ps={window,document}}catch{/* istanbul ignore next -- @preserve */Ps={window:{},document:{}}}const y=Ps;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function X0(i){const e=[];let t=i;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Y0(i){return i instanceof HTMLTextAreaElement?i.value:i.innerHTML}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Kl(i){const e=i.ownerDocument.defaultView.getComputedStyle(i);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Y(i){return Object.prototype.toString.call(i)=="[object Text]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Mi(i){return Object.prototype.toString.apply(i)=="[object Range]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Zl(i){return!i||!i.parentNode||i.offsetParent===y.document.body?null:i.offsetParent}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Jl=["top","right","bottom","left","width","height"];class F{constructor(e){const t=Mi(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Es(e)||t)if(t){const n=F.getDomRangeRects(e);Zn(this,F.getBoundingRect(n))}else Zn(this,e.getBoundingClientRect());else if(wi(e)){const{innerWidth:n,innerHeight:s}=e;Zn(this,{top:0,right:n,bottom:s,left:0,width:n,height:s})}else Zn(this,e)}clone(){return new F(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const n=new F(t);return n._source=this._source,n}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(ho(e))return t;let n=e,s=e.parentNode||e.commonAncestorContainer,r;for(;s&&!ho(s);){const o=Q0(s)==="visible";n instanceof HTMLElement&&uo(n)==="absolute"&&(r=n);const a=uo(s);if(o||r&&(a==="relative"&&o||a!=="relative")){n=s,s=s.parentNode;continue}const l=new F(s),c=t.getIntersection(l);if(c)c.getArea()<t.getArea()&&(t=c);else return null;n=s,s=s.parentNode}return t}isEqual(e){for(const t of Jl)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=y.window,n=this.clone().moveBy(e,t);if(Es(n._source)){const s=Zl(n._source);s&&ep(n,s)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,s;if(wi(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const r=Kl(e);t=e.offsetWidth-e.clientWidth-r.left-r.right,n=e.offsetHeight-e.clientHeight-r.top-r.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,s==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const s of n)t.push(new F(s));else{let s=e.startContainer;Y(s)&&(s=s.parentNode);const r=new F(s.getBoundingClientRect());r.right=r.left,r.width=0,t.push(r)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const s of e)n++,t.left=Math.min(t.left,s.left),t.top=Math.min(t.top,s.top),t.right=Math.max(t.right,s.right),t.bottom=Math.max(t.bottom,s.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new F(t))}}function Zn(i,e){for(const t of Jl)i[t]=e[t]}function ho(i){return Es(i)?i===i.ownerDocument.body:!1}function Es(i){return i!==null&&typeof i=="object"&&i.nodeType===1&&typeof i.getBoundingClientRect=="function"}function uo(i){return i instanceof HTMLElement?i.ownerDocument.defaultView.getComputedStyle(i).position:"static"}function Q0(i){return i instanceof HTMLElement?i.ownerDocument.defaultView.getComputedStyle(i).overflow:"visible"}function ep(i,e){const t=new F(e),n=Kl(e);let s=0,r=0;s-=t.left,r-=t.top,s+=e.scrollLeft,r+=e.scrollTop,s-=n.left,r-=n.top,i.moveBy(s,r)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class W{constructor(e,t){W._observerInstance||W._createObserver(),this._element=e,this._callback=t,W._addElementCallback(e,t),W._observerInstance.observe(e)}get element(){return this._element}destroy(){W._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){W._elementCallbacks||(W._elementCallbacks=new Map);let n=W._elementCallbacks.get(e);n||(n=new Set,W._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=W._getElementCallbacks(e);n&&(n.delete(t),n.size||(W._elementCallbacks.delete(e),W._observerInstance.unobserve(e))),W._elementCallbacks&&!W._elementCallbacks.size&&(W._observerInstance=null,W._elementCallbacks=null)}static _getElementCallbacks(e){return W._elementCallbacks?W._elementCallbacks.get(e):null}static _createObserver(){W._observerInstance=new y.window.ResizeObserver(e=>{for(const t of e){const n=W._getElementCallbacks(t.target);if(n)for(const s of n)s(t)}})}}W._observerInstance=null;W._elementCallbacks=null;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function fo(i,e){i instanceof HTMLTextAreaElement&&(i.value=e),i.innerHTML=e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nn(i){return e=>e+i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Jn(i){let e=0;for(;i.previousSibling;)i=i.previousSibling,e++;return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Xl(i,e,t){i.insertBefore(t,i.childNodes[e]||null)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yn(i){return i&&i.nodeType===Node.COMMENT_NODE}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tp(i){try{y.document.createAttribute(i)}catch{return!1}return!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function St(i){return!!(i&&i.getClientRects&&i.getClientRects().length)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function or({element:i,target:e,positions:t,limiter:n,fitInViewport:s,viewportOffsetConfig:r}){Tt(e)&&(e=e()),Tt(n)&&(n=n());const o=Zl(i),a=np(r),l=new F(i),c=mo(e,a);let h;if(!c||!a.getIntersection(c))return null;const u={targetRect:c,elementRect:l,positionedElementAncestor:o,viewportRect:a};if(!n&&!s)h=new Yl(t[0],u);else{if(n){const f=mo(n,a);f&&(u.limiterRect=f)}h=ip(t,u)}return h}function mo(i,e){const t=new F(i).getVisible();return t?t.getIntersection(e):null}function np(i){i=Object.assign({top:0,bottom:0,left:0,right:0},i);const e=new F(y.window);return e.top+=i.top,e.height-=i.top,e.bottom-=i.bottom,e.height-=i.bottom,e}function ip(i,e){const{elementRect:t}=e,n=t.getArea(),s=i.map(a=>new Yl(a,e)).filter(a=>!!a.name);let r=0,o=null;for(const a of s){const{limiterIntersectionArea:l,viewportIntersectionArea:c}=a;if(l===n)return a;const h=c**2+l**2;h>r&&(r=h,o=a)}return o}class Yl{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:s,top:r,name:o,config:a}=n;this.name=o,this.config=a,this._positioningFunctionCoordinates={left:s,top:r},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function go(i){const e=i.parentNode;e&&e.removeChild(i)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sp({target:i,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:n,forceScroll:s}){const r=ar(i);let o=r,a=null;for(e=ap(e);o;){let l;o==r?l=po(i):l=po(a),op({parent:l,getRect:()=>wo(i,o),alignToTop:n,ancestorOffset:t,forceScroll:s});const c=wo(i,o);if(rp({window:o,rect:c,viewportOffset:e,alignToTop:n,forceScroll:s}),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function rp({window:i,rect:e,alignToTop:t,forceScroll:n,viewportOffset:s}){const r=e.clone().moveBy(0,s.bottom),o=e.clone().moveBy(0,-s.top),a=new F(i).excludeScrollbarsAndBorders(),l=[o,r],c=t&&n,h=l.every(b=>a.contains(b));let{scrollX:u,scrollY:f}=i;const g=u,w=f;c?f-=a.top-e.top+s.top:h||(ec(o,a)?f-=a.top-e.top+s.top:Ql(r,a)&&(t?f+=e.top-a.top-s.top:f+=e.bottom-a.bottom+s.bottom)),h||(tc(e,a)?u-=a.left-e.left+s.left:nc(e,a)&&(u+=e.right-a.right+s.right)),(u!=g||f!==w)&&i.scrollTo(u,f)}function op({parent:i,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:s=0,limiterElement:r}){const o=ar(i),a=t&&n;let l,c,h;const u=r||o.document.body;for(;i!=u;)c=e(),l=new F(i).excludeScrollbarsAndBorders(),h=l.contains(c),a?i.scrollTop-=l.top-c.top+s:h||(ec(c,l)?i.scrollTop-=l.top-c.top+s:Ql(c,l)&&(t?i.scrollTop+=c.top-l.top-s:i.scrollTop+=c.bottom-l.bottom+s)),h||(tc(c,l)?i.scrollLeft-=l.left-c.left+s:nc(c,l)&&(i.scrollLeft+=c.right-l.right+s)),i=i.parentNode}function Ql(i,e){return i.bottom>e.bottom}function ec(i,e){return i.top<e.top}function tc(i,e){return i.left<e.left}function nc(i,e){return i.right>e.right}function ar(i){return Mi(i)?i.startContainer.ownerDocument.defaultView:i.ownerDocument.defaultView}function po(i){if(Mi(i)){let e=i.commonAncestorContainer;return Y(e)&&(e=e.parentNode),e}else return i.parentNode}function wo(i,e){const t=ar(i),n=new F(i);if(t===e)return n;{let s=t;for(;s!=e;){const r=s.frameElement,o=new F(r).excludeScrollbarsAndBorders();n.moveBy(o.left,o.top),s=s.parent}}return n}function ap(i){return typeof i=="number"?{top:i,bottom:i,left:i,right:i}:i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const lp={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},cp={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},R=mp(),hp=Object.fromEntries(Object.entries(R).map(([i,e])=>[e,i.charAt(0).toUpperCase()+i.slice(1)]));function Zt(i){let e;if(typeof i=="string"){if(e=R[i.toLowerCase()],!e)throw new d("keyboard-unknown-key",null,{key:i})}else e=i.keyCode+(i.altKey?R.alt:0)+(i.ctrlKey?R.ctrl:0)+(i.shiftKey?R.shift:0)+(i.metaKey?R.cmd:0);return e}function lr(i){return typeof i=="string"&&(i=gp(i)),i.map(e=>typeof e=="string"?dp(e):e).reduce((e,t)=>t+e,0)}function _o(i){let e=lr(i);return Object.entries(A.isMac||A.isiOS?lp:cp).reduce((s,[r,o])=>(e&R[r]&&(e&=~R[r],s+=o),s),"")+(e?hp[e]:"")}function up(i){return i==R.arrowright||i==R.arrowleft||i==R.arrowup||i==R.arrowdown}function ic(i,e){const t=e==="ltr";switch(i){case R.arrowleft:return t?"left":"right";case R.arrowright:return t?"right":"left";case R.arrowup:return"up";case R.arrowdown:return"down"}}function dp(i){if(i.endsWith("!"))return Zt(i.slice(0,-1));const e=Zt(i);return(A.isMac||A.isiOS)&&e==R.ctrl?R.cmd:e}function fp(i,e){const t=ic(i,e);return t==="down"||t==="right"}function mp(){const i={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);i[t.toLowerCase()]=e}for(let e=48;e<=57;e++)i[e-48]=e;for(let e=112;e<=123;e++)i["f"+(e-111)]=e;for(const e of"`-=[];',./\\")i[e]=e.charCodeAt(0);return i}function gp(i){return i.split("+").map(e=>e.trim())}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const pp=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function bo(i){return pp.includes(i)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ke(i){return Array.isArray(i)?i:[i]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore else -- @preserve */y.window.CKEDITOR_TRANSLATIONS||(y.window.CKEDITOR_TRANSLATIONS={});function wp(i,e,t=1){if(typeof t!="number")throw new d("translation-service-quantity-not-a-number",null,{quantity:t});const n=bp();n===1&&(i=Object.keys(y.window.CKEDITOR_TRANSLATIONS)[0]);const s=e.id||e.string;if(n===0||!_p(i,s))return t!==1?e.plural:e.string;const r=y.window.CKEDITOR_TRANSLATIONS[i].dictionary,o=y.window.CKEDITOR_TRANSLATIONS[i].getPluralForm||(c=>c===1?0:1),a=r[s];if(typeof a=="string")return a;const l=Number(o(t));return a[l]}function _p(i,e){return!!y.window.CKEDITOR_TRANSLATIONS[i]&&!!y.window.CKEDITOR_TRANSLATIONS[i].dictionary[e]}function bp(){return Object.keys(y.window.CKEDITOR_TRANSLATIONS).length}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xp{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=bo(this.uiLanguage),this.contentLanguageDirection=bo(this.contentLanguage),this.t=(n,s)=>this._t(n,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=ke(t),typeof e=="string"&&(e={string:e});const s=!!e.plural?t[0]:1,r=wp(this.uiLanguage,e,s);return yp(r,t)}}function yp(i,e){return i.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ht extends N(){constructor(e={},t={}){super();const n=we(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new d("collection-add-item-invalid-index",this);let n=0;for(const s of e){const r=this._getItemIdBeforeAdding(s),o=t+n;this._items.splice(o,0,s),this._itemMap.set(r,s),this.fire("add",s,o),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new d("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,n=e[t];return n&&this._itemMap.has(n)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new d("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(s,r,o)=>{const a=t._bindToCollection==this,l=t._bindToInternalToExternalMap.get(r);if(a&&l)this._bindToExternalToInternalMap.set(r,l),this._bindToInternalToExternalMap.set(l,r);else{const c=e(r);if(!c){this._skippedIndexesFromExternal.push(o);return}let h=o;for(const u of this._skippedIndexesFromExternal)o>u&&h--;for(const u of t._skippedIndexesFromExternal)h>=u&&h++;this._bindToExternalToInternalMap.set(r,c),this._bindToInternalToExternalMap.set(c,r),this.add(c,h);for(let u=0;u<t._skippedIndexesFromExternal.length;u++)h<=t._skippedIndexesFromExternal[u]&&t._skippedIndexesFromExternal[u]++}};for(const s of t)n(null,s,t.getIndex(s));this.listenTo(t,"add",n),this.listenTo(t,"remove",(s,r,o)=>{const a=this._bindToExternalToInternalMap.get(r);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((l,c)=>(o<c&&l.push(c-1),o>c&&l.push(c),l),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new d("collection-add-invalid-id",this);if(this.get(n))throw new d("collection-add-item-already-exists",this)}else e[t]=n=Je();return n}_remove(e){let t,n,s,r=!1;const o=this._idProperty;if(typeof e=="string"?(n=e,s=this._itemMap.get(n),r=!s,s&&(t=this._items.indexOf(s))):typeof e=="number"?(t=e,s=this._items[t],r=!s,s&&(n=s[o])):(s=e,n=s[o],t=this._items.indexOf(s),r=t==-1||!this._itemMap.get(n)),r)throw new d("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const a=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(a),this.fire("remove",s,t),[s,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ne(i){const e=i.next();return e.done?null:e.value}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class be extends Fe(q()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new d("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class We{constructor(){this._listener=new(Fe())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+Zt(n),n)})}set(e,t,n={}){const s=lr(e),r=n.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(o,a)=>{t(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0},{priority:r})}press(e){return!!this._listener.fire("_keydown:"+Zt(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vp(i){const e=new Map;for(const t in i)e.set(t,i[t]);return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Xe(i){return we(i)?new Map(i):vp(i)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const kp=1e4;function Cp(i,e,t,n){if(Math.max(e.length,i.length)>kp)return i.slice(0,t).concat(e).concat(i.slice(t+n,i.length));{const s=Array.from(i);return s.splice(t,n,...e),s}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cr(i,e){let t;function n(...s){n.cancel(),t=setTimeout(()=>i(...s),e)}return n.cancel=()=>{clearTimeout(t)},n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Tp(i){function e(u){return u.length>=40&&u.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let t="";try{t=atob(i)}catch{return"INVALID"}const n=t.split("-"),s=n[0],r=n[1];if(!r)return e(i);try{atob(r)}catch{try{if(atob(s),!atob(s).length)return e(i)}catch{return e(i)}}if(s.length<40||s.length>255)return"INVALID";let o="";try{atob(s),o=atob(r)}catch{return"INVALID"}if(o.length!==8)return"INVALID";const a=Number(o.substring(0,4)),l=Number(o.substring(4,6))-1,c=Number(o.substring(6,8)),h=new Date(a,l,c);return h<ou||isNaN(Number(h))?"INVALID":"VALID"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pp(i){return!!i&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i)}function Ep(i){return!!i&&i.length==1&&/[\ud800-\udbff]/.test(i)}function Sp(i){return!!i&&i.length==1&&/[\udc00-\udfff]/.test(i)}function hr(i,e){return Ep(i.charAt(e-1))&&Sp(i.charAt(e))}function ur(i,e){return Pp(i.charAt(e))}const Ap=Mp();function sc(i,e){const t=String(i).matchAll(Ap);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}function Mp(){const i=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+i.map(s=>s.source).join("|")+")",n=`${e}|${t}(?:‍${t})*`;return new RegExp(n,"ug")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Le extends ht{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,s)=>{this._renderViewIntoCollectionParent(n,s)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!Fp(e))throw new d("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const s of e)n.delegate(s).to(t);this.on("add",(n,s)=>{for(const r of e)s.delegate(r).to(t)}),this.on("remove",(n,s)=>{for(const r of e)s.stopDelegating(r,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function Fp(i){return i.every(e=>typeof e=="string")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let S=class extends Fe(q()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ht,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Be.bind(this,this)}createCollection(e){const t=new Le(e);return this._viewCollections.add(t),t}registerChild(e){we(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){we(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Be(e)}extendTemplate(e){Be.extend(this.template,e)}render(){if(this.isRendered)throw new d("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Rp="http://www.w3.org/1999/xhtml";class Be extends N(){constructor(e){super(),Object.assign(this,yo(xo(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=Co(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new d("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const n of t.children)_i(n)?yield n:dr(n)&&(yield*e(n))}yield*e(this)}static bind(e,t){return{to(n,s){return new Op({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:s})},if(n,s,r){return new rc({observable:e,emitter:t,attribute:n,valueIfTrue:s,callback:r})}}}static extend(e,t){if(e._isRendered)throw new d("template-extend-render",[this,e]);cc(e,yo(xo(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new d("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||Rp,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),oi(this.text)?this._bindToObservable({schema:this.text,updater:Bp(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const s in this.attributes){const r=t.getAttribute(s),o=this.attributes[s];n&&(n.attributes[s]=r);const a=ko(o)?o[0].ns:null;if(oi(o)){const l=ko(o)?o[0].value:o;n&&To(s)&&l.unshift(r),this._bindToObservable({schema:l,updater:Dp(t,s,a),data:e})}else if(s=="style"&&typeof o[0]!="string")this._renderStyleAttribute(o[0],e);else{n&&r&&To(s)&&o.unshift(r);const l=o.map(c=>c&&(c.value||c)).reduce((c,h)=>c.concat(h),[]).reduce(lc,"");Jt(l)||t.setAttributeNS(a,s,l)}}}_renderStyleAttribute(e,t){const n=t.node;for(const s in e){const r=e[s];oi(r)?this._bindToObservable({schema:[r],updater:Vp(n,s),data:t}):n.style[s]=r}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,s=e.isApplying;let r=0;for(const o of this.children)if(fr(o)){if(!s){o.setParent(t);for(const a of o)n.appendChild(a.element)}}else if(_i(o))s||(o.isRendered||o.render(),n.appendChild(o.element));else if(at(o))n.appendChild(o);else if(s){const a=e.revertData,l=Co();a.children.push(l),o._renderNode({intoFragment:!1,node:n.childNodes[r++],isApplying:!0,revertData:l})}else n.appendChild(o.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(s=>{const[r,o]=t.split("@");return s.activateDomEventListener(r,o,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const s=n.revertData;oc(e,t,n);const r=e.filter(o=>!Jt(o)).filter(o=>o.observable).map(o=>o.activateAttributeListener(e,t,n));s&&s.bindings.push(r)}_revertTemplateFromNode(e,t){for(const s of t.bindings)for(const r of s)r();if(t.text){e.textContent=t.text;return}const n=e;for(const s in t.attributes){const r=t.attributes[s];r===null?n.removeAttribute(s):n.setAttribute(s,r)}for(let s=0;s<t.children.length;++s)this._revertTemplateFromNode(n.childNodes[s],t.children[s])}}class qn{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const s=()=>oc(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class Op extends qn{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const s=(r,o)=>{(!t||o.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(n.node,e,s),()=>{this.emitter.stopListening(n.node,e,s)}}}class rc extends qn{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return Jt(t)?!1:this.valueIfTrue||!0}}function oi(i){return i?(i.value&&(i=i.value),Array.isArray(i)?i.some(oi):i instanceof qn):!1}function Ip(i,e){return i.map(t=>t instanceof qn?t.getValue(e):t)}function oc(i,e,{node:t}){const n=Ip(i,t);let s;i.length==1&&i[0]instanceof rc?s=n[0]:s=n.reduce(lc,""),Jt(s)?e.remove():e.set(s)}function Bp(i){return{set(e){i.textContent=e},remove(){i.textContent=""}}}function Dp(i,e,t){return{set(n){i.setAttributeNS(t,e,n)},remove(){i.removeAttributeNS(t,e)}}}function Vp(i,e){return{set(t){i.style[e]=t},remove(){i.style[e]=null}}}function xo(i){return sr(i,t=>{if(t&&(t instanceof qn||dr(t)||_i(t)||fr(t)))return t})}function yo(i){if(typeof i=="string"?i=Wp(i):i.text&&Hp(i),i.on&&(i.eventListeners=Lp(i.on),delete i.on),!i.text){i.attributes&&Np(i.attributes);const e=[];if(i.children)if(fr(i.children))e.push(i.children);else for(const t of i.children)dr(t)||_i(t)||at(t)?e.push(t):e.push(new Be(t));i.children=e}return i}function Np(i){for(const e in i)i[e].value&&(i[e].value=ke(i[e].value)),ac(i,e)}function Lp(i){for(const e in i)ac(i,e);return i}function Wp(i){return{text:[i]}}function Hp(i){i.text=ke(i.text)}function ac(i,e){i[e]=ke(i[e])}function lc(i,e){return Jt(e)?i:Jt(i)?e:`${i} ${e}`}function vo(i,e){for(const t in e)i[t]?i[t].push(...e[t]):i[t]=e[t]}function cc(i,e){if(e.attributes&&(i.attributes||(i.attributes={}),vo(i.attributes,e.attributes)),e.eventListeners&&(i.eventListeners||(i.eventListeners={}),vo(i.eventListeners,e.eventListeners)),e.text&&i.text.push(...e.text),e.children&&e.children.length){if(i.children.length!=e.children.length)throw new d("ui-template-extend-children-mismatch",i);let t=0;for(const n of e.children)cc(i.children[t++],n)}}function Jt(i){return!i&&i!==0}function _i(i){return i instanceof S}function dr(i){return i instanceof Be}function fr(i){return i instanceof Le}function ko(i){return Z(i[0])&&i[0].ns}function Co(){return{children:[],bindings:[],attributes:{}}}function To(i){return i=="class"||i=="style"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $p extends Le{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Be({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Fn(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ut extends S{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=t.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:s,value:r}of Array.from(t.attributes))ut.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}ut.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zp extends S{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class z extends S{constructor(e,t=new zp){super(e),this._focusDelayed=null;const n=this.bindTemplate,s=Je();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new ut,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const r={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",o=>!o),n.if("isVisible","ck-hidden",o=>!o),n.to("isOn",o=>o?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",o=>o||"button"),tabindex:n.to("tabindex"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,o=>!o),"aria-pressed":n.to("isOn",o=>this.isToggleable?String(!!o):!1),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(o=>{this.isEnabled?this.fire("execute"):o.preventDefault()})}};A.isSafari&&(this._focusDelayed||(this._focusDelayed=cr(()=>this.focus(),0)),r.on.mousedown=n.to(()=>{this._focusDelayed()}),r.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(r)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new S;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>_o(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=_o(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hc extends z{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new S;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}const uc='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var Up={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const Rn=Up,dc={};for(const i of Object.keys(Rn))dc[Rn[i]]=i;const x={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var fc=x;for(const i of Object.keys(x)){if(!("channels"in x[i]))throw new Error("missing channels property: "+i);if(!("labels"in x[i]))throw new Error("missing channel labels property: "+i);if(x[i].labels.length!==x[i].channels)throw new Error("channel and label counts mismatch: "+i);const{channels:e,labels:t}=x[i];delete x[i].channels,delete x[i].labels,Object.defineProperty(x[i],"channels",{value:e}),Object.defineProperty(x[i],"labels",{value:t})}x.rgb.hsl=function(i){const e=i[0]/255,t=i[1]/255,n=i[2]/255,s=Math.min(e,t,n),r=Math.max(e,t,n),o=r-s;let a,l;r===s?a=0:e===r?a=(t-n)/o:t===r?a=2+(n-e)/o:n===r&&(a=4+(e-t)/o),a=Math.min(a*60,360),a<0&&(a+=360);const c=(s+r)/2;return r===s?l=0:c<=.5?l=o/(r+s):l=o/(2-r-s),[a,l*100,c*100]};x.rgb.hsv=function(i){let e,t,n,s,r;const o=i[0]/255,a=i[1]/255,l=i[2]/255,c=Math.max(o,a,l),h=c-Math.min(o,a,l),u=function(f){return(c-f)/6/h+1/2};return h===0?(s=0,r=0):(r=h/c,e=u(o),t=u(a),n=u(l),o===c?s=n-t:a===c?s=1/3+e-n:l===c&&(s=2/3+t-e),s<0?s+=1:s>1&&(s-=1)),[s*360,r*100,c*100]};x.rgb.hwb=function(i){const e=i[0],t=i[1];let n=i[2];const s=x.rgb.hsl(i)[0],r=1/255*Math.min(e,Math.min(t,n));return n=1-1/255*Math.max(e,Math.max(t,n)),[s,r*100,n*100]};x.rgb.cmyk=function(i){const e=i[0]/255,t=i[1]/255,n=i[2]/255,s=Math.min(1-e,1-t,1-n),r=(1-e-s)/(1-s)||0,o=(1-t-s)/(1-s)||0,a=(1-n-s)/(1-s)||0;return[r*100,o*100,a*100,s*100]};function qp(i,e){return(i[0]-e[0])**2+(i[1]-e[1])**2+(i[2]-e[2])**2}x.rgb.keyword=function(i){const e=dc[i];if(e)return e;let t=1/0,n;for(const s of Object.keys(Rn)){const r=Rn[s],o=qp(i,r);o<t&&(t=o,n=s)}return n};x.keyword.rgb=function(i){return Rn[i]};x.rgb.xyz=function(i){let e=i[0]/255,t=i[1]/255,n=i[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const s=e*.4124+t*.3576+n*.1805,r=e*.2126+t*.7152+n*.0722,o=e*.0193+t*.1192+n*.9505;return[s*100,r*100,o*100]};x.rgb.lab=function(i){const e=x.rgb.xyz(i);let t=e[0],n=e[1],s=e[2];t/=95.047,n/=100,s/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;const r=116*n-16,o=500*(t-n),a=200*(n-s);return[r,o,a]};x.hsl.rgb=function(i){const e=i[0]/360,t=i[1]/100,n=i[2]/100;let s,r,o;if(t===0)return o=n*255,[o,o,o];n<.5?s=n*(1+t):s=n+t-n*t;const a=2*n-s,l=[0,0,0];for(let c=0;c<3;c++)r=e+1/3*-(c-1),r<0&&r++,r>1&&r--,6*r<1?o=a+(s-a)*6*r:2*r<1?o=s:3*r<2?o=a+(s-a)*(2/3-r)*6:o=a,l[c]=o*255;return l};x.hsl.hsv=function(i){const e=i[0];let t=i[1]/100,n=i[2]/100,s=t;const r=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,s*=r<=1?r:2-r;const o=(n+t)/2,a=n===0?2*s/(r+s):2*t/(n+t);return[e,a*100,o*100]};x.hsv.rgb=function(i){const e=i[0]/60,t=i[1]/100;let n=i[2]/100;const s=Math.floor(e)%6,r=e-Math.floor(e),o=255*n*(1-t),a=255*n*(1-t*r),l=255*n*(1-t*(1-r));switch(n*=255,s){case 0:return[n,l,o];case 1:return[a,n,o];case 2:return[o,n,l];case 3:return[o,a,n];case 4:return[l,o,n];case 5:return[n,o,a]}};x.hsv.hsl=function(i){const e=i[0],t=i[1]/100,n=i[2]/100,s=Math.max(n,.01);let r,o;o=(2-t)*n;const a=(2-t)*s;return r=t*s,r/=a<=1?a:2-a,r=r||0,o/=2,[e,r*100,o*100]};x.hwb.rgb=function(i){const e=i[0]/360;let t=i[1]/100,n=i[2]/100;const s=t+n;let r;s>1&&(t/=s,n/=s);const o=Math.floor(6*e),a=1-n;r=6*e-o,o&1&&(r=1-r);const l=t+r*(a-t);let c,h,u;switch(o){default:case 6:case 0:c=a,h=l,u=t;break;case 1:c=l,h=a,u=t;break;case 2:c=t,h=a,u=l;break;case 3:c=t,h=l,u=a;break;case 4:c=l,h=t,u=a;break;case 5:c=a,h=t,u=l;break}return[c*255,h*255,u*255]};x.cmyk.rgb=function(i){const e=i[0]/100,t=i[1]/100,n=i[2]/100,s=i[3]/100,r=1-Math.min(1,e*(1-s)+s),o=1-Math.min(1,t*(1-s)+s),a=1-Math.min(1,n*(1-s)+s);return[r*255,o*255,a*255]};x.xyz.rgb=function(i){const e=i[0]/100,t=i[1]/100,n=i[2]/100;let s,r,o;return s=e*3.2406+t*-1.5372+n*-.4986,r=e*-.9689+t*1.8758+n*.0415,o=e*.0557+t*-.204+n*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=Math.min(Math.max(0,s),1),r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),[s*255,r*255,o*255]};x.xyz.lab=function(i){let e=i[0],t=i[1],n=i[2];e/=95.047,t/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const s=116*t-16,r=500*(e-t),o=200*(t-n);return[s,r,o]};x.lab.xyz=function(i){const e=i[0],t=i[1],n=i[2];let s,r,o;r=(e+16)/116,s=t/500+r,o=r-n/200;const a=r**3,l=s**3,c=o**3;return r=a>.008856?a:(r-16/116)/7.787,s=l>.008856?l:(s-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,s*=95.047,r*=100,o*=108.883,[s,r,o]};x.lab.lch=function(i){const e=i[0],t=i[1],n=i[2];let s;s=Math.atan2(n,t)*360/2/Math.PI,s<0&&(s+=360);const o=Math.sqrt(t*t+n*n);return[e,o,s]};x.lch.lab=function(i){const e=i[0],t=i[1],s=i[2]/360*2*Math.PI,r=t*Math.cos(s),o=t*Math.sin(s);return[e,r,o]};x.rgb.ansi16=function(i,e=null){const[t,n,s]=i;let r=e===null?x.rgb.hsv(i)[2]:e;if(r=Math.round(r/50),r===0)return 30;let o=30+(Math.round(s/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return r===2&&(o+=60),o};x.hsv.ansi16=function(i){return x.rgb.ansi16(x.hsv.rgb(i),i[2])};x.rgb.ansi256=function(i){const e=i[0],t=i[1],n=i[2];return e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5)};x.ansi16.rgb=function(i){let e=i%10;if(e===0||e===7)return i>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const t=(~~(i>50)+1)*.5,n=(e&1)*t*255,s=(e>>1&1)*t*255,r=(e>>2&1)*t*255;return[n,s,r]};x.ansi256.rgb=function(i){if(i>=232){const r=(i-232)*10+8;return[r,r,r]}i-=16;let e;const t=Math.floor(i/36)/5*255,n=Math.floor((e=i%36)/6)/5*255,s=e%6/5*255;return[t,n,s]};x.rgb.hex=function(i){const t=(((Math.round(i[0])&255)<<16)+((Math.round(i[1])&255)<<8)+(Math.round(i[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};x.hex.rgb=function(i){const e=i.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=t.split("").map(a=>a+a).join(""));const n=parseInt(t,16),s=n>>16&255,r=n>>8&255,o=n&255;return[s,r,o]};x.rgb.hcg=function(i){const e=i[0]/255,t=i[1]/255,n=i[2]/255,s=Math.max(Math.max(e,t),n),r=Math.min(Math.min(e,t),n),o=s-r;let a,l;return o<1?a=r/(1-o):a=0,o<=0?l=0:s===e?l=(t-n)/o%6:s===t?l=2+(n-e)/o:l=4+(e-t)/o,l/=6,l%=1,[l*360,o*100,a*100]};x.hsl.hcg=function(i){const e=i[1]/100,t=i[2]/100,n=t<.5?2*e*t:2*e*(1-t);let s=0;return n<1&&(s=(t-.5*n)/(1-n)),[i[0],n*100,s*100]};x.hsv.hcg=function(i){const e=i[1]/100,t=i[2]/100,n=e*t;let s=0;return n<1&&(s=(t-n)/(1-n)),[i[0],n*100,s*100]};x.hcg.rgb=function(i){const e=i[0]/360,t=i[1]/100,n=i[2]/100;if(t===0)return[n*255,n*255,n*255];const s=[0,0,0],r=e%1*6,o=r%1,a=1-o;let l=0;switch(Math.floor(r)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a}return l=(1-t)*n,[(t*s[0]+l)*255,(t*s[1]+l)*255,(t*s[2]+l)*255]};x.hcg.hsv=function(i){const e=i[1]/100,t=i[2]/100,n=e+t*(1-e);let s=0;return n>0&&(s=e/n),[i[0],s*100,n*100]};x.hcg.hsl=function(i){const e=i[1]/100,n=i[2]/100*(1-e)+.5*e;let s=0;return n>0&&n<.5?s=e/(2*n):n>=.5&&n<1&&(s=e/(2*(1-n))),[i[0],s*100,n*100]};x.hcg.hwb=function(i){const e=i[1]/100,t=i[2]/100,n=e+t*(1-e);return[i[0],(n-e)*100,(1-n)*100]};x.hwb.hcg=function(i){const e=i[1]/100,n=1-i[2]/100,s=n-e;let r=0;return s<1&&(r=(n-s)/(1-s)),[i[0],s*100,r*100]};x.apple.rgb=function(i){return[i[0]/65535*255,i[1]/65535*255,i[2]/65535*255]};x.rgb.apple=function(i){return[i[0]/255*65535,i[1]/255*65535,i[2]/255*65535]};x.gray.rgb=function(i){return[i[0]/100*255,i[0]/100*255,i[0]/100*255]};x.gray.hsl=function(i){return[0,0,i[0]]};x.gray.hsv=x.gray.hsl;x.gray.hwb=function(i){return[0,100,i[0]]};x.gray.cmyk=function(i){return[0,0,0,i[0]]};x.gray.lab=function(i){return[i[0],0,0]};x.gray.hex=function(i){const e=Math.round(i[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};x.rgb.gray=function(i){return[(i[0]+i[1]+i[2])/3/255*100]};const bi=fc;function Gp(){const i={},e=Object.keys(bi);for(let t=e.length,n=0;n<t;n++)i[e[n]]={distance:-1,parent:null};return i}function jp(i){const e=Gp(),t=[i];for(e[i].distance=0;t.length;){const n=t.pop(),s=Object.keys(bi[n]);for(let r=s.length,o=0;o<r;o++){const a=s[o],l=e[a];l.distance===-1&&(l.distance=e[n].distance+1,l.parent=n,t.unshift(a))}}return e}function Kp(i,e){return function(t){return e(i(t))}}function Zp(i,e){const t=[e[i].parent,i];let n=bi[e[i].parent][i],s=e[i].parent;for(;e[s].parent;)t.unshift(e[s].parent),n=Kp(bi[e[s].parent][s],n),s=e[s].parent;return n.conversion=t,n}var Jp=function(i){const e=jp(i),t={},n=Object.keys(e);for(let s=n.length,r=0;r<s;r++){const o=n[r];e[o].parent!==null&&(t[o]=Zp(o,e))}return t};const Ss=fc,Xp=Jp,an={},Yp=Object.keys(Ss);function Qp(i){const e=function(...t){const n=t[0];return n==null?n:(n.length>1&&(t=n),i(t))};return"conversion"in i&&(e.conversion=i.conversion),e}function e1(i){const e=function(...t){const n=t[0];if(n==null)return n;n.length>1&&(t=n);const s=i(t);if(typeof s=="object")for(let r=s.length,o=0;o<r;o++)s[o]=Math.round(s[o]);return s};return"conversion"in i&&(e.conversion=i.conversion),e}Yp.forEach(i=>{an[i]={},Object.defineProperty(an[i],"channels",{value:Ss[i].channels}),Object.defineProperty(an[i],"labels",{value:Ss[i].labels});const e=Xp(i);Object.keys(e).forEach(n=>{const s=e[n];an[i][n]=e1(s),an[i][n].raw=Qp(s)})});/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mc extends S{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Je()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gc extends S{constructor(e,t){super(e);const n=`ck-labeled-field-view-${Je()}`,s=`ck-labeled-field-view-status-${Je()}`;this.fieldView=t(this,n,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(o,a)=>o||a);const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",o=>!o),r.if("isEmpty","ck-labeled-field-view_empty"),r.if("isFocused","ck-labeled-field-view_focused"),r.if("placeholder","ck-labeled-field-view_placeholder"),r.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new mc(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new S(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",s=>!s)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class t1 extends S{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new be,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=n1(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function n1(i){return!i.value}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class i1 extends t1{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class s1 extends i1{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r1 extends S{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():ne("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xt extends S{constructor(e,t,n){super(e);const s=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new We,this.focusTracker=new be,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",r=>!r)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(t,n,s)=>{if(s)if(this.panelPosition==="auto"){const r=Xt._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,n)=>{this.isOpen&&(this.isOpen=!1,n())};this.keystrokes.set("arrowdown",(t,n)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,n())}),this.keystrokes.set("arrowright",(t,n)=>{this.isOpen&&n()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:n,southWest:s,northEast:r,northWest:o,southMiddleEast:a,southMiddleWest:l,northMiddleEast:c,northMiddleWest:h}=Xt.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[n,s,a,l,e,r,o,c,h,t]:[s,n,l,a,e,o,r,h,c,t]}}Xt.defaultPanelPositions={south:(i,e)=>({top:i.bottom,left:i.left-(e.width-i.width)/2,name:"s"}),southEast:i=>({top:i.bottom,left:i.left,name:"se"}),southWest:(i,e)=>({top:i.bottom,left:i.left-e.width+i.width,name:"sw"}),southMiddleEast:(i,e)=>({top:i.bottom,left:i.left-(e.width-i.width)/4,name:"sme"}),southMiddleWest:(i,e)=>({top:i.bottom,left:i.left-(e.width-i.width)*3/4,name:"smw"}),north:(i,e)=>({top:i.top-e.height,left:i.left-(e.width-i.width)/2,name:"n"}),northEast:(i,e)=>({top:i.top-e.height,left:i.left,name:"ne"}),northWest:(i,e)=>({top:i.top-e.height,left:i.left-e.width+i.width,name:"nw"}),northMiddleEast:(i,e)=>({top:i.top-e.height,left:i.left-(e.width-i.width)/4,name:"nme"}),northMiddleWest:(i,e)=>({top:i.top-e.height,left:i.left-(e.width-i.width)*3/4,name:"nmw"})};Xt._getOptimalPosition=or;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class o1 extends z{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new ut;return e.content=uc,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tt extends N(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const s of n)e.keystrokeHandler.set(s,(r,o)=>{this[t](),o()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Ui)||null}get last(){return this.focusables.filter(Ui).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const s=t.element===this.focusTracker.focusedElement;return s&&(e=n),s}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const n=this.current;if(n===null)return this[e===1?"first":"last"];let s=this.focusables.get(n),r=(n+t+e)%t;do{const o=this.focusables.get(r);if(Ui(o)){s=o;break}r=(r+t+e)%t}while(r!==n);return s}}function Ui(i){return Gn(i)&&St(i.element)}function Gn(i){return"focus"in i&&typeof i.focus=="function"}function a1(i){return Gn(i)&&"focusCycler"in i&&i.focusCycler instanceof tt}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pc extends S{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class l1 extends S{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function c1(i){return i.bindTemplate.to(e=>{e.target===i.element&&e.preventDefault()})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wc(i){if(Array.isArray(i))return{items:i,removeItems:[]};const e={items:[],removeItems:[]};return i?{...e,...i}:e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class C extends q(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Po,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Po),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Po(i){i.return=!1,i.stop()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xe extends q(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const n=e.model.document.selection,r=!(n.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!r)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Eo,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Eo),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Eo(i){i.return=!1,i.stop()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _c extends N(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const s of t)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,r]of n)this._contextPlugins.set(s,r),this._contextPlugins.set(r,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new d("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const s=this,r=this._context;g(e),b(e);const o=e.filter(v=>!u(v,t)),a=[...w(o)];se(a,n);const l=X(a);return ee(l,"init").then(()=>ee(l,"afterInit")).then(()=>l);function c(v){return typeof v=="function"}function h(v){return c(v)&&!!v.isContextPlugin}function u(v,E){return E.some(k=>k===v||f(v)===k||f(k)===v)}function f(v){return c(v)?v.pluginName||v.name:v}function g(v,E=new Set){v.forEach(k=>{c(k)&&(E.has(k)||(E.add(k),k.pluginName&&!s._availablePlugins.has(k.pluginName)&&s._availablePlugins.set(k.pluginName,k),k.requires&&g(k.requires,E)))})}function w(v,E=new Set){return v.map(k=>c(k)?k:s._availablePlugins.get(k)).reduce((k,H)=>E.has(H)?k:(E.add(H),H.requires&&(b(H.requires,H),w(H.requires,E).forEach(ft=>k.add(ft))),k.add(H)),new Set)}function b(v,E=null){v.map(k=>c(k)?k:s._availablePlugins.get(k)||k).forEach(k=>{T(k,E),P(k,E),j(k,E)})}function T(v,E){if(!c(v))throw E?new d("plugincollection-soft-required",r,{missingPlugin:v,requiredBy:f(E)}):new d("plugincollection-plugin-not-found",r,{plugin:v})}function P(v,E){if(h(E)&&!h(v))throw new d("plugincollection-context-required",r,{plugin:f(v),requiredBy:f(E)})}function j(v,E){if(E&&u(v,t))throw new d("plugincollection-required",r,{plugin:f(v),requiredBy:f(E)})}function X(v){return v.map(E=>{let k=s._contextPlugins.get(E);return k=k||new E(r),s._add(E,k),k})}function ee(v,E){return v.reduce((k,H)=>!H[E]||s._contextPlugins.has(H)?k:k.then(H[E].bind(H)),Promise.resolve())}function se(v,E){for(const k of E){if(typeof k!="function")throw new d("plugincollection-replace-plugin-invalid-type",null,{pluginItem:k});const H=k.pluginName;if(!H)throw new d("plugincollection-replace-plugin-missing-name",null,{pluginItem:k});if(k.requires&&k.requires.length)throw new d("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:H});const ft=s._availablePlugins.get(H);if(!ft)throw new d("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:H});const Tr=v.indexOf(ft);if(Tr===-1){if(s._contextPlugins.has(ft))return;throw new d("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:H})}if(ft.requires&&ft.requires.length)throw new d("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:H});v.splice(Tr,1,k),s._availablePlugins.set(H,k)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new d("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bc{constructor(e){this._contextOwner=null,this.config=new ql(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new _c(this,t);const n=this.config.get("language")||{};this.locale=new xp({uiLanguage:typeof n=="string"?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new ht}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new d("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new d("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new d("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class h1 extends q(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ai=new WeakMap;let So=!1;function u1({view:i,element:e,text:t,isDirectHost:n=!0,keepOnFocus:s=!1}){const r=i.document;ai.has(r)||(ai.set(r,new Map),r.registerPostFixer(a=>qi(r,a)),r.on("change:isComposing",()=>{i.change(a=>qi(r,a))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(a,l,c)=>{o(c)}),e.placeholder?o(e.placeholder):t&&o(t),t&&p1();function o(a){ai.get(r).set(e,{text:a,isDirectHost:n,keepOnFocus:s,hostElement:n?e:null}),i.change(l=>qi(r,l))}}function d1(i,e){return e.hasClass("ck-placeholder")?!1:(i.addClass("ck-placeholder",e),!0)}function f1(i,e){return e.hasClass("ck-placeholder")?(i.removeClass("ck-placeholder",e),!0):!1}function m1(i,e){if(!i.isAttached()||Array.from(i.getChildren()).some(o=>!o.is("uiElement")))return!1;const n=i.document,r=n.selection.anchor;return n.isComposing&&r&&r.parent===i?!1:e||!n.isFocused?!0:!!r&&r.parent!==i}function qi(i,e){const t=ai.get(i),n=[];let s=!1;for(const[r,o]of t)o.isDirectHost&&(n.push(r),Ao(e,r,o)&&(s=!0));for(const[r,o]of t){if(o.isDirectHost)continue;const a=g1(r);a&&(n.includes(a)||(o.hostElement=a,Ao(e,r,o)&&(s=!0)))}return s}function Ao(i,e,t){const{text:n,isDirectHost:s,hostElement:r}=t;let o=!1;return r.getAttribute("data-placeholder")!==n&&(i.setAttribute("data-placeholder",n,r),o=!0),(s||e.childCount==1)&&m1(r,t.keepOnFocus)?d1(i,r)&&(o=!0):f1(i,r)&&(o=!0),o}function g1(i){if(i.childCount){const e=i.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function p1(){So||ne("enableplaceholder-deprecated-text-option"),So=!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ft=class{is(){throw new Error("is() method is abstract")}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Rt=class extends N(Ft){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new d("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),s=e.getAncestors(t);let r=0;for(;n[r]==s[r]&&n[r];)r++;return r===0?null:n[r-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),s=ae(t,n);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<n[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=Dl(this);return delete e.parent,e}};Rt.prototype.is=function(i){return i==="node"||i==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let G=class As extends Rt{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof As?this===e||this.data===e.data:!1}_clone(){return new As(this.document,this.data)}};G.prototype.is=function(i){return i==="$text"||i==="view:$text"||i==="text"||i==="view:text"||i==="node"||i==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Oe=class extends Ft{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new d("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new d("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}};Oe.prototype.is=function(i){return i==="$textProxy"||i==="view:$textProxy"||i==="textProxy"||i==="view:textProxy"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class On{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const s=Mo(t,n);if(s)return{element:t,pattern:n,match:s}}return null}matchAll(...e){const t=[];for(const n of e)for(const s of this._patterns){const r=Mo(n,s);r&&t.push({element:n,pattern:s,match:r})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}}function Mo(i,e){if(typeof e=="function")return e(i);const t={};return e.name&&(t.name=w1(e.name,i.name),!t.name)||e.attributes&&(t.attributes=y1(e.attributes,i),!t.attributes)||e.classes&&(t.classes=v1(e.classes,i),!t.classes)||e.styles&&(t.styles=k1(e.styles,i),!t.styles)?null:t}function w1(i,e){return i instanceof RegExp?!!e.match(i):i===e}function mr(i,e,t){const n=_1(i),s=Array.from(e),r=[];if(n.forEach(([o,a])=>{s.forEach(l=>{b1(o,l)&&x1(a,l,t)&&r.push(l)})}),!(!n.length||r.length<n.length))return r}function _1(i){return Array.isArray(i)?i.map(e=>ve(e)?((e.key===void 0||e.value===void 0)&&ne("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):ve(i)?Object.entries(i):[[i,!0]]}function b1(i,e){return i===!0||i===e||i instanceof RegExp&&e.match(i)}function x1(i,e,t){if(i===!0)return!0;const n=t(e);return i===n||i instanceof RegExp&&!!String(n).match(i)}function y1(i,e){const t=new Set(e.getAttributeKeys());return ve(i)?(i.style!==void 0&&ne("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&ne("matcher-pattern-deprecated-attributes-class-key",i)):(t.delete("style"),t.delete("class")),mr(i,t,n=>e.getAttribute(n))}function v1(i,e){return mr(i,e.getClassNames(),()=>{})}function k1(i,e){return mr(i,e.getStyleNames(!0),t=>e.getStyle(t))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ms{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=T1(e);for(const[n,s]of t)this._styleProcessor.toNormalizedForm(n,s,this._styles)}has(e){if(this.isEmpty)return!1;const n=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(n)}set(e,t){if(Z(e))for(const[n,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,s,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=Fs(e);W0(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Z(this._styles[e]))return this._styles[e];const n=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);if(Array.isArray(n))return n[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([n])=>n)}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const s=t.splice(0,t.length-1).join("."),r=ui(this._styles,s);if(!r)return;!Object.keys(r).length&&this.remove(s)}}class C1{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(Z(t)){Gi(n,Fs(e),t);return}if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:r,value:o}=s(t);Gi(n,r,o)}else Gi(n,e,t)}getNormalized(e,t){if(!e)return Hl({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return ui(t,n);const s=n(e,t);if(s)return s}return ui(t,Fs(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(s=>{const r=this.getNormalized(s,e);return r&&typeof r=="object"?Object.keys(r).length:r}),n=new Set([...t,...Object.keys(e)]);return Array.from(n)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function T1(i){let e=null,t=0,n=0,s=null;const r=new Map;if(i==="")return r;i.charAt(i.length-1)!=";"&&(i=i+";");for(let o=0;o<i.length;o++){const a=i.charAt(o);if(e===null)switch(a){case":":s||(s=i.substr(t,o-t),n=o+1);break;case'"':case"'":e=a;break;case";":{const l=i.substr(n,o-n);s&&r.set(s.trim(),l.trim()),s=null,t=o+1;break}}else a===e&&(e=null)}return r}function Fs(i){return i.replace("-",".")}function Gi(i,e,t){let n=t;Z(t)&&(n=Hl({},ui(i,e),t)),N0(i,e,n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ye=class xc extends Rt{constructor(e,t,n,s){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=P1(n),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const r=this._attrs.get("class");Fo(this._classes,r),this._attrs.delete("class")}this._styles=new Ms(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof xc))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new On(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const s of this.getChildren())t.push(s._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const s=E1(this.document,t);for(const r of s)r.parent!==null&&r._remove(),r.parent=this,r.document=this.document,this._children.splice(e,0,r),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?Fo(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of ke(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of ke(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of ke(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Ye.prototype.is=function(i,e){return e?e===this.name&&(i==="element"||i==="view:element"):i==="element"||i==="view:element"||i==="node"||i==="view:node"};function P1(i){const e=Xe(i);for(const[t,n]of e)n===null?e.delete(t):typeof n!="string"&&e.set(t,String(n));return e}function Fo(i,e){const t=e.split(/\s+/);i.clear(),t.forEach(n=>i.add(n))}function E1(i,e){return typeof e=="string"?[new G(i,e)]:(we(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new G(i,t):t instanceof Oe?new G(i,t.data):t))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class In extends Ye{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=S1}}In.prototype.is=function(i,e){return e?e===this.name&&(i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function S1(){const i=[...this.getChildren()],e=i[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of i)if(!t.is("uiElement"))return null;return this.childCount}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fi extends q(In){constructor(e,t,n,s){super(e,t,n,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",r=>r&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Fi.prototype.is=function(i,e){return e?e===this.name&&(i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ro=Symbol("rootName");class yc extends Fi{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(Ro)}set rootName(e){this._setCustomProperty(Ro,e)}set _name(e){this.name=e}}yc.prototype.is=function(i,e){return e?e===this.name&&(i==="rootElement"||i==="view:rootElement"||i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="rootElement"||i==="view:rootElement"||i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let yt=class{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new d("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new d("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=_._createAt(e.startPosition):this._position=_._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(n instanceof G){if(e.isAtEnd)return this._position=_._createAfter(n),this._next();s=n.data[e.offset]}else s=n.getChild(e.offset);if(s instanceof Ye){if(!this.shallow)e=new _(s,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",s,t,e,1)}if(s instanceof G){if(this.singleCharacters)return e=new _(s,0),this._position=e,this._next();let r=s.data.length,o;return s==this._boundaryEndParent?(r=this.boundaries.end.offset,o=new Oe(s,0,r),e=_._createAfter(o)):(o=new Oe(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,t,e,r)}if(typeof s=="string"){let r;this.singleCharacters?r=1:r=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const o=new Oe(n,e.offset,r);return e.offset+=r,this._position=e,this._formatReturnValue("text",o,t,e,r)}return e=_._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(n instanceof G){if(e.isAtStart)return this._position=_._createBefore(n),this._previous();s=n.data[e.offset-1]}else s=n.getChild(e.offset-1);if(s instanceof Ye)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,t,e,1)):(e=new _(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,t,e));if(s instanceof G){if(this.singleCharacters)return e=new _(s,s.data.length),this._position=e,this._previous();let r=s.data.length,o;if(s==this._boundaryStartParent){const a=this.boundaries.start.offset;o=new Oe(s,a,s.data.length-a),r=o.data.length,e=_._createBefore(o)}else o=new Oe(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,t,e,r)}if(typeof s=="string"){let r;if(this.singleCharacters)r=1;else{const a=n===this._boundaryStartParent?this.boundaries.start.offset:0;r=e.offset-a}e.offset-=r;const o=new Oe(n,e.offset,r);return this._position=e,this._formatReturnValue("text",o,t,e,r)}return e=_._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,s,r){return t instanceof Oe&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=_._createAfter(t.textNode),this._position=s):n=_._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=_._createBefore(t.textNode),this._position=s):n=_._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:s,length:r}}}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let _=class Ue extends Ft{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Fi);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=Ue._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new yt(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]==n[s]&&t[s];)s++;return s===0?null:t[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const s=ae(t,n);switch(s){case"prefix":return"before";case"extension":return"after";default:return t[s]<n[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new yt(e)}clone(){return new Ue(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Ue)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new d("view-createpositionat-offset-required",n)}return new Ue(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Ue(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new d("view-position-after-root",e,{root:e});return new Ue(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Ue(e.textNode,e.offsetInText);if(!e.parent)throw new d("view-position-before-root",e,{root:e});return new Ue(e.parent,e.index)}};_.prototype.is=function(i){return i==="position"||i==="view:position"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let M=class it extends Ft{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new yt({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Xn,{direction:"backward"}),t=this.end.getLastMatchingPosition(Xn);return e.parent.is("$text")&&e.isAtStart&&(e=_._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=_._createAfter(t.parent)),new it(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Xn);if(e.isAfter(this.end)||e.isEqual(this.end))return new it(e,e);let t=this.end.getLastMatchingPosition(Xn,{direction:"backward"});const n=e.nodeAfter,s=t.nodeBefore;return n&&n.is("$text")&&(e=new _(n,0)),s&&s.is("$text")&&(t=new _(s,s.data.length)),new it(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&s}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new it(this.start,e.start)),this.containsPosition(e.end)&&t.push(new it(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new it(t,n)}return null}getWalker(e={}){return e.boundaries=this,new yt(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new it(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new yt(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new yt(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,s){return new this(new _(e,t),new _(n,s))}static _createFromPositionAndShift(e,t){const n=e,s=e.getShiftedBy(t);return t>0?new this(n,s):new this(s,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(_._createBefore(e),t)}};M.prototype.is=function(i){return i==="range"||i==="view:range"};function Xn(i){return!!(i.item.is("attributeElement")||i.item.is("uiElement"))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let ot=class vc extends N(Ft){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const s of e._ranges)if(t.isEqual(s)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Ts(this.getRanges()),n=Ts(e.getRanges());if(t!=n)return!1;if(t==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let r=!1;for(let o of e.getRanges())if(o=o.getTrimmed(),s.start.isEqual(o.start)&&s.end.isEqual(o.end)){r=!0;break}if(!r)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,s]=e;if(typeof n=="object"&&(s=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(s);else if(t instanceof vc||t instanceof gr)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof M)this._setRanges([t],s&&s.backward),this._setFakeOptions(s);else if(t instanceof _)this._setRanges([new M(t)]),this._setFakeOptions(s);else if(t instanceof Rt){const r=!!s&&!!s.backward;let o;if(n===void 0)throw new d("view-selection-setto-required-second-parameter",this);n=="in"?o=M._createIn(t):n=="on"?o=M._createOn(t):o=new M(_._createAt(t,n)),this._setRanges([o],r),this._setFakeOptions(s)}else if(we(t))this._setRanges(t,s&&s.backward),this._setFakeOptions(s);else throw new d("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new d("view-selection-setfocus-no-ranges",this);const n=_._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),n.compareWith(s)=="before"?this._addRange(new M(n,s),!0):this._addRange(new M(s,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof M))throw new d("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new d("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new M(e.start,e.end))}};ot.prototype.is=function(i){return i==="selection"||i==="view:selection"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let gr=class extends N(Ft){constructor(...e){super(),this._selection=new ot,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}};gr.prototype.is=function(i){return i==="selection"||i=="documentSelection"||i=="view:selection"||i=="view:documentSelection"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sn extends Ze{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ji=Symbol("bubbling contexts");function Rs(i){class e extends i{fire(n,...s){try{const r=n instanceof Ze?n:new Ze(this,n),o=Ki(this);if(!o.size)return;if(ln(r,"capturing",this),Dt(o,"$capture",r,...s))return r.return;const a=r.startRange||this.selection.getFirstRange(),l=a?a.getContainedElement():null,c=l?!!kc(o,l):!1;let h=l||A1(a);if(ln(r,"atTarget",h),!c){if(Dt(o,"$text",r,...s))return r.return;ln(r,"bubbling",h)}for(;h;){if(h.is("rootElement")){if(Dt(o,"$root",r,...s))return r.return}else if(h.is("element")&&Dt(o,h.name,r,...s))return r.return;if(Dt(o,h,r,...s))return r.return;h=h.parent,ln(r,"bubbling",h)}return ln(r,"bubbling",this),Dt(o,"$document",r,...s),r.return}catch(r){/* istanbul ignore next -- @preserve */d.rethrowUnexpectedError(r,this)}}_addEventListener(n,s,r){const o=ke(r.context||"$document"),a=Ki(this);for(const l of o){let c=a.get(l);c||(c=new(N()),a.set(l,c)),this.listenTo(c,n,s,r)}}_removeEventListener(n,s){const r=Ki(this);for(const o of r.values())this.stopListening(o,n,s)}}return e}{const i=Rs(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Rs[e]=i.prototype[e]})}function ln(i,e,t){i instanceof sn&&(i._eventPhase=e,i._currentTarget=t)}function Dt(i,e,t,...n){const s=typeof e=="string"?i.get(e):kc(i,e);return s?(s.fire(t,...n),t.stop.called):!1}function kc(i,e){for(const[t,n]of i)if(typeof t=="function"&&t(e))return n;return null}function Ki(i){return i[ji]||(i[ji]=new Map),i[ji]}function A1(i){if(!i)return null;const e=i.start.parent,t=i.end.parent,n=e.getPath(),s=t.getPath();return n.length>s.length?e:t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Cc=class extends Rs(q()){constructor(e){super(),this._postFixers=new Set,this.selection=new gr,this.roots=new ht({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Tc=10;class kt extends Ye{constructor(e,t,n,s){super(e,t,n,s),this._priority=Tc,this._id=null,this._clonesGroup=null,this.getFillerOffset=M1}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new d("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}kt.DEFAULT_PRIORITY=Tc;kt.prototype.is=function(i,e){return e?e===this.name&&(i==="attributeElement"||i==="view:attributeElement"||i==="element"||i==="view:element"):i==="attributeElement"||i==="view:attributeElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function M1(){if(Zi(this))return null;let i=this.parent;for(;i&&i.is("attributeElement");){if(Zi(i)>1)return null;i=i.parent}return!i||Zi(i)>1?null:this.childCount}function Zi(i){return Array.from(i.getChildren()).filter(e=>!e.is("uiElement")).length}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pr extends Ye{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=F1}_insertChild(e,t){if(t&&(t instanceof Rt||Array.from(t).length>0))throw new d("view-emptyelement-cannot-add",[this,t]);return 0}}pr.prototype.is=function(i,e){return e?e===this.name&&(i==="emptyElement"||i==="view:emptyElement"||i==="element"||i==="view:element"):i==="emptyElement"||i==="view:emptyElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function F1(){return null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ri extends Ye{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=O1}_insertChild(e,t){if(t&&(t instanceof Rt||Array.from(t).length>0))throw new d("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}Ri.prototype.is=function(i,e){return e?e===this.name&&(i==="uiElement"||i==="view:uiElement"||i==="element"||i==="view:element"):i==="uiElement"||i==="view:uiElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function R1(i){i.document.on("arrowKey",(e,t)=>I1(e,t,i.domConverter),{priority:"low"})}function O1(){return null}function I1(i,e,t){if(e.keyCode==R.arrowright){const n=e.domTarget.ownerDocument.defaultView.getSelection(),s=n.rangeCount==1&&n.getRangeAt(0).collapsed;if(s||e.shiftKey){const r=n.focusNode,o=n.focusOffset,a=t.domPositionToView(r,o);if(a===null)return;let l=!1;const c=a.getLastMatchingPosition(h=>(h.item.is("uiElement")&&(l=!0),!!(h.item.is("uiElement")||h.item.is("attributeElement"))));if(l){const h=t.viewPositionToDom(c);s?n.collapse(h.parent,h.offset):n.extend(h.parent,h.offset)}}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wr extends Ye{constructor(e,t,n,s){super(e,t,n,s),this.getFillerOffset=B1}_insertChild(e,t){if(t&&(t instanceof Rt||Array.from(t).length>0))throw new d("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}wr.prototype.is=function(i,e){return e?e===this.name&&(i==="rawElement"||i==="view:rawElement"||i==="element"||i==="view:element"):i==="rawElement"||i==="view:rawElement"||i===this.name||i==="view:"+this.name||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function B1(){return null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let jt=class extends N(Ft){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const s=D1(this.document,t);for(const r of s)r.parent!==null&&r._remove(),r.parent=this,this._children.splice(e,0,r),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};jt.prototype.is=function(i){return i==="documentFragment"||i==="view:documentFragment"};function D1(i,e){return typeof e=="string"?[new G(i,e)]:(we(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new G(i,t):t instanceof Oe?new G(i,t.data):t))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pc{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new jt(this.document,e)}createText(e){return new G(this.document,e)}createAttributeElement(e,t,n={}){const s=new kt(this.document,e,t);return typeof n.priority=="number"&&(s._priority=n.priority),n.id&&(s._id=n.id),n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createContainerElement(e,t,n={},s={}){let r=null;ve(n)?s=n:r=n;const o=new In(this.document,e,t,r);return s.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),o}createEditableElement(e,t,n={}){const s=new Fi(this.document,e,t);return n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createEmptyElement(e,t,n={}){const s=new pr(this.document,e,t);return n.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),s}createUIElement(e,t,n){const s=new Ri(this.document,e,t);return n&&(s.render=n),s}createRawElement(e,t,n,s={}){const r=new wr(this.document,e,t);return n&&(r.render=n),s.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),r}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){ve(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof _?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new d("view-writer-break-non-container-element",this.document);if(!t.parent)throw new d("view-writer-break-root",this.document);if(e.isAtStart)return _._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(_._createAfter(t),n);const s=new M(e,_._createAt(t,"end")),r=new _(n,0);this.move(s,r)}return _._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const o=n.parent,a=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new _(o,a))}const s=n.getChild(t-1),r=n.getChild(t);if(!s||!r)return e;if(s.is("$text")&&r.is("$text"))return Io(s,r);if(s.is("attributeElement")&&r.is("attributeElement")&&s.isSimilar(r)){const o=s.childCount;return s._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new _(s,o))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!t||!n||!t.is("containerElement")||!n.is("containerElement"))throw new d("view-writer-merge-containers-invalid-position",this.document);const s=t.getChild(t.childCount-1),r=s instanceof G?_._createAt(s,"end"):_._createAt(t,"end");return this.move(M._createIn(n),_._createAt(t,"end")),this.remove(M._createOn(n)),r}insert(e,t){t=we(t)?[...t]:[t],Ec(t,this.document);const n=t.reduce((o,a)=>{const l=o[o.length-1],c=!a.is("uiElement");return!l||l.breakAttributes!=c?o.push({breakAttributes:c,nodes:[a]}):l.nodes.push(a),o},[]);let s=null,r=e;for(const{nodes:o,breakAttributes:a}of n){const l=this._insertNodes(r,o,a);s||(s=l.start),r=l.end}return s?new M(s,r):new M(e)}remove(e){const t=e instanceof M?e:M._createOn(e);if(cn(t,this.document),t.isCollapsed)return new jt(this.document);const{start:n,end:s}=this._breakAttributesRange(t,!0),r=n.parent,o=s.offset-n.offset,a=r._removeChildren(n.offset,o);for(const c of a)this._removeFromClonedElementsGroup(c);const l=this.mergeAttributes(n);return t.start=l,t.end=l.clone(),new jt(this.document,a)}clear(e,t){cn(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of n){const r=s.item;let o;if(r.is("element")&&t.isSimilar(r))o=M._createOn(r);else if(!s.nextPosition.isAfter(e.start)&&r.is("$textProxy")){const a=r.getAncestors().find(l=>l.is("element")&&t.isSimilar(l));a&&(o=M._createIn(a))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let n;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const s=t.parent,r=s.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=s.childCount-r}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof kt))throw new d("view-writer-wrap-invalid-attribute",this.document);if(cn(e,this.document),e.isCollapsed){let n=e.start;n.parent.is("element")&&!V1(n.parent)&&(n=n.getLastMatchingPosition(r=>r.item.is("uiElement"))),n=this._wrapPosition(n,t);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new M(n)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof kt))throw new d("view-writer-unwrap-invalid-attribute",this.document);if(cn(e,this.document),e.isCollapsed)return e;const{start:n,end:s}=this._breakAttributesRange(e,!0),r=n.parent,o=this._unwrapChildren(r,n.offset,s.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new M(a,l)}rename(e,t){const n=new In(this.document,e,t.getAttributes());return this.insert(_._createAfter(t),n),this.move(M._createIn(t),_._createAt(n,0)),this.remove(M._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return _._createAt(e,t)}createPositionAfter(e){return _._createAfter(e)}createPositionBefore(e){return _._createBefore(e)}createRange(e,t){return new M(e,t)}createRangeOn(e){return M._createOn(e)}createRangeIn(e){return M._createIn(e)}createSelection(...e){return new ot(...e)}createSlot(e="children"){if(!this._slotFactory)throw new d("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let s;if(n?s=Os(e):s=e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new d("view-writer-invalid-position-container",this.document);let r;n?r=this._breakAttributes(e,!0):r=e.parent.is("$text")?Ji(e):e;const o=s._insertChild(r.offset,t);for(const h of t)this._addToClonedElementsGroup(h);const a=r.getShiftedBy(o),l=this.mergeAttributes(r);l.isEqual(r)||a.offset--;const c=this.mergeAttributes(a);return new M(l,c)}_wrapChildren(e,t,n,s){let r=t;const o=[];for(;r<n;){const l=e.getChild(r),c=l.is("$text"),h=l.is("attributeElement");if(h&&this._wrapAttributeElement(s,l))o.push(new _(e,r));else if(c||!h||N1(s,l)){const u=s._clone();l._remove(),u._appendChild(l),e._insertChild(r,u),this._addToClonedElementsGroup(u),o.push(new _(e,r))}else this._wrapChildren(l,0,l.childCount,s);r++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t)continue;this.mergeAttributes(l).isEqual(l)||(a++,n--)}return M._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,s){let r=t;const o=[];for(;r<n;){const l=e.getChild(r);if(!l.is("attributeElement")){r++;continue}if(l.isSimilar(s)){const c=l.getChildren(),h=l.childCount;l._remove(),e._insertChild(r,c),this._removeFromClonedElementsGroup(l),o.push(new _(e,r),new _(e,r+h)),r+=h,n+=h-1;continue}if(this._unwrapAttributeElement(s,l)){o.push(new _(e,r),new _(e,r+1)),r++;continue}this._unwrapChildren(l,0,l.childCount,s),r++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t||l.offset==n)continue;this.mergeAttributes(l).isEqual(l)||(a++,n--)}return M._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:s}=this._breakAttributesRange(e,!0),r=n.parent,o=this._wrapChildren(r,n.offset,s.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new M(a,l)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return Oo(e.clone());e.parent.is("$text")&&(e=Ji(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const s=new M(e,e.getShiftedBy(1));this.wrap(s,t);const r=new _(n.parent,n.index);n._remove();const o=r.nodeBefore,a=r.nodeAfter;return o instanceof G&&a instanceof G?Io(o,a):Oo(r)}_wrapAttributeElement(e,t){if(!Bo(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t);for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!Bo(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,s=e.end;if(cn(e,this.document),e.isCollapsed){const l=this._breakAttributes(e.start,t);return new M(l,l)}const r=this._breakAttributes(s,t),o=r.parent.childCount,a=this._breakAttributes(n,t);return r.offset+=r.parent.childCount-o,new M(a,r)}_breakAttributes(e,t=!1){const n=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new d("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new d("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new d("view-writer-cannot-break-raw-element",this.document);if(!t&&s.is("$text")&&Is(s.parent)||Is(s))return e.clone();if(s.is("$text"))return this._breakAttributes(Ji(e),t);const r=s.childCount;if(n==r){const o=new _(s.parent,s.index+1);return this._breakAttributes(o,t)}else if(n===0){const o=new _(s.parent,s.index);return this._breakAttributes(o,t)}else{const o=s.index+1,a=s._clone();s.parent._insertChild(o,a),this._addToClonedElementsGroup(a);const l=s.childCount-n,c=s._removeChildren(n,l);a._appendChild(c);const h=new _(s.parent,o);return this._breakAttributes(h,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function V1(i){return Array.from(i.getChildren()).some(e=>!e.is("uiElement"))}function Os(i){let e=i.parent;for(;!Is(e);){if(!e)return;e=e.parent}return e}function N1(i,e){return i.priority<e.priority?!0:i.priority>e.priority?!1:i.getIdentity()<e.getIdentity()}function Oo(i){const e=i.nodeBefore;if(e&&e.is("$text"))return new _(e,e.data.length);const t=i.nodeAfter;return t&&t.is("$text")?new _(t,0):i}function Ji(i){if(i.offset==i.parent.data.length)return new _(i.parent.parent,i.parent.index+1);if(i.offset===0)return new _(i.parent.parent,i.parent.index);const e=i.parent.data.slice(i.offset);return i.parent._data=i.parent.data.slice(0,i.offset),i.parent.parent._insertChild(i.parent.index+1,new G(i.root.document,e)),new _(i.parent.parent,i.parent.index+1)}function Io(i,e){const t=i.data.length;return i._data+=e.data,e._remove(),new _(i,t)}const L1=[G,kt,In,pr,wr,Ri];function Ec(i,e){for(const t of i){if(!L1.some(n=>t instanceof n))throw new d("view-writer-insert-invalid-node-type",e);t.is("$text")||Ec(t.getChildren(),e)}}function Is(i){return i&&(i.is("containerElement")||i.is("documentFragment"))}function cn(i,e){const t=Os(i.start),n=Os(i.end);if(!t||!n||t!==n)throw new d("view-writer-invalid-range-container",e)}function Bo(i,e){return i.id===null&&e.id===null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Sc=i=>i.createTextNode(" "),Ac=i=>{const e=i.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},Mc=i=>{const e=i.createElement("br");return e.dataset.ckeFiller="true",e},Pe=7,Bn="⁠".repeat(Pe);function fe(i){return typeof i=="string"?i.substr(0,Pe)===Bn:Y(i)&&i.data.substr(0,Pe)===Bn}function wn(i){return i.data.length==Pe&&fe(i)}function Do(i){const e=typeof i=="string"?i:i.data;return fe(i)?e.slice(Pe):e}function W1(i){i.document.on("arrowKey",H1,{priority:"low"})}function H1(i,e){if(e.keyCode==R.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,s=t.getRangeAt(0).startOffset;fe(n)&&s<=Pe&&t.collapse(n,0)}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $1 extends q(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),A.isBlink&&!A.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new d("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!A.isAndroid)return;let e=null;const t=A.isBlink&&!A.isAndroid?!this.isSelecting:!0;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=_._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),s=n.parent.ownerDocument;fe(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=Vo(s,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),r=this._diffNodeLists(n,s),o=this._findUpdateActions(r,n,s,U1);if(o.indexOf("update")!==-1){const a={equal:0,insert:0,delete:0};for(const l of o)if(l==="update"){const c=a.equal+a.insert,h=a.equal+a.delete,u=e.getChild(c);u&&!u.is("uiElement")&&!u.is("rawElement")&&this._updateElementMappings(u,n[h]),go(s[c]),a.equal++}else a[l]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?_._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Y(t.parent)&&fe(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!fe(e))throw new d("view-renderer-filler-was-lost",this);wn(e)?e.remove():e.data=e.data.substr(Pe),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!z1(t)||n===t.getFillerOffset())return!1;const s=e.nodeBefore,r=e.nodeAfter;return!(s instanceof G||r instanceof G||A.isAndroid&&(s||r))}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let r=this.domConverter.viewToDom(e).data;const o=t.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(r=Bn+r),No(n,r)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(r=>r.name),s=e.getAttributeKeys();for(const r of s)this.domConverter.setDomElementAttribute(t,r,e.getAttribute(r),e);for(const r of n)e.hasAttribute(r)||this.domConverter.removeDomElementAttribute(t,r)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(A.isAndroid){let u=null;for(const f of Array.from(n.childNodes)){if(u&&Y(u)&&Y(f)){n.normalize();break}u=f}}const s=t.inlineFillerPosition,r=n.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&Vo(n.ownerDocument,o,s.offset);const a=this._diffNodeLists(r,o),l=this._findUpdateActions(a,r,o,q1);let c=0;const h=new Set;for(const u of l)u==="delete"?(h.add(r[c]),go(r[c])):(u==="equal"||u==="update")&&c++;c=0;for(const u of l)u==="insert"?(Xl(n,c,o[c]),c++):u==="update"?(No(r[c],o[c].data),c++):u==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(o[c])),c++);for(const u of h)u.parentNode||this.domConverter.unbindDomElement(u)}_diffNodeLists(e,t){return e=K1(e,this._fakeSelectionContainer),bn(e,t,G1.bind(null,this.domConverter))}_findUpdateActions(e,t,n,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let r=[],o=[],a=[];const l={equal:0,insert:0,delete:0};for(const c of e)c==="insert"?a.push(n[l.equal+l.insert]):c==="delete"?o.push(t[l.equal+l.delete]):(r=r.concat(bn(o,a,s).map(h=>h==="equal"?"update":h)),r.push("equal"),o=[],a=[]),l[c]++;return r.concat(bn(o,a,s).map(c=>c==="equal"?"update":c))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(A.isBlink&&!A.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&A.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=Z1(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!n.parentElement||n.parentElement!=e)&&e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const s=t.getSelection(),r=t.createRange();s.removeAllRanges(),r.selectNodeContents(n),s.addRange(r)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,s.parent,s.offset),A.isGecko&&j1(s,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,s=this.domConverter.mapDomToView(n);n&&s&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function z1(i){if(i.getAttribute("contenteditable")=="false")return!1;const e=i.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function Vo(i,e,t){const n=e instanceof Array?e:e.childNodes,s=n[t];if(Y(s))return s.data=Bn+s.data,s;{const r=i.createTextNode(Bn);return Array.isArray(e)?n.splice(t,0,r):Xl(e,t,r),r}}function U1(i,e){return at(i)&&at(e)&&!Y(i)&&!Y(e)&&!yn(i)&&!yn(e)&&i.tagName.toLowerCase()===e.tagName.toLowerCase()}function q1(i,e){return at(i)&&at(e)&&Y(i)&&Y(e)}function G1(i,e,t){return e===t?!0:Y(e)&&Y(t)?e.data===t.data:!!(i.isBlockFiller(e)&&i.isBlockFiller(t))}function j1(i,e){const t=i.parent;if(t.nodeType!=Node.ELEMENT_NODE||i.offset!=t.childNodes.length-1)return;const n=t.childNodes[i.offset];n&&n.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function K1(i,e){const t=Array.from(i);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function Z1(i){const e=i.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}function No(i,e){const t=i.data;if(t==e)return;const n=Xa(t,e);for(const s of n)s.type==="insert"?i.insertData(s.index,s.values.join("")):i.deleteData(s.index,s.howMany)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const J1=Mc(y.document),X1=Sc(y.document),Y1=Ac(y.document),Yn="data-ck-unsafe-attribute-",Lo="data-ck-unsafe-element";class Fc{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new On,this._inlineObjectElementMatcher=new On,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?y.document:y.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new ot(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const n=new DOMParser().parseFromString(t,"text/html"),s=n.createDocumentFragment(),r=n.body.childNodes;for(;r.length>0;)s.appendChild(r[0]);const o=n.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=o.nextNode();)a.push(l);for(const c of a){for(const u of c.getAttributeNames())this.setDomElementAttribute(c,u,c.getAttribute(u));const h=c.tagName.toLowerCase();this._shouldRenameElement(h)&&(Ho(h),c.replaceWith(this._createReplacementDomElement(h,c)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}else{const n=e;if(this.mapViewToDom(n))if(n.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(n);else return this.mapViewToDom(n);let s;if(n.is("documentFragment"))s=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(s,n);else{if(n.is("uiElement"))return n.name==="$comment"?s=this._domDocument.createComment(n.getCustomProperty("$rawContent")):s=n.render(this._domDocument,this),t.bind&&this.bindElements(s,n),s;this._shouldRenameElement(n.name)?(Ho(n.name),s=this._createReplacementDomElement(n.name)):n.hasAttribute("xmlns")?s=this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):s=this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(s,this),t.bind&&this.bindElements(s,n);for(const r of n.getAttributeKeys())this.setDomElementAttribute(s,r,n.getAttribute(r),n)}if(t.withChildren!==!1)for(const r of this.viewChildrenToDom(n,t))s.appendChild(r);return s}}setDomElementAttribute(e,t,n,s){const r=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(t);if(r||ne("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),!tp(t)){ne("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n});return}e.hasAttribute(t)&&!r?e.removeAttribute(t):e.hasAttribute(Yn+t)&&r&&e.removeAttribute(Yn+t),e.setAttribute(r?t:Yn+t,n)}removeDomElementAttribute(e,t){t!=Lo&&(e.removeAttribute(t),e.removeAttribute(Yn+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const r of e.getChildren()){n===s&&(yield this._getBlockFiller());const o=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!Ne(r.getAttributes());o&&this.renderingMode=="data"?yield*this.viewChildrenToDom(r,t):(o&&ne("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,t)),s++}n===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(t.parent,t.offset),s.setEnd(n.parent,n.offset),s}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let s=e.offset;return fe(n)&&(s+=Pe),{parent:n,offset:s}}else{let n,s,r;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;r=n.childNodes[0]}else{const a=e.nodeBefore;if(s=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!s)return null;n=s.parentNode,r=s.nextSibling}if(Y(r)&&fe(r))return{parent:r,offset:Pe};const o=s?Jn(s)+1:0;return{parent:n,offset:o}}}domToView(e,t={}){const n=[],s=this._domToView(e,t,n),r=s.next().value;return!r||(s.next(),this._processDomInlineNodes(null,n,t),r.is("$text")&&r.data.length==0)?null:r}*domChildrenToView(e,t={},n=[]){for(let s=0;s<e.childNodes.length;s++){const r=e.childNodes[s],o=this._domToView(r,t,n),a=o.next().value;a!==null&&(this._isBlockViewElement(a)&&this._processDomInlineNodes(e,n,t),yield a,o.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(tw(e))return new ot([]);if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;Y(s)&&(s=s.parentNode);const r=this.fakeSelectionToView(s);if(r)return r}const t=this.isDomSelectionBackward(e),n=[];for(let s=0;s<e.rangeCount;s++){const r=e.getRangeAt(s),o=this.domRangeToView(r);o&&n.push(o)}return new ot(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new M(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Jn(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return _._createBefore(n);if(Y(e)){if(wn(e))return this.domPositionToView(e.parentNode,Jn(e));const s=this.findCorrespondingViewText(e);let r=t;return s?(fe(e)&&(r-=Pe,r=r<0?0:r),new _(s,r)):null}else{if(t===0){const s=this.mapDomToView(e);if(s)return new _(s,0)}else{const s=e.childNodes[t-1];if(Y(s)&&wn(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Jn(s));const r=Y(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(r&&r.parent)return new _(r.parent,r.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(wn(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const s=this.mapDomToView(n);if(s){const r=s.nextSibling;return r instanceof G?r:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const r=s.getChild(0);return r instanceof G?r:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:s}=y.window,r=[];Wo(t,o=>{const{scrollLeft:a,scrollTop:l}=o;r.push([a,l])}),t.focus(),Wo(t,o=>{const[a,l]=r.shift();o.scrollLeft=a,o.scrollTop=l}),y.window.scrollTo(n,s)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(J1):e.tagName==="BR"&&Rc(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(Y1)||ew(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=X0(e);for(t.pop();t.length;){const n=t.pop(),s=this._domToViewMapping.get(n);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Sc(this._domDocument);case"markedNbsp":return Ac(this._domDocument);case"br":return Mc(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Y(e)&&fe(e)&&t<Pe||this.isElement(e)&&fe(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!(n&&(n.is("uiElement")||n.is("rawElement")))}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const s=this.getHostViewElement(e);if(s)return s;if(yn(e)&&t.skipComments)return null;if(Y(e)){if(wn(e))return null;{const r=e.data;if(r==="")return null;const o=new G(this.document,r);return n.push(o),o}}else{let r=this.mapDomToView(e);if(r)return this._isInlineObjectElement(r)&&n.push(r),r;if(this.isDocumentFragment(e))r=new jt(this.document),t.bind&&this.bindDocumentFragments(e,r);else{r=this._createViewElement(e,t),t.bind&&this.bindElements(e,r);const a=e.attributes;if(a)for(let l=a.length,c=0;c<l;c++)r._setAttribute(a[c].name,a[c].value);if(this._isViewElementWithRawContent(r,t))return r._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(r)||n.push(r),r;if(yn(e))return r._setCustomProperty("$rawContent",e.data),r}yield r;const o=[];if(t.withChildren!==!1)for(const a of this.domChildrenToView(e,t,o))r._appendChild(a);if(this._isInlineObjectElement(r))n.push(r);else for(const a of o)n.push(a)}}_processDomInlineNodes(e,t,n){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let s=!1;for(let r=0;r<t.length;r++){const o=t[r];if(!o.is("$text")){s=!1;continue}let a,l=!1;if(Q1(o,this.preElements))a=Do(o.data);else{a=o.data.replace(/[ \n\t\r]{1,}/g," "),l=/[^\S\u00A0]/.test(a.charAt(a.length-1));const c=r>0?t[r-1]:null,h=r+1<t.length?t[r+1]:null,u=!c||c.is("element")&&c.name=="br"||s,f=h?!1:!fe(o.data);n.withChildren!==!1&&(u&&(a=a.replace(/^ /,"")),f&&(a=a.replace(/ $/,""))),a=Do(a),a=a.replace(/ \u00A0/g,"  ");const g=h&&h.is("element")&&h.name!="br",w=h&&h.is("$text")&&h.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!h||g||w)&&(a=a.replace(/\u00A0$/," ")),(u||c&&c.is("element")&&c.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&o.parent?(o._remove(),t.splice(r,1),r--):(o._data=a,s=l)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n)||!n)&&(t=" "+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),s=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!n||s)&&(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const n=new yt({startPosition:t?_._createAfter(e):_._createBefore(e),direction:t?"forward":"backward"});for(const s of n){if(s.item.is("element","br"))return null;if(this._isInlineObjectElement(s.item))return s.item;if(s.item.is("containerElement"))return null;if(s.item.is("$textProxy"))return s.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,t){if(yn(e))return new Ri(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Ye(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(Lo,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const s of t.getAttributeNames())n.setAttribute(s,t.getAttribute(s))}return n}}function Q1(i,e){return i.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function Wo(i,e){let t=i;for(;t;)e(t),t=t.parentElement}function ew(i,e){return i.isEqualNode(X1)&&Rc(i,e)&&i.parentNode.childNodes.length===1}function Rc(i,e){const t=i.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Ho(i){i==="script"&&ne("domconverter-unsafe-script-element-detected"),i==="style"&&ne("domconverter-unsafe-style-element-detected")}function tw(i){if(!A.isGecko||!i.rangeCount)return!1;const e=i.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch{return!0}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nt extends Fe(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yt{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,nf(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ot extends nt{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(n=>{this.listenTo(e,n,(s,r)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(r.target)&&this.onDomEvent(r)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Yt(this.view,t,n))}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nw extends Ot{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Zt(this)}};this.fire(e.type,e,t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iw extends nt{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Mn(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new ot(t.getRanges(),{backward:t.isBackward,fake:!1});(e==R.arrowleft||e==R.arrowup)&&n.setTo(n.getFirstPosition()),(e==R.arrowright||e==R.arrowdown)&&n.setTo(n.getLastPosition());const s={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Oc=class extends nt{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,s=new Set;for(const o of e){const a=t.mapDomToView(o.target);a&&(a.is("uiElement")||a.is("rawElement")||o.type==="childList"&&!this._isBogusBrMutation(o)&&s.add(a))}for(const o of e){const a=t.mapDomToView(o.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&o.type==="characterData"){const l=t.findCorrespondingViewText(o.target);l&&!s.has(l.parent)?n.add(l):!l&&fe(o.target)&&s.add(t.mapDomToView(o.target.parentNode))}}let r=!1;for(const o of n)r=!0,this.renderer.markToSync("text",o);for(const o of s){const a=t.mapViewToDom(o),l=Array.from(o.getChildren()),c=Array.from(t.domChildrenToView(a,{withChildren:!1}));B0(l,c,sw)||(r=!0,this.renderer.markToSync("children",o))}r&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function sw(i,e){if(!Array.isArray(i))return i===e?!0:i.is("$text")&&e.is("$text")?i.data===e.data:!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xi extends Ot{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,s)=>{const r=t.selection.editableElement;(r===null||r===s.target)&&(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rw extends nt{constructor(e){super(e),this.mutationObserver=e.getObserver(Oc),this.focusObserver=e.getObserver(xi),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Mn(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Mn(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",n,{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(r,o)=>{this.document.isComposing&&!A.isAndroid||(this._handleSelectionChange(o,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(n);if(s.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(s)&&this.domConverter.isDomSelectionCorrect(n))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(s))this.view.forceRender();else{const r={oldSelection:this.selection,newSelection:s,domSelection:n};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ow extends Ot{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ic{constructor(e,t={}){this._files=t.cacheFiles?$o(e):null,this._native=e}get files(){return this._files||(this._files=$o(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function $o(i){const e=Array.from(i.files||[]),t=Array.from(i.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aw extends Ot{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,s=n.document;let r=null,o=null,a=[];if(e.dataTransfer&&(r=new Ic(e.dataTransfer)),e.data!==null?o=e.data:r&&(o=r.getData("text/plain")),s.selection.isFake)a=Array.from(s.selection.getRanges());else if(t.length)a=t.map(l=>{const c=n.domConverter.domPositionToView(l.startContainer,l.startOffset),h=n.domConverter.domPositionToView(l.endContainer,l.endOffset);if(c)return n.createRange(c,h);if(h)return n.createRange(h)}).filter(l=>!!l);else if(A.isAndroid){const l=e.target.ownerDocument.defaultView.getSelection();a=Array.from(n.domConverter.domSelectionToView(l).getRanges())}if(A.isAndroid&&e.inputType=="insertCompositionText"&&o&&o.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(a[0].end)]});return}if(e.inputType=="insertText"&&o&&o.includes(`
`)){const l=o.split(/\n{1,2}/g);let c=a;for(let h=0;h<l.length;h++){const u=l[h];u!=""&&(this.fire(e.type,e,{data:u,dataTransfer:r,targetRanges:c,inputType:e.inputType,isComposing:e.isComposing}),c=[s.selection.getFirstRange()]),h+1<l.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:c}),c=[s.selection.getFirstRange()])}return}this.fire(e.type,e,{data:o,dataTransfer:r,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lw extends nt{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&up(n.keyCode)){const s=new sn(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,n),s.stop.called&&t.stop()}})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cw extends nt{constructor(e){super(e);const t=this.document;t.on("keydown",(n,s)=>{if(!this.isEnabled||s.keyCode!=R.tab||s.ctrlKey)return;const r=new sn(t,"tab",t.selection.getFirstRange());t.fire(r,s),r.stop.called&&n.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hw extends q(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Cc(e),this.domConverter=new Fc(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new $1(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Pc(this.document),this.addObserver(Oc),this.addObserver(xi),this.addObserver(rw),this.addObserver(nw),this.addObserver(iw),this.addObserver(ow),this.addObserver(lw),this.addObserver(aw),this.addObserver(cw),W1(this),R1(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),A.isiOS&&this.listenTo(this.document,"blur",(t,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const s={};for(const{name:o,value:a}of Array.from(e.attributes))s[o]=a,o==="class"?this._writer.addClass(a.split(" "),n):this._writer.setAttribute(o,a,n);this._initialDomRootAttributes.set(e,s);const r=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};r(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(o,a)=>this._renderer.markToSync("children",a)),n.on("change:attributes",(o,a)=>this._renderer.markToSync("attributes",a)),n.on("change:text",(o,a)=>this._renderer.markToSync("text",a)),n.on("change:isReadOnly",()=>this.change(r)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:s})=>t.removeAttribute(s));const n=this._initialDomRootAttributes.get(t);for(const s in n)t.setAttribute(s,n[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const s of this._observers.values())s.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,s]of this.domRoots)t.observe(s,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:s=20}={}){const r=this.document.selection.getFirstRange();if(!r)return;const o=ct({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:s});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const a={target:this.domConverter.viewRangeToDom(r),viewportOffset:n,ancestorOffset:s,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",a,o),sp(a)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new d("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){/* istanbul ignore next -- @preserve */d.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(xi).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return _._createAt(e,t)}createPositionAfter(e){return _._createAfter(e)}createPositionBefore(e){return _._createBefore(e)}createRange(e,t){return new M(e,t)}createRangeOn(e){return M._createOn(e)}createRangeIn(e){return M._createIn(e)}createSelection(...e){return new ot(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dt{is(){throw new Error("is() method is abstract")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let It=class extends dt{constructor(e){super(),this.parent=null,this._attrs=Xe(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new d("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new d("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),s=e.getAncestors(t);let r=0;for(;n[r]==s[r]&&n[r];)r++;return r===0?null:n[r-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),s=ae(t,n);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<n[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Xe(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};It.prototype.is=function(i){return i==="node"||i==="model:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vn{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,s)=>n+s.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new d("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new d("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof It))throw new d("model-nodelist-insertnodes-not-node",this);this._nodes=Cp(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class D extends It{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new D(this.data,this.getAttributes())}static fromJSON(e){return new D(e.data,e.attributes)}}D.prototype.is=function(i){return i==="$text"||i==="model:$text"||i==="text"||i==="model:text"||i==="node"||i==="model:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ee extends dt{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new d("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new d("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Ee.prototype.is=function(i){return i==="$textProxy"||i==="model:$textProxy"||i==="textProxy"||i==="model:textProxy"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class B extends It{constructor(e,t,n){super(t),this._children=new vn,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new B(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=uw(t);for(const s of n)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const s of n)s.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(B.fromJSON(n)):t.push(D.fromJSON(n))}return new B(e.name,e.attributes,t)}}B.prototype.is=function(i,e){return e?e===this.name&&(i==="element"||i==="model:element"):i==="element"||i==="model:element"||i==="node"||i==="model:node"};function uw(i){return typeof i=="string"?[new D(i)]:(we(i)||(i=[i]),Array.from(i).map(e=>typeof e=="string"?new D(e):e instanceof Ee?new D(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class je{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new d("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new d("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=p._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,s,r;do s=this.position,r=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=s,this._visitedParent=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=kn(t,n),r=s||Bc(t,n,s);if(r instanceof B){if(!this.shallow)t.path.push(0),this._visitedParent=r;else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,gt("elementStart",r,e,t,1)}if(r instanceof D){let o;if(this.singleCharacters)o=1;else{let c=r.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),o=c-t.offset}const a=t.offset-r.startOffset,l=new Ee(r,a,o);return t.offset+=o,this._position=t,gt("text",l,e,t,o)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():gt("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=t.parent,r=kn(t,s),o=r||Dc(t,s,r);if(o instanceof B)return t.offset--,this.shallow?(this._position=t,gt("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():gt("elementEnd",o,e,t));if(o instanceof D){let a;if(this.singleCharacters)a=1;else{let h=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>h&&(h=this.boundaries.start.offset),a=t.offset-h}const l=t.offset-o.startOffset,c=new Ee(o,l-a,a);return t.offset-=a,this._position=t,gt("text",c,e,t,a)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,gt("elementStart",n,e,t,1)}}function gt(i,e,t,n,s){return{done:!1,value:{type:i,item:e,previousPosition:t,nextPosition:n,length:s}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class p extends dt{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new d("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new d("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new d("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new d("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return kn(this,this.parent)}get nodeAfter(){const e=this.parent;return Bc(this,e,kn(this,e))}get nodeBefore(){const e=this.parent;return Dc(this,e,kn(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=ae(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new je(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=ae(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]==n[s]&&t[s];)s++;return s===0?null:t[s-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const s=this.path[n]-e.path[n];if(s<-1||s>1)return!1;if(s===1)return zo(e,this,n);if(s===-1)return zo(this,e,n)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Bs(this.path,t):Bs(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),n=e.getParentPath();return ae(t,n)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=p._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,n=t.containsPosition(this)||t.start.isEqual(this);let s;return n?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?s=p._createAt(e.deletionPosition):s=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,t){const n=p._createAt(this);if(this.root!=e.root)return n;if(ae(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(ae(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+t>this.path[s])return null;n.path[s]-=t}}return n}_getTransformedByInsertion(e,t){const n=p._createAt(this);if(this.root!=e.root)return n;if(ae(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(ae(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(n.path[s]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return p._createAt(this);const s=this._getTransformedByDeletion(e,n);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):s._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,s=p._createAt(t);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[n]-e.offset,s.path=[...s.path,...this.path.slice(n+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof p)return new p(e.root,e.path,e.stickiness);{const s=e;if(t=="end")t=s.maxOffset;else{if(t=="before")return this._createBefore(s,n);if(t=="after")return this._createAfter(s,n);if(t!==0&&!t)throw new d("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new d("model-position-parent-incorrect",[this,e]);const r=s.getPath();return r.push(t),new this(s.root,r,n)}}static _createAfter(e,t){if(!e.parent)throw new d("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new d("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new p(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new d("model-position-fromjson-no-root",t,{rootName:e.root});return new p(t.getRoot(e.root),e.path,e.stickiness)}}p.prototype.is=function(i){return i==="position"||i==="model:position"};function kn(i,e){const t=e.getChild(e.offsetToIndex(i.offset));return t&&t.is("$text")&&t.startOffset<i.offset?t:null}function Bc(i,e,t){return t!==null?null:e.getChild(e.offsetToIndex(i.offset))}function Dc(i,e,t){return t!==null?null:e.getChild(e.offsetToIndex(i.offset)-1)}function zo(i,e,t){return!(t+1===i.path.length||!Bs(e.path,t+1)||!dw(i,t+1))}function Bs(i,e){for(;e<i.length;){if(i[e]!==0)return!1;e++}return!0}function dw(i,e){let t=i.parent,n=i.path.length-1,s=0;for(;n>=e;){if(i.path[n]+s!==t.maxOffset)return!1;s=1,n--,t=t.parent}return!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class m extends dt{constructor(e,t){super(),this.start=p._createAt(e),this.end=t?p._createAt(t):p._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new je({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return ae(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&s}containsItem(e){const t=p._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new m(this.start,e.start)),this.containsPosition(e.end)&&t.push(new m(e.end,this.end))):t.push(new m(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new m(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(this.start.isBefore(e.start)?n=t?this.end.isTouching(e.start):this.end.isEqual(e.start):n=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let s=this.start,r=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(r)&&(r=e.end),new m(s,r)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=p._createAt(this.start);let s=n.parent;for(;n.path.length>t+1;){const r=s.maxOffset-n.offset;r!==0&&e.push(new m(n,n.getShiftedBy(r))),n.path=n.path.slice(0,-1),n.offset++,s=s.parent}for(;n.path.length<=this.end.path.length;){const r=this.end.path[n.path.length-1],o=r-n.offset;o!==0&&e.push(new m(n,n.getShiftedBy(o))),n.offset=r,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new je(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new je(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new je(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new m(this.start,this.end)]}getTransformedByOperations(e){const t=[new m(this.start,this.end)];for(const n of e)for(let s=0;s<t.length;s++){const r=t[s].getTransformedByOperation(n);t.splice(s,1,...r),s+=r.length-1}for(let n=0;n<t.length;n++){const s=t[n];for(let r=n+1;r<t.length;r++){const o=t[r];(s.containsRange(o)||o.containsRange(s)||s.isEqual(o))&&t.splice(r,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,s=e.howMany,r=e.targetPosition;return this._getTransformedByMove(n,r,s,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new m(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new m(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=p._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new m(t,n)):new m(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new m(this.start,e),new m(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const s=new m(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,t),s.end=s.end._getTransformedByInsertion(e,t),[s]}}_getTransformedByMove(e,t,n,s=!1){if(this.isCollapsed){const u=this.start._getTransformedByMove(e,t,n);return[new m(u)]}const r=m._createFromPositionAndShift(e,n),o=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!s&&(r.containsPosition(this.start)||r.containsPosition(this.end))){const u=this.start._getTransformedByMove(e,t,n),f=this.end._getTransformedByMove(e,t,n);return[new m(u,f)]}let a;const l=this.getDifference(r);let c=null;const h=this.getIntersection(r);if(l.length==1?c=new m(l[0].start._getTransformedByDeletion(e,n),l[0].end._getTransformedByDeletion(e,n)):l.length==2&&(c=new m(this.start,this.end._getTransformedByDeletion(e,n))),c?a=c._getTransformedByInsertion(o,n,h!==null||s):a=[],h){const u=new m(h.start._getCombined(r.start,o),h.end._getCombined(r.start,o));a.length==2?a.splice(1,0,u):a.push(u)}return a}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),s=this.end._getTransformedByDeletion(e,t);return n==null&&s==null?null:(n==null&&(n=e),s==null&&(s=e),new m(n,s))}static _createFromPositionAndShift(e,t){const n=e,s=e.getShiftedBy(t);return t>0?new this(n,s):new this(s,n)}static _createIn(e){return new this(p._createAt(e,0),p._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(p._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new d("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((r,o)=>r.start.isAfter(o.start)?1:-1);const n=e.indexOf(t),s=new this(t.start,t.end);if(n>0)for(let r=n-1;e[r].end.isEqual(s.start);r++)s.start=p._createAt(e[r].start);for(let r=n+1;r<e.length&&e[r].start.isEqual(s.end);r++)s.end=p._createAt(e[r].end);return s}static fromJSON(e,t){return new this(p.fromJSON(e.start,t),p.fromJSON(e.end,t))}}m.prototype.is=function(i){return i==="range"||i==="model:range"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vc extends N(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new d("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),s=this._viewToModelMapping.get(n),r=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=p._createAt(s,r)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const s=this._elementToMarkerNames.get(e);s&&(s.delete(t),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new m(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new M(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const s of t)if(s.is("attributeElement"))for(const r of s.getElementsWithSameId())n.add(r);else n.add(s);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e){const r=this._toModelOffset(e.parent,e.index,n),o=this._toModelOffset(e,t,e);return r+o}if(e.is("$text"))return t;let s=0;for(let r=0;r<t;r++)s+=this.getModelLength(e.getChild(r));return s}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,s=0,r=0,o=0;if(e.is("$text"))return new _(e,t);for(;r<t;)n=e.getChild(o),s=this.getModelLength(n),r+=s,o++;return r==t?this._moveViewPositionToTextNode(new _(e,o)):this.findPositionIn(n,t-(r-s))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof G?new _(t,t.data.length):n instanceof G?new _(n,0):e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fw{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Qn(t),e instanceof Ee&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Qn(t),e instanceof Ee&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=Qn(t),e instanceof Ee&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const s=n.get(t);return s===void 0?null:s}revert(e,t){t=Qn(t),e instanceof Ee&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[n,s]of this._consumable)for(const[r,o]of s){const a=r.split(":")[0];o&&e==a&&t.push({event:r,item:n.name||n.description})}if(t.length)throw new d("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const s=n.get(e.endOffset);s&&(t=s.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,s=e.parent,r=Symbol("$textProxy:"+e.data);let o,a;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),a=o.get(n),a||(a=new Map,o.set(n,a)),a.set(s,r),r}}function Qn(i){const e=i.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?i:e.length>1?e[0]+":"+e[1]:e[0]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nc extends N(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const s=this._createConversionApi(n,e.getRefreshedItems());for(const o of e.getMarkersToRemove())this._convertMarkerRemove(o.name,o.range,s);const r=this._reduceChanges(e.getChanges());for(const o of r)o.type==="insert"?this._convertInsert(m._createFromPositionAndShift(o.position,o.length),s):o.type==="reinsert"?this._convertReinsert(m._createFromPositionAndShift(o.position,o.length),s):o.type==="remove"?this._convertRemove(o.position,o.length,o.name,s):this._convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,s);s.mapper.flushDeferredBindings();for(const o of s.mapper.flushUnboundMarkerNames()){const a=t.get(o).getRange();this._convertMarkerRemove(o,a,s),this._convertMarkerAdd(o,a,s)}for(const o of e.getMarkersToAdd())this._convertMarkerAdd(o.name,o.range,s);s.consumable.verifyAllConsumed("insert")}convert(e,t,n,s={}){const r=this._createConversionApi(n,void 0,s);this._convertInsert(e,r);for(const[o,a]of t)this._convertMarkerAdd(o,a,r);r.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const s=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},s);const r=e.getFirstPosition().root;if(!s.mapper.toViewElement(r))return;const o=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(s.consumable,e,o),this.fire("selection",{selection:e},s),!!e.isCollapsed){for(const a of o)if(s.consumable.test(e,"addMarker:"+a.name)){const l=a.getRange();if(!mw(e.getFirstPosition(),a,s.mapper))continue;const c={item:e,markerName:a.name,markerRange:l};this.fire(`addMarker:${a.name}`,c,s)}for(const a of e.getAttributeKeys())if(s.consumable.test(e,"attribute:"+a)){const l={item:e,range:e.getFirstRange(),attributeKey:a,attributeOldValue:null,attributeNewValue:e.getAttribute(a)};this.fire(`attribute:${a}:$text`,l,s)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const s of Array.from(e.getWalker({shallow:!0})).map(Uo))this._testAndFire("insert",s,t)}_convertRemove(e,t,n,s){this.fire(`remove:${n}`,{position:e,length:t},s)}_convertAttribute(e,t,n,s,r){this._addConsumablesForRange(r.consumable,e,`attribute:${t}`);for(const o of e){const a={item:o.item,range:m._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:n,attributeNewValue:s};this._testAndFire(`attribute:${t}`,a,r)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const s of n.map(Uo))this._testAndFire("insert",{...s,reconversion:!0},t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(n.consumable.add(t,s),this.fire(s,{markerName:e,markerRange:t},n),!!n.consumable.consume(t,s)){this._addConsumablesForRange(n.consumable,t,s);for(const r of t.getItems()){if(!n.consumable.test(r,s))continue;const o={item:r,range:m._createOn(r),markerName:e,markerRange:t};this.fire(s,o,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const s=n.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const r of s.getAttributeKeys())e.add(s,"attribute:"+r)}}return e}_addConsumablesForRange(e,t,n){for(const s of t.getItems())e.add(s,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const s of n)e.add(t,"addMarker:"+s.name);for(const s of t.getAttributeKeys())e.add(t,"attribute:"+s);return e}_testAndFire(e,t,n){const s=gw(e,t),r=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(n),a=o.get(r);if(!a)o.set(r,new Set([s]));else if(!a.has(s))a.add(s);else return;this.fire(s,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:m._createOn(e)};for(const s of n.item.getAttributeKeys())n.attributeKey=s,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(s),this._testAndFire(`attribute:${s}`,n,t)}_createConversionApi(e,t=new Set,n={}){const s={...this._conversionApi,consumable:new fw,writer:e,options:n,convertItem:r=>this._convertInsert(m._createOn(r),s),convertChildren:r=>this._convertInsert(m._createIn(r),s,{doNotAddConsumables:!0}),convertAttributes:r=>this._testAndFireAddAttributes(r,s),canReuseView:r=>!t.has(s.mapper.toModelElement(r))};return this._firedEventsMap.set(s,new Map),s}}function mw(i,e,t){const n=e.getRange(),s=Array.from(i.getAncestors());return s.shift(),s.reverse(),!s.some(o=>{if(n.containsItem(o))return!!t.toViewElement(o).getCustomProperty("addHighlight")})}function gw(i,e){const t=e.item.is("element")?e.item.name:"$text";return`${i}:${t}`}function Uo(i){const e=i.item,t=m._createFromPositionAndShift(i.previousPosition,i.length);return{item:e,range:t}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class me extends N(dt){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const s of e._ranges)if(t.isEqual(s)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new m(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new m(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new m(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,s]=e;if(typeof n=="object"&&(s=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof me)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof m)this._setRanges([t],!!s&&!!s.backward);else if(t instanceof p)this._setRanges([new m(t)]);else if(t instanceof It){const r=!!s&&!!s.backward;let o;if(n=="in")o=m._createIn(t);else if(n=="on")o=m._createOn(t);else if(n!==void 0)o=new m(p._createAt(t,n));else throw new d("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([o],r)}else if(we(t))this._setRanges(t,s&&!!s.backward);else throw new d("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const n=Array.from(e),s=n.some(r=>{if(!(r instanceof m))throw new d("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(o=>!o.isEqual(r))});n.length===this._ranges.length&&!s||(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new d("model-selection-setfocus-no-ranges",[this,e]);const n=p._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(s)=="before"?(this._pushRange(new m(n,s)),this._lastRangeBackward=!0):(this._pushRange(new m(s,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=qo(t.start,e);ww(n,t)&&(yield n);for(const r of t.getWalker()){const o=r.item;r.type=="elementEnd"&&pw(o,e,t)&&(yield o)}const s=qo(t.end,e);_w(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=p._createAt(e,0),n=p._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new m(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new d("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}me.prototype.is=function(i){return i==="selection"||i==="model:selection"};function Lc(i,e){return e.has(i)?!1:(e.add(i),i.root.document.model.schema.isBlock(i)&&!!i.parent)}function pw(i,e,t){return Lc(i,e)&&_r(i,t)}function qo(i,e){const n=i.parent.root.document.model.schema,s=i.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=s.find(a=>r?!1:(r=n.isLimit(a),!r&&Lc(a,e)));return s.forEach(a=>e.add(a)),o}function _r(i,e){const t=bw(i);return t?!e.containsRange(m._createOn(t),!0):!0}function ww(i,e){return i?e.isCollapsed||i.isEmpty?!0:e.start.isTouching(p._createAt(i,i.maxOffset))?!1:_r(i,e):!1}function _w(i,e){return i?e.isCollapsed||i.isEmpty?!0:e.end.isTouching(p._createAt(i,0))?!1:_r(i,e):!1}function bw(i){const e=i.root.document.model.schema;let t=i.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Se extends N(m){constructor(e,t){super(e,t),xw.call(this)}detach(){this.stopListening()}toRange(){return new m(this.start,this.end)}static fromRange(e){return new Se(e.start,e.end)}}Se.prototype.is=function(i){return i==="liveRange"||i==="model:liveRange"||i=="range"||i==="model:range"};function xw(){this.listenTo(this.root.document.model,"applyOperation",(i,e)=>{const t=e[0];t.isDocumentOperation&&yw.call(this,t)},{priority:"low"})}function yw(i){const e=this.getTransformedByOperation(i),t=m._createFromRanges(e),n=!t.isEqual(this),s=vw(this,i);let r=null;if(n){t.root.rootName=="$graveyard"&&(i.type=="remove"?r=i.sourcePosition:r=i.deletionPosition);const o=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",o,{deletionPosition:r})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:r})}function vw(i,e){switch(e.type){case"insert":return i.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return i.containsPosition(e.sourcePosition)||i.start.isEqual(e.sourcePosition)||i.containsPosition(e.targetPosition);case"split":return i.containsPosition(e.splitPosition)||i.containsPosition(e.insertionPosition)}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Dn="selection:";class Ae extends N(dt){constructor(e){super(),this._selection=new kw(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Dn+e}static _isStoreAttributeKey(e){return e.startsWith(Dn)}}Ae.prototype.is=function(i){return i==="selection"||i=="model:selection"||i=="documentSelection"||i=="model:documentSelection"};class kw extends me{constructor(e){super(),this.markers=new ht({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const s=n[0];!s.isDocumentOperation||s.type=="marker"||s.type=="rename"||s.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,s,r)=>{this._updateMarker(n,r)}),this.listenTo(this._document,"change",(t,n)=>{Cw(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=Je();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new d("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new d("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Se.fromRange(e);return t.on("change:range",(n,s,r)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const o=this._ranges.indexOf(t);this._ranges.splice(o,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const s of this._model.markers){const r=s.name.split(":",1)[0];if(!this._observedMarkers.has(r))continue;const o=s.getRange();for(const a of this.getRanges())o.containsRange(a,!a.isCollapsed)&&e.push(s)}const n=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),t=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let s=!1;const r=Array.from(this.markers),o=this.markers.has(e);if(!t)o&&(this.markers.remove(e),s=!0);else{let a=!1;for(const l of this.getRanges())if(t.containsRange(l,!l.isCollapsed)){a=!0;break}a&&!o?(this.markers.add(e),s=!0):!a&&o&&(this.markers.remove(e),s=!0)}s&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(e){const t=Xe(this._getSurroundingAttributes()),n=Xe(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[r,o]of this._attributePriority)o=="low"&&(this._attrs.delete(r),this._attributePriority.delete(r));this._setAttributesTo(t);const s=[];for(const[r,o]of this.getAttributes())(!n.has(r)||n.get(r)!==o)&&s.push(r);for(const[r]of n)this.hasAttribute(r)||s.push(r);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,t,n=!0){const s=n?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,s),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return n=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,n),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[n,s]of this.getAttributes())e.get(n)!==s&&this._removeAttribute(n,!1);for(const[n,s]of e)this._setAttribute(n,s,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Dn)&&(yield[t.substr(Dn.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,r=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=hn(s,t)),n||(n=hn(r,t)),!this.isGravityOverridden&&!n){let o=s;for(;o&&!n;)o=o.previousSibling,n=hn(o,t)}if(!n){let o=r;for(;o&&!n;)o=o.nextSibling,n=hn(o,t)}n||(n=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const r of s){if(r.item.is("element")&&t.isObject(r.item)){n=hn(r.item,t);break}if(r.type=="text"){n=r.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function hn(i,e){if(!i)return null;if(i instanceof Ee||i instanceof D)return i.getAttributes();if(!e.isInline(i))return null;if(!e.isObject(i))return[];const t=[];for(const[n,s]of i.getAttributes())e.checkAttribute("$text",n)&&e.getAttributeProperties(n).copyFromObject!==!1&&t.push([n,s]);return t}function Cw(i,e){const t=i.document.differ;for(const n of t.getChanges()){if(n.type!="insert")continue;const s=n.position.parent;n.length===s.maxOffset&&i.enqueueChange(e,o=>{const a=Array.from(s.getAttributeKeys()).filter(l=>l.startsWith(Dn));for(const l of a)o.removeAttribute(l,s)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wc{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tw extends Wc{elementToElement(e){return this.add(zw(e))}elementToStructure(e){return this.add(Uw(e))}attributeToElement(e){return this.add(qw(e))}attributeToAttribute(e){return this.add(Gw(e))}markerToElement(e){return this.add(jw(e))}markerToHighlight(e){return this.add(Zw(e))}markerToData(e){return this.add(Kw(e))}}function Hc(){return(i,e,t)=>{if(!t.consumable.consume(e.item,i.name))return;const n=t.writer,s=t.mapper.toViewPosition(e.range.start),r=n.createText(e.item.data);n.insert(s,r)}}function $c(){return(i,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function Pw(){return(i,e,t)=>{const n=t.mapper.toViewPosition(e.position),s=e.position.getShiftedBy(e.length),r=t.mapper.toViewPosition(s,{isPhantom:!0}),o=t.writer.createRange(n,r),a=t.writer.remove(o.getTrimmed());for(const l of t.writer.createRangeIn(a).getItems())t.mapper.unbindViewElement(l,{defer:!0})}}function zc(i,e){const t=i.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function Ew(){return(i,e,t)=>{const n=e.selection;if(n.isCollapsed||!t.consumable.consume(n,"selection"))return;const s=[];for(const r of n.getRanges())s.push(t.mapper.toViewRange(r));t.writer.setSelection(s,{backward:n.isBackward})}}function Sw(){return(i,e,t)=>{const n=e.selection;if(!n.isCollapsed||!t.consumable.consume(n,"selection"))return;const s=t.writer,r=n.getFirstPosition(),o=t.mapper.toViewPosition(r),a=s.breakAttributes(o);s.setSelection(a)}}function Aw(){return(i,e,t)=>{const n=t.writer,s=n.document.selection;for(const r of s.getRanges())r.isCollapsed&&r.end.parent.isAttached()&&t.writer.mergeAttributes(r.start);n.setSelection(null)}}function Mw(i){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const s=i(t.attributeOldValue,n,t),r=i(t.attributeNewValue,n,t);if(!s&&!r)return;n.consumable.consume(t.item,e.name);const o=n.writer,a=o.document.selection;if(t.item instanceof me||t.item instanceof Ae)o.wrap(a.getFirstRange(),r);else{let l=n.mapper.toViewRange(t.range);t.attributeOldValue!==null&&s&&(l=o.unwrap(l,s)),t.attributeNewValue!==null&&r&&o.wrap(l,r)}}}function Fw(i,e=n_){return(t,n,s)=>{if(!e(n.item,s.consumable,{preflight:!0}))return;const r=i(n.item,s,n);if(!r)return;e(n.item,s.consumable);const o=s.mapper.toViewPosition(n.range.start);s.mapper.bindElements(n.item,r),s.writer.insert(o,r),s.convertAttributes(n.item),Kc(r,n.item.getChildren(),s,{reconversion:n.reconversion})}}function Rw(i,e){return(t,n,s)=>{if(!e(n.item,s.consumable,{preflight:!0}))return;const r=new Map;s.writer._registerSlotFactory(Yw(n.item,r,s));const o=i(n.item,s,n);if(s.writer._clearSlotFactory(),!o)return;Qw(n.item,r,s),e(n.item,s.consumable);const a=s.mapper.toViewPosition(n.range.start);s.mapper.bindElements(n.item,o),s.writer.insert(a,o),s.convertAttributes(n.item),e_(o,r,s,{reconversion:n.reconversion})}}function Ow(i){return(e,t,n)=>{t.isOpening=!0;const s=i(t,n);t.isOpening=!1;const r=i(t,n);if(!s||!r)return;const o=t.markerRange;if(o.isCollapsed&&!n.consumable.consume(o,e.name))return;for(const c of o)if(!n.consumable.consume(c.item,e.name))return;const a=n.mapper,l=n.writer;l.insert(a.toViewPosition(o.start),s),n.mapper.bindElementToMarker(s,t.markerName),o.isCollapsed||(l.insert(a.toViewPosition(o.end),r),n.mapper.bindElementToMarker(r,t.markerName)),e.stop()}}function Iw(){return(i,e,t)=>{const n=t.mapper.markerNameToElements(e.markerName);if(n){for(const s of n)t.mapper.unbindElementFromMarkerName(s,e.markerName),t.writer.clear(t.writer.createRangeOn(s),s);t.writer.clearClonedElementsGroup(e.markerName),i.stop()}}}function Bw(i){return(e,t,n)=>{const s=i(t.markerName,n);if(!s)return;const r=t.markerRange;n.consumable.consume(r,e.name)&&(Go(r,!1,n,t,s),Go(r,!0,n,t,s),e.stop())}}function Go(i,e,t,n,s){const r=e?i.start:i.end,o=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(o||a){let c,h;e&&o||!e&&!a?(c=o,h=!0):(c=a,h=!1);const u=t.mapper.toViewElement(c);if(u){Dw(u,e,h,t,n,s);return}}const l=t.mapper.toViewPosition(r);Vw(l,e,t,n,s)}function Dw(i,e,t,n,s,r){const o=`data-${r.group}-${e?"start":"end"}-${t?"before":"after"}`,a=i.hasAttribute(o)?i.getAttribute(o).split(","):[];a.unshift(r.name),n.writer.setAttribute(o,a.join(","),i),n.mapper.bindElementToMarker(i,s.markerName)}function Vw(i,e,t,n,s){const r=`${s.group}-${e?"start":"end"}`,o=s.name?{name:s.name}:null,a=t.writer.createUIElement(r,o);t.writer.insert(i,a),t.mapper.bindElementToMarker(a,n.markerName)}function Nw(i){return(e,t,n)=>{const s=i(t.markerName,n);if(!s)return;const r=n.mapper.markerNameToElements(t.markerName);if(!r)return;for(const a of r)n.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("containerElement")?(o(`data-${s.group}-start-before`,a),o(`data-${s.group}-start-after`,a),o(`data-${s.group}-end-before`,a),o(`data-${s.group}-end-after`,a)):n.writer.clear(n.writer.createRangeOn(a),a);n.writer.clearClonedElementsGroup(t.markerName),e.stop();function o(a,l){if(l.hasAttribute(a)){const c=new Set(l.getAttribute(a).split(","));c.delete(s.name),c.size==0?n.writer.removeAttribute(a,l):n.writer.setAttribute(a,Array.from(c).join(","),l)}}}}function Lw(i){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const s=i(t.attributeOldValue,n,t),r=i(t.attributeNewValue,n,t);if(!s&&!r)return;n.consumable.consume(t.item,e.name);const o=n.mapper.toViewElement(t.item),a=n.writer;if(!o)throw new d("conversion-attribute-to-attribute-on-text",n.dispatcher,t);if(t.attributeOldValue!==null&&s)if(s.key=="class"){const l=typeof s.value=="string"?s.value.split(/\s+/):s.value;for(const c of l)a.removeClass(c,o)}else if(s.key=="style")if(typeof s.value=="string"){const l=new Ms(a.document.stylesProcessor);l.setTo(s.value);for(const[c]of l.getStylesEntries())a.removeStyle(c,o)}else{const l=Object.keys(s.value);for(const c of l)a.removeStyle(c,o)}else a.removeAttribute(s.key,o);if(t.attributeNewValue!==null&&r)if(r.key=="class"){const l=typeof r.value=="string"?r.value.split(/\s+/):r.value;for(const c of l)a.addClass(c,o)}else if(r.key=="style")if(typeof r.value=="string"){const l=new Ms(a.document.stylesProcessor);l.setTo(r.value);for(const[c,h]of l.getStylesEntries())a.setStyle(c,h,o)}else{const l=Object.keys(r.value);for(const c of l)a.setStyle(c,r.value[c],o)}else a.setAttribute(r.key,r.value,o)}}function Ww(i){return(e,t,n)=>{if(!t.item||!(t.item instanceof me||t.item instanceof Ae)&&!t.item.is("$textProxy"))return;const s=br(i,t,n);if(!s||!n.consumable.consume(t.item,e.name))return;const r=n.writer,o=zc(r,s),a=r.document.selection;if(t.item instanceof me||t.item instanceof Ae)r.wrap(a.getFirstRange(),o);else{const l=n.mapper.toViewRange(t.range),c=r.wrap(l,o);for(const h of c.getItems())if(h.is("attributeElement")&&h.isSimilar(o)){n.mapper.bindElementToMarker(h,t.markerName);break}}}}function Hw(i){return(e,t,n)=>{if(!t.item||!(t.item instanceof B))return;const s=br(i,t,n);if(!s||!n.consumable.test(t.item,e.name))return;const r=n.mapper.toViewElement(t.item);if(r&&r.getCustomProperty("addHighlight")){n.consumable.consume(t.item,e.name);for(const a of m._createIn(t.item))n.consumable.consume(a.item,e.name);r.getCustomProperty("addHighlight")(r,s,n.writer),n.mapper.bindElementToMarker(r,t.markerName)}}}function $w(i){return(e,t,n)=>{if(t.markerRange.isCollapsed)return;const s=br(i,t,n);if(!s)return;const r=zc(n.writer,s),o=n.mapper.markerNameToElements(t.markerName);if(o){for(const a of o)n.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("attributeElement")?n.writer.unwrap(n.writer.createRangeOn(a),r):a.getCustomProperty("removeHighlight")(a,s.id,n.writer);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function zw(i){const e=Uc(i.model),t=Vn(i.view,"container");return e.attributes.length&&(e.children=!0),n=>{n.on(`insert:${e.name}`,Fw(t,jc(e)),{priority:i.converterPriority||"normal"}),(e.children||e.attributes.length)&&n.on("reduceChanges",Gc(e),{priority:"low"})}}function Uw(i){const e=Uc(i.model),t=Vn(i.view,"container");return e.children=!0,n=>{if(n._conversionApi.schema.checkChild(e.name,"$text"))throw new d("conversion-element-to-structure-disallowed-text",n,{elementName:e.name});n.on(`insert:${e.name}`,Rw(t,jc(e)),{priority:i.converterPriority||"normal"}),n.on("reduceChanges",Gc(e),{priority:"low"})}}function qw(i){i=ct(i);let e=i.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)i.view[s]=Vn(i.view[s],"attribute");else i.view=Vn(i.view,"attribute");const n=qc(i);return s=>{s.on(t,Mw(n),{priority:i.converterPriority||"normal"})}}function Gw(i){i=ct(i);let e=i.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)i.view[s]=jo(i.view[s]);else i.view=jo(i.view);const n=qc(i);return s=>{s.on(t,Lw(n),{priority:i.converterPriority||"normal"})}}function jw(i){const e=Vn(i.view,"ui");return t=>{t.on(`addMarker:${i.model}`,Ow(e),{priority:i.converterPriority||"normal"}),t.on(`removeMarker:${i.model}`,Iw(),{priority:i.converterPriority||"normal"})}}function Kw(i){i=ct(i);const e=i.model;let t=i.view;return t||(t=n=>({group:e,name:n.substr(i.model.length+1)})),n=>{n.on(`addMarker:${e}`,Bw(t),{priority:i.converterPriority||"normal"}),n.on(`removeMarker:${e}`,Nw(t),{priority:i.converterPriority||"normal"})}}function Zw(i){return e=>{e.on(`addMarker:${i.model}`,Ww(i.view),{priority:i.converterPriority||"normal"}),e.on(`addMarker:${i.model}`,Hw(i.view),{priority:i.converterPriority||"normal"}),e.on(`removeMarker:${i.model}`,$w(i.view),{priority:i.converterPriority||"normal"})}}function Uc(i){return typeof i=="string"&&(i={name:i}),{name:i.name,attributes:i.attributes?ke(i.attributes):[],children:!!i.children}}function Vn(i,e){return typeof i=="function"?i:(t,n)=>Jw(i,n,e)}function Jw(i,e,t){typeof i=="string"&&(i={name:i});let n;const s=e.writer,r=Object.assign({},i.attributes);if(t=="container")n=s.createContainerElement(i.name,r);else if(t=="attribute"){const o={priority:i.priority||kt.DEFAULT_PRIORITY};n=s.createAttributeElement(i.name,r,o)}else n=s.createUIElement(i.name,r);if(i.styles){const o=Object.keys(i.styles);for(const a of o)s.setStyle(a,i.styles[a],n)}if(i.classes){const o=i.classes;if(typeof o=="string")s.addClass(o,n);else for(const a of o)s.addClass(a,n)}return n}function qc(i){return i.model.values?(e,t,n)=>{const s=i.view[e];return s?s(e,t,n):null}:i.view}function jo(i){return typeof i=="string"?e=>({key:i,value:e}):typeof i=="object"?i.value?()=>i:e=>({key:i.key,value:e}):i}function br(i,e,t){const n=typeof i=="function"?i(e,t):i;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function Xw(i){return(e,t)=>{if(!e.is("element",i.name))return!1;if(t.type=="attribute"){if(i.attributes.includes(t.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(i.children)return!0}return!1}}function Gc(i){const e=Xw(i);return(t,n)=>{const s=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const r of n.changes){const o=r.type=="attribute"?r.range.start.nodeAfter:r.position.parent;if(!o||!e(o,r)){s.push(r);continue}if(!n.reconvertedElements.has(o)){n.reconvertedElements.add(o);const a=p._createBefore(o);let l=s.length;for(let c=s.length-1;c>=0;c--){const h=s[c],f=(h.type=="attribute"?h.range.start:h.position).compareWith(a);if(f=="before"||h.type=="remove"&&f=="same")break;l=c}s.splice(l,0,{type:"remove",name:o.name,position:a,length:1},{type:"reinsert",name:o.name,position:a,length:1})}}n.changes=s}}function jc(i){return(e,t,n={})=>{const s=["insert"];for(const r of i.attributes)e.hasAttribute(r)&&s.push(`attribute:${r}`);return s.every(r=>t.test(e,r))?(n.preflight||s.forEach(r=>t.consume(e,r)),!0):!1}}function Yw(i,e,t){return(n,s)=>{const r=n.createContainerElement("$slot");let o=null;if(s==="children")o=Array.from(i.getChildren());else if(typeof s=="function")o=Array.from(i.getChildren()).filter(a=>s(a));else throw new d("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:s});return e.set(r,o),r}}function Qw(i,e,t){const n=Array.from(e.values()).flat(),s=new Set(n);if(s.size!=n.length)throw new d("conversion-slot-filter-overlap",t.dispatcher,{element:i});if(s.size!=i.childCount)throw new d("conversion-slot-filter-incomplete",t.dispatcher,{element:i})}function e_(i,e,t,n){t.mapper.on("modelToViewPosition",o,{priority:"highest"});let s=null,r=null;for([s,r]of e)Kc(i,r,t,n),t.writer.move(t.writer.createRangeIn(s),t.writer.createPositionBefore(s)),t.writer.remove(s);t.mapper.off("modelToViewPosition",o);function o(a,l){const c=l.modelPosition.nodeAfter,h=r.indexOf(c);h<0||(l.viewPosition=l.mapper.findPositionIn(s,h))}}function Kc(i,e,t,n){for(const s of e)t_(i.root,s,t,n)||t.convertItem(s)}function t_(i,e,t,n){const{writer:s,mapper:r}=t;if(!n.reconversion)return!1;const o=r.toViewElement(e);return!o||o.root==i||!t.canReuseView(o)?!1:(s.move(s.createRangeOn(o),r.toViewPosition(p._createBefore(e))),!0)}function n_(i,e,{preflight:t}={}){return t?e.test(i,"insert"):e.consume(i,"insert")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Zc(i){const{schema:e,document:t}=i.model;for(const n of t.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return i.insertElement("paragraph",n),!0;return!1}function Jc(i,e,t){const n=t.createContext(i);return!(!t.checkChild(n,"paragraph")||!t.checkChild(n.push("paragraph"),e))}function Xc(i,e){const t=e.createElement("paragraph");return e.insert(t,i),e.createPositionAt(t,0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class i_ extends Wc{elementToElement(e){return this.add(Yc(e))}elementToAttribute(e){return this.add(o_(e))}attributeToAttribute(e){return this.add(a_(e))}elementToMarker(e){return this.add(l_(e))}dataToMarker(e){return this.add(c_(e))}}function Ko(){return(i,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:n,modelCursor:s}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=n,e.modelCursor=s}}}function s_(){return(i,e,{schema:t,consumable:n,writer:s})=>{let r=e.modelCursor;if(!n.test(e.viewItem))return;if(!t.checkChild(r,"$text")){if(!Jc(r,"$text",t)||e.viewItem.data.trim().length==0)return;const a=r.nodeBefore;r=Xc(r,s),a&&a.is("element","$marker")&&(s.move(s.createRangeOn(a),r),r=s.createPositionAfter(a))}n.consume(e.viewItem);const o=s.createText(e.viewItem.data);s.insert(o,r),e.modelRange=s.createRange(r,r.getShiftedBy(o.offsetSize)),e.modelCursor=e.modelRange.end}}function r_(i,e){return(t,n)=>{const s=n.newSelection,r=[];for(const a of s.getRanges())r.push(e.toModelRange(a));const o=i.createSelection(r,{backward:s.isBackward});o.isEqual(i.document.selection)||i.change(a=>{a.setSelection(o)})}}function Yc(i){i=ct(i);const e=Ds(i),t=xr(i.view),n=t?`element:${t}`:"element";return s=>{s.on(n,e,{priority:i.converterPriority||"normal"})}}function o_(i){i=ct(i),Qc(i);const e=eh(i,!1),t=xr(i.view),n=t?`element:${t}`:"element";return s=>{s.on(n,e,{priority:i.converterPriority||"low"})}}function a_(i){i=ct(i);let e=null;(typeof i.view=="string"||i.view.key)&&(e=d_(i)),Qc(i,e);const t=eh(i,!0);return n=>{n.on("element",t,{priority:i.converterPriority||"low"})}}function l_(i){const e=g_(i.model);return Yc({...i,model:e})}function c_(i){i=ct(i),i.model||(i.model=s=>s?i.view+":"+s:i.view);const e={view:i.view,model:i.model},t=Ds(Zo(e,"start")),n=Ds(Zo(e,"end"));return s=>{s.on(`element:${i.view}-start`,t,{priority:i.converterPriority||"normal"}),s.on(`element:${i.view}-end`,n,{priority:i.converterPriority||"normal"});const r=vt.low,o=vt.highest,a=vt.get(i.converterPriority)/o;s.on("element",h_(e),{priority:r+a})}}function h_(i){return(e,t,n)=>{const s=`data-${i.view}`;if(!n.consumable.test(t.viewItem,{attributes:s+"-end-after"})&&!n.consumable.test(t.viewItem,{attributes:s+"-start-after"})&&!n.consumable.test(t.viewItem,{attributes:s+"-end-before"})&&!n.consumable.test(t.viewItem,{attributes:s+"-start-before"}))return;t.modelRange||Object.assign(t,n.convertChildren(t.viewItem,t.modelCursor)),n.consumable.consume(t.viewItem,{attributes:s+"-end-after"})&&r(t.modelRange.end,t.viewItem.getAttribute(s+"-end-after").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-start-after"})&&r(t.modelRange.end,t.viewItem.getAttribute(s+"-start-after").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-end-before"})&&r(t.modelRange.start,t.viewItem.getAttribute(s+"-end-before").split(",")),n.consumable.consume(t.viewItem,{attributes:s+"-start-before"})&&r(t.modelRange.start,t.viewItem.getAttribute(s+"-start-before").split(","));function r(o,a){for(const l of a){const c=i.model(l,n),h=n.writer.createElement("$marker",{"data-name":c});n.writer.insert(h,o),t.modelCursor.isEqual(o)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(o,1),t.modelRange=t.modelRange._getTransformedByInsertion(o,1)[0]}}}}function xr(i){return typeof i=="string"?i:typeof i=="object"&&typeof i.name=="string"?i.name:null}function Ds(i){const e=new On(i.view);return(t,n,s)=>{const r=e.match(n.viewItem);if(!r)return;const o=r.match;if(o.name=!0,!s.consumable.test(n.viewItem,o))return;const a=u_(i.model,n.viewItem,s);a&&s.safeInsert(a,n.modelCursor)&&(s.consumable.consume(n.viewItem,o),s.convertChildren(n.viewItem,a),s.updateConversionResult(a,n))}}function u_(i,e,t){return i instanceof Function?i(e,t):t.writer.createElement(i)}function d_(i){typeof i.view=="string"&&(i.view={key:i.view});const e=i.view.key,t=typeof i.view.value>"u"?/[\s\S]*/:i.view.value;let n;return e=="class"||e=="style"?n={[e=="class"?"classes":"styles"]:t}:n={attributes:{[e]:t}},i.view.name&&(n.name=i.view.name),i.view=n,e}function Qc(i,e=null){const t=e===null?!0:r=>r.getAttribute(e),n=typeof i.model!="object"?i.model:i.model.key,s=typeof i.model!="object"||typeof i.model.value>"u"?t:i.model.value;i.model={key:n,value:s}}function eh(i,e){const t=new On(i.view);return(n,s,r)=>{if(!s.modelRange&&e)return;const o=t.match(s.viewItem);if(!o||(f_(i.view,s.viewItem)?o.match.name=!0:delete o.match.name,!r.consumable.test(s.viewItem,o.match)))return;const a=i.model.key,l=typeof i.model.value=="function"?i.model.value(s.viewItem,r):i.model.value;if(l===null)return;s.modelRange||Object.assign(s,r.convertChildren(s.viewItem,s.modelCursor)),m_(s.modelRange,{key:a,value:l},e,r)&&(r.consumable.test(s.viewItem,{name:!0})&&(o.match.name=!0),r.consumable.consume(s.viewItem,o.match))}}function f_(i,e){const t=typeof i=="function"?i(e):i;return typeof t=="object"&&!xr(t)?!1:!t.classes&&!t.attributes&&!t.styles}function m_(i,e,t,n){let s=!1;for(const r of Array.from(i.getItems({shallow:t})))n.schema.checkAttribute(r,e.key)&&(s=!0,!r.hasAttribute(e.key)&&n.writer.setAttribute(e.key,e.value,r));return s}function g_(i){return(e,t)=>{const n=typeof i=="string"?i:i(e,t);return t.writer.createElement("$marker",{"data-name":n})}}function Zo(i,e){const t=(n,s)=>{const r=n.getAttribute("name"),o=i.model(r,s);return s.writer.createElement("$marker",{"data-name":o})};return{view:`${i.view}-${e}`,model:t}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function p_(i){i.document.registerPostFixer(e=>w_(e,i))}function w_(i,e){const t=e.document.selection,n=e.schema,s=[];let r=!1;for(const o of t.getRanges()){const a=th(o,n);a&&!a.isEqual(o)?(s.push(a),r=!0):s.push(o)}return r&&i.setSelection(y_(s),{backward:t.isBackward}),!1}function th(i,e){return i.isCollapsed?__(i,e):b_(i,e)}function __(i,e){const t=i.start,n=e.getNearestSelectionRange(t);if(!n){const r=t.getAncestors().reverse().find(o=>e.isObject(o));return r?m._createOn(r):null}if(!n.isCollapsed)return n;const s=n.start;return t.isEqual(s)?null:new m(s)}function b_(i,e){const{start:t,end:n}=i,s=e.checkChild(t,"$text"),r=e.checkChild(n,"$text"),o=e.getLimitElement(t),a=e.getLimitElement(n);if(o===a){if(s&&r)return null;if(x_(t,n,e)){const u=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),g=n.nodeBefore&&e.isSelectable(n.nodeBefore)?null:e.getNearestSelectionRange(n,"backward"),w=u?u.start:t,b=g?g.end:n;return new m(w,b)}}const l=o&&!o.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const h=t.nodeAfter&&n.nodeBefore&&t.nodeAfter.parent===n.nodeBefore.parent,u=l&&(!h||!Xo(t.nodeAfter,e)),f=c&&(!h||!Xo(n.nodeBefore,e));let g=t,w=n;return u&&(g=p._createBefore(Jo(o,e))),f&&(w=p._createAfter(Jo(a,e))),new m(g,w)}return null}function Jo(i,e){let t=i,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function x_(i,e,t){const n=i.nodeAfter&&!t.isLimit(i.nodeAfter)||t.checkChild(i,"$text"),s=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return n||s}function y_(i){const e=[...i],t=new Set;let n=1;for(;n<e.length;){const r=e[n],o=e.slice(0,n);for(const[a,l]of o.entries())if(!t.has(a)){if(r.isEqual(l))t.add(a);else if(r.isIntersecting(l)){t.add(a),t.add(n);const c=r.getJoined(l);e.push(c)}}n++}return e.filter((r,o)=>!t.has(o))}function Xo(i,e){return i&&e.isSelectable(i)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class v_ extends q(){constructor(e,t){super(),this.model=e,this.view=new hw(t),this.mapper=new Vc,this.downcastDispatcher=new Nc({mapper:this.mapper,schema:e.schema});const n=this.model.document,s=n.selection,r=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(o=>{this.downcastDispatcher.convertChanges(n.differ,r,o),this.downcastDispatcher.convertSelection(s,r,o)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",r_(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",k_(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",Hc(),{priority:"lowest"}),this.downcastDispatcher.on("insert",$c(),{priority:"lowest"}),this.downcastDispatcher.on("remove",Pw(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",Aw()),this.downcastDispatcher.on("selection",Ew(),{priority:"low"}),this.downcastDispatcher.on("selection",Sw(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(o=>{if(o.rootName=="$graveyard")return null;const a=new yc(this.view.document,o.name);return a.rootName=o.rootName,this.mapper.bindElements(o,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new d("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function k_(i,e,t){return(n,s)=>{if(!(t.document.isComposing&&!A.isAndroid))for(let r=0;r<s.targetRanges.length;r++){const o=s.targetRanges[r],a=i.toModelRange(o),l=th(a,e);!l||l.isEqual(a)||(s.targetRanges[r]=i.toViewRange(l))}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cn{constructor(){this._consumables=new Map}add(e,t){let n;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?n=this._consumables.get(e):(n=new C_(e),this._consumables.set(e,n)),n.add(t)}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return this.test(e,t)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0):!1}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const o of n)o=="style"||o=="class"||t.attributes.push(o);const s=e.getClassNames();for(const o of s)t.classes.push(o);const r=e.getStyleNames();for(const o of r)t.styles.push(o);return t}static createFrom(e,t){if(t||(t=new Cn),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,Cn.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=Cn.createFrom(n,t);return t}}const ei=["attributes","classes","styles"];class C_{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of ei)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of ei)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of ei)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of ei)t in e&&this._revert(t,e[t])}_add(e,t){const n=le(t)?t:[t],s=this._consumables[e];for(const r of n){if(e==="attributes"&&(r==="class"||r==="style"))throw new d("viewconsumable-invalid-attribute",this);if(s.set(r,!0),e==="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(r))s.set(o,!0)}}_test(e,t){const n=le(t)?t:[t],s=this._consumables[e];for(const r of n)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles",a=this._test(o,[...this._consumables[o].keys()]);if(a!==!0)return a}else{const o=s.get(r);if(o===void 0)return null;if(!o)return!1}return!0}_consume(e,t){const n=le(t)?t:[t],s=this._consumables[e];for(const r of n)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles";this._consume(o,[...this._consumables[o].keys()])}else if(s.set(r,!1),e=="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(r))s.set(o,!1)}_revert(e,t){const n=le(t)?t:[t],s=this._consumables[e];for(const r of n)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles";this._revert(o,[...this._consumables[o].keys()])}else s.get(r)===!1&&s.set(r,!0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class T_ extends q(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Ct(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Ct(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new d("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new d("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(t,e):!1}checkAttribute(e,t){const n=this.getDefinition(e.last);return n?n.allowAttributes.includes(t):!1}checkMerge(e,t){if(e instanceof p){const n=e.nodeBefore,s=e.nodeAfter;if(!(n instanceof B))throw new d("schema-check-merge-no-element-before",this);if(!(s instanceof B))throw new d("schema-check-merge-no-element-after",this);return this.checkMerge(n,s)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,s])=>{if(!s)return;const r=e(n,s);typeof r=="boolean"&&(t.stop(),t.return=r)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,s])=>{const r=e(n,s);typeof r=="boolean"&&(t.stop(),t.return=r)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof p?t=e.parent:t=(e instanceof m?[e]:Array.from(e.getRanges())).reduce((s,r)=>{const o=r.getCommonAncestor();return s?s.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new D("",e.getAttributes())];return this.checkAttribute(s,t)}else{const n=e.getRanges();for(const s of n)for(const r of s)if(this.checkAttribute(r.item,t))return!0}return!1}*getValidRanges(e,t){e=H_(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new m(e);let n,s;const r=e.getAncestors().reverse().find(o=>this.isLimit(o))||e.root;(t=="both"||t=="backward")&&(n=new je({boundaries:m._createIn(r),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(s=new je({boundaries:m._createIn(r),startPosition:e}));for(const o of W_(n,s)){const a=o.walker==n?"elementEnd":"elementStart",l=o.value;if(l.type==a&&this.isObject(l.item))return m._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new m(l.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const s=n.model;for(const[r,o]of Object.entries(t))s.schema.checkAttribute(e,r)&&n.setAttribute(r,o,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))Yo(this,n,t);else{const r=m._createIn(n).getPositions();for(const o of r){const a=o.nodeBefore||o.parent;Yo(this,a,t)}}}getAttributesWithProperty(e,t,n){const s={};for(const[r,o]of e.getAttributes()){const a=this.getAttributeProperties(r);a[t]!==void 0&&(n===void 0||n===a[t])&&(s[r]=o)}return s}createContext(e){return new Ct(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const s of n)e[s]=P_(t[s],s);for(const s of n)E_(e,s);for(const s of n)S_(e,s);for(const s of n)A_(e,s);for(const s of n)M_(e,s),F_(e,s);for(const s of n)R_(e,s),O_(e,s),I_(e,s);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const s=t.getItem(n);if(e.allowIn.includes(s.name)){if(n==0)return!0;{const r=this.getDefinition(s);return this._checkContextMatch(r,t,n-1)}}else return!1}*_getValidRangesForRange(e,t){let n=e.start,s=e.start;for(const r of e.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange(m._createIn(r),t)),this.checkAttribute(r,t)||(n.isEqual(s)||(yield new m(n,s)),n=p._createAfter(r)),s=p._createAfter(r);n.isEqual(s)||(yield new m(n,s))}findOptimalInsertionRange(e,t){const n=e.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return t=="before"||t=="after"?new m(p._createAt(n,t)):m._createOn(n);const s=Ne(e.getSelectedBlocks());if(!s)return new m(e.focus);if(s.isEmpty)return new m(p._createAt(s,0));const r=p._createAfter(s);return e.focus.isTouching(r)?new m(r):new m(p._createBefore(s))}}class Ct{constructor(e){if(e instanceof Ct)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(L_)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Ct([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function P_(i,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return B_(i,t),pt(i,t,"allowIn"),pt(i,t,"allowContentOf"),pt(i,t,"allowWhere"),pt(i,t,"allowAttributes"),pt(i,t,"allowAttributesOf"),pt(i,t,"allowChildren"),pt(i,t,"inheritTypesFrom"),D_(i,t),t}function E_(i,e){const t=i[e];for(const n of t.allowChildren){const s=i[n];s&&s.allowIn.push(e)}t.allowChildren.length=0}function S_(i,e){for(const t of i[e].allowContentOf)i[t]&&V_(i,t).forEach(s=>{s.allowIn.push(e)});delete i[e].allowContentOf}function A_(i,e){for(const t of i[e].allowWhere){const n=i[t];if(n){const s=n.allowIn;i[e].allowIn.push(...s)}}delete i[e].allowWhere}function M_(i,e){for(const t of i[e].allowAttributesOf){const n=i[t];if(n){const s=n.allowAttributes;i[e].allowAttributes.push(...s)}}delete i[e].allowAttributesOf}function F_(i,e){const t=i[e];for(const n of t.inheritTypesFrom){const s=i[n];if(s){const r=Object.keys(s).filter(o=>o.startsWith("is"));for(const o of r)o in t||(t[o]=s[o])}}delete t.inheritTypesFrom}function R_(i,e){const t=i[e],n=t.allowIn.filter(s=>i[s]);t.allowIn=Array.from(new Set(n))}function O_(i,e){const t=i[e];for(const n of t.allowIn)i[n].allowChildren.push(e)}function I_(i,e){const t=i[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function B_(i,e){for(const t of i){const n=Object.keys(t).filter(s=>s.startsWith("is"));for(const s of n)e[s]=!!t[s]}}function pt(i,e,t){for(const n of i){const s=n[t];typeof s=="string"?e[t].push(s):Array.isArray(s)&&e[t].push(...s)}}function D_(i,e){for(const t of i){const n=t.inheritAllFrom;n&&(e.allowContentOf.push(n),e.allowWhere.push(n),e.allowAttributesOf.push(n),e.inheritTypesFrom.push(n))}}function V_(i,e){const t=i[e];return N_(i).filter(n=>n.allowIn.includes(t.name))}function N_(i){return Object.keys(i).map(e=>i[e])}function L_(i){return typeof i=="string"||i.is("documentFragment")?{name:typeof i=="string"?i:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:i.is("element")?i.name:"$text",*getAttributeKeys(){yield*i.getAttributeKeys()},getAttribute(e){return i.getAttribute(e)}}}function*W_(i,e){let t=!1;for(;!t;){if(t=!0,i){const n=i.next();n.done||(t=!1,yield{walker:i,value:n.value})}if(e){const n=e.next();n.done||(t=!1,yield{walker:e,value:n.value})}}}function*H_(i){for(const e of i)yield*e.getMinimalFlatRanges()}function Yo(i,e,t){for(const n of e.getAttributeKeys())i.checkAttribute(e,n)||t.removeAttribute(n,e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $_ extends N(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,n)=>this._convertItem(t,n),convertChildren:(t,n)=>this._convertChildren(t,n),safeInsert:(t,n)=>this._safeInsert(t,n),updateConversionResult:(t,n)=>this._updateConversionResult(t,n),splitToAllowedParent:(t,n)=>this._splitToAllowedParent(t,n),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=U_(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=Cn.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),r=t.createDocumentFragment();if(s){this._removeEmptyElements();for(const o of Array.from(this._modelCursor.parent.getChildren()))t.append(o,r);r.markers=z_(r,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof m))throw new d("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:p._createAt(t,0);const s=new m(n);for(const r of Array.from(e.getChildren())){const o=this._convertItem(r,n);o.modelRange instanceof m&&(s.end=o.modelRange.end,n=o.modelCursor)}return{modelRange:s,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return n?(this.conversionApi.writer.insert(e,n.position),!0):!1}_updateConversionResult(e,t){const n=this._getSplitParts(e),s=this.conversionApi.writer;t.modelRange||(t.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(n[n.length-1])));const r=this._cursorParents.get(e);r?t.modelCursor=s.createPositionAt(r,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:s}=this.conversionApi;let r=n.findAllowedParent(t,e);if(r){if(r===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return Jc(t,e,n)?{position:Xc(t,s)}:null;const o=this.conversionApi.writer.split(t,r),a=[];for(const c of o.range.getWalker())if(c.type=="elementEnd")a.push(c.item);else{const h=a.pop(),u=c.item;this._registerSplitPair(h,u)}const l=o.range.end.parent;return this._cursorParents.set(e,l),{position:o.position,cursorParent:l}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}function z_(i,e){const t=new Set,n=new Map,s=m._createIn(i).getItems();for(const r of s)r.is("element","$marker")&&t.add(r);for(const r of t){const o=r.getAttribute("data-name"),a=e.createPositionBefore(r);n.has(o)?n.get(o).end=a.clone():n.set(o,new m(a.clone())),e.remove(r)}return n}function U_(i,e){let t;for(const n of new Ct(i)){const s={};for(const o of n.getAttributeKeys())s[o]=n.getAttribute(o);const r=e.createElement(n.name,s);t&&e.insert(r,t),t=p._createAt(r,0)}return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class q_{getHtml(e){const n=y.document.implementation.createHTMLDocument("").createElement("div");return n.appendChild(e),n.innerHTML}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class G_{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Fc(e,{renderingMode:"data"}),this.htmlWriter=new q_}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),s=t.body.childNodes;for(;s.length>0;)n.appendChild(s[0]);return n}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class j_ extends N(){constructor(e,t){super(),this.model=e,this.mapper=new Vc,this.downcastDispatcher=new Nc({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",Hc(),{priority:"lowest"}),this.downcastDispatcher.on("insert",$c(),{priority:"lowest"}),this.upcastDispatcher=new $_({schema:e.schema}),this.viewDocument=new Cc(t),this.stylesProcessor=t,this.htmlProcessor=new G_(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Pc(this.viewDocument),this.upcastDispatcher.on("text",s_(),{priority:"lowest"}),this.upcastDispatcher.on("element",Ko(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",Ko(),{priority:"lowest"}),q().prototype.decorate.call(this,"init"),q().prototype.decorate.call(this,"set"),q().prototype.decorate.call(this,"get"),q().prototype.decorate.call(this,"toView"),q().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Zc)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new d("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(t);return s.isAttached()||ne("datacontroller-get-detached-root",this),n==="empty"&&!this.model.hasContent(s,{ignoreWhitespaces:!0})?"":this.stringify(s,e)}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const r=m._createIn(e),o=new jt(n);this.mapper.bindElements(e,o);const a=e.is("documentFragment")?e.markers:K_(e);return this.downcastDispatcher.convert(r,a,s,t),o}init(e){if(this.model.document.version)throw new d("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new d("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const s of Object.keys(t)){const r=this.model.document.getRoot(s);n.insert(this.parse(t[s],r),r,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new d("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const r of Object.keys(n)){const o=this.model.document.getRoot(r);s.remove(s.createRangeIn(o)),s.insert(this.parse(n[r],o),o,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function K_(i){const e=[],t=i.root.document;if(!t)return new Map;const n=m._createIn(i);for(const s of t.model.markers){const r=s.getRange(),o=r.isCollapsed,a=r.start.isEqual(n.start)||r.end.isEqual(n.end);if(o&&a)e.push([s.name,r]);else{const l=n.getIntersection(r);l&&e.push([s.name,l])}}return e.sort(([s,r],[o,a])=>{if(r.end.compareWith(a.start)!=="after")return 1;if(r.start.compareWith(a.end)!=="before")return-1;switch(r.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(r.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(s)}}}),new Map(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Z_{constructor(e,t){this._helpers=new Map,this._downcast=ke(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=ke(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new d("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new d("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of Xi(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of Xi(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of Xi(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new d("conversion-group-exists",this);const s=n?new Tw(t):new i_(t);this._helpers.set(e,s)}}function*Xi(i){if(i.model.values)for(const e of i.model.values){const t={key:i.model.key,value:e},n=i.view[e],s=i.upcastAlso?i.upcastAlso[e]:void 0;yield*Qo(t,n,s)}else yield*Qo(i.model,i.view,i.upcastAlso)}function*Qo(i,e,t){if(yield{model:i,view:e},t)for(const n of ke(t))yield{model:i,view:n}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _e{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yr(i,e){const t=ih(e),n=t.reduce((o,a)=>o+a.offsetSize,0),s=i.parent;Wn(i);const r=i.index;return s._insertChild(r,t),Ln(s,r+t.length),Ln(s,r),new m(i,i.getShiftedBy(n))}function nh(i){if(!i.isFlat)throw new d("operation-utils-remove-range-not-flat",this);const e=i.start.parent;Wn(i.start),Wn(i.end);const t=e._removeChildren(i.start.index,i.end.index-i.start.index);return Ln(e,i.start.index),t}function Nn(i,e){if(!i.isFlat)throw new d("operation-utils-move-range-not-flat",this);const t=nh(i);return e=e._getTransformedByDeletion(i.start,i.end.offset-i.start.offset),yr(e,t)}function J_(i,e,t){Wn(i.start),Wn(i.end);for(const n of i.getItems({shallow:!0})){const s=n.is("$textProxy")?n.textNode:n;t!==null?s._setAttribute(e,t):s._removeAttribute(e),Ln(s.parent,s.index)}Ln(i.end.parent,i.end.index)}function ih(i){const e=[];function t(n){if(typeof n=="string")e.push(new D(n));else if(n instanceof Ee)e.push(new D(n.data,n.getAttributes()));else if(n instanceof It)e.push(n);else if(we(n))for(const s of n)t(s)}t(i);for(let n=1;n<e.length;n++){const s=e[n],r=e[n-1];s instanceof D&&r instanceof D&&sh(s,r)&&(e.splice(n-1,2,new D(r.data+s.data,r.getAttributes())),n--)}return e}function Ln(i,e){const t=i.getChild(e-1),n=i.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&sh(t,n)){const s=new D(t.data+n.data,t.getAttributes());i._removeChildren(e-1,2),i._insertChild(e-1,s)}}function Wn(i){const e=i.textNode,t=i.parent;if(e){const n=i.offset-e.startOffset,s=e.index;t._removeChildren(s,1);const r=new D(e.data.substr(0,n),e.getAttributes()),o=new D(e.data.substr(n),e.getAttributes());t._insertChild(s,[r,o])}}function sh(i,e){const t=i.getAttributes(),n=e.getAttributes();for(const s of t){if(s[1]!==e.getAttribute(s[0]))return!1;n.next()}return n.next().done}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class I extends _e{constructor(e,t,n,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[m._createFromPositionAndShift(this.sourcePosition,this.howMany),m._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new I(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new I(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,s=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new d("move-operation-nodes-do-not-exist",this);if(e===t&&n<s&&s<n+this.howMany)throw new d("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&ae(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const r=this.sourcePosition.path.length-1;if(this.targetPosition.path[r]>=n&&this.targetPosition.path[r]<n+this.howMany)throw new d("move-operation-node-into-itself",this)}}_execute(){Nn(m._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=p.fromJSON(e.sourcePosition,t),s=p.fromJSON(e.targetPosition,t);return new this(n,e.howMany,s,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ie extends _e{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new vn(ih(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new vn([...this.nodes].map(n=>n._clone(!0))),t=new ie(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new p(e,[0]);return new I(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new d("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new vn([...e].map(t=>t._clone(!0))),yr(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const r of e.nodes)r.name?n.push(B.fromJSON(r)):n.push(D.fromJSON(r));const s=new ie(p.fromJSON(e.position,t),n,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class V extends _e{constructor(e,t,n,s,r){super(r),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new p(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new m(this.splitPosition,e)}get affectedSelectable(){const e=[m._createFromPositionAndShift(this.splitPosition,0),m._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(m._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new V(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new p(e,[0]);return new K(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new d("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new d("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new d("split-operation-graveyard-position-invalid",this)}else throw new d("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Nn(m._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const n=e._clone();yr(this.insertionPosition,n)}const t=new m(p._createAt(e,this.splitPosition.offset),p._createAt(e,e.maxOffset));Nn(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new p(e.root,t,"toPrevious")}static fromJSON(e,t){const n=p.fromJSON(e.splitPosition,t),s=p.fromJSON(e.insertionPosition,t),r=e.graveyardPosition?p.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,s,r,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class K extends _e{constructor(e,t,n,s,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new p(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new m(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[m._createOn(e),m._createFromPositionAndShift(this.targetPosition,0),m._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new K(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new p(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new V(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new d("merge-operation-how-many-invalid",this)}else throw new d("merge-operation-target-position-invalid",this);else throw new d("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=m._createIn(e);Nn(t,this.targetPosition),Nn(m._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=p.fromJSON(e.sourcePosition,t),s=p.fromJSON(e.targetPosition,t),r=p.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,s,r,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class he extends _e{constructor(e,t,n,s,r,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=r,this._markers=s}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new he(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new he(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new he(e.name,e.oldRange?m.fromJSON(e.oldRange,t):null,e.newRange?m.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class J extends _e{constructor(e,t,n,s,r){super(r),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new J(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new J(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new d("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!oo(e.getAttribute(this.key),this.oldValue))throw new d("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new d("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){oo(this.oldValue,this.newValue)||J_(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new J(m.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Q extends _e{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Q(this.baseVersion)}getReversed(){return new Q(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ue extends _e{constructor(e,t,n,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new ue(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ue(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof B){if(e.name!==this.oldName)throw new d("rename-operation-wrong-name",this)}else throw new d("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new ue(p.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ke extends _e{constructor(e,t,n,s,r){super(r),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Ke(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ke(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new d("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new d("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new d("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new d("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Ke(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class De extends _e{constructor(e,t,n,s,r){if(super(r),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=s,!this._document.getRoot(this.rootName)){const o=this._document.createRoot(this.elementName,this.rootName);o._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new De(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new De(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new De(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Te={};Te[J.className]=J;Te[ie.className]=ie;Te[he.className]=he;Te[I.className]=I;Te[Q.className]=Q;Te[_e.className]=_e;Te[ue.className]=ue;Te[Ke.className]=Ke;Te[De.className]=De;Te[V.className]=V;Te[K.className]=K;class X_{static fromJSON(e,t){return Te[e.__className].fromJSON(e,t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Vs=new Map;function O(i,e,t){let n=Vs.get(i);n||(n=new Map,Vs.set(i,n)),n.set(e,t)}function Y_(i,e){const t=Vs.get(i);return t&&t.has(e)?t.get(e):Q_}function Q_(i){return[i]}function ea(i,e,t={}){const n=Y_(i.constructor,e.constructor);try{return i=i.clone(),n(i,e,t)}catch(s){throw s}}function eb(i,e,t){i=i.slice(),e=e.slice();const n=new tb(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(i),n.setOriginalOperations(e);const s=n.originalOperations;if(i.length==0||e.length==0)return{operationsA:i,operationsB:e,originalOperations:s};const r=new WeakMap;for(const l of i)r.set(l,0);const o={nextBaseVersionA:i[i.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:i.length,originalOperationsBCount:e.length};let a=0;for(;a<i.length;){const l=i[a],c=r.get(l);if(c==e.length){a++;continue}const h=e[c],u=ea(l,h,n.getContext(l,h,!0)),f=ea(h,l,n.getContext(h,l,!1));n.updateRelation(l,h),n.setOriginalOperations(u,l),n.setOriginalOperations(f,h);for(const g of u)r.set(g,c+f.length);i.splice(a,1,...u),e.splice(c,1,...f)}if(t.padWithNoOps){const l=i.length-o.originalOperationsACount,c=e.length-o.originalOperationsBCount;na(i,c-l),na(e,l-c)}return ta(i,o.nextBaseVersionB),ta(e,o.nextBaseVersionA),{operationsA:i,operationsB:e,originalOperations:s}}class tb{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const s of e)this.originalOperations.set(s,n||s)}updateRelation(e,t){if(e instanceof I)t instanceof K?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof I&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof V){if(t instanceof K)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof I)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=m._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const s=n.end.offset-e.splitPosition.offset,r=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:s,offset:r})}}}else if(e instanceof K)t instanceof K?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof V&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof he){const n=e.newRange;if(!n)return;if(t instanceof I){const s=m._createFromPositionAndShift(t.sourcePosition,t.howMany),r=s.containsPosition(n.start)||s.start.isEqual(n.start),o=s.containsPosition(n.end)||s.end.isEqual(n.end);(r||o)&&!s.containsRange(n)&&this._setRelation(e,t,{side:r?"left":"right",path:r?n.start.path.slice():n.end.path.slice()})}else if(t instanceof K){const s=n.start.isEqual(t.targetPosition),r=n.start.isEqual(t.deletionPosition),o=n.end.isEqual(t.deletionPosition),a=n.end.isEqual(t.sourcePosition);(s||r||o||a)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:a})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),s=this._history.getUndoneOperation(n);if(!s)return null;const r=this.originalOperations.get(e),o=this._relations.get(r);return o&&o.get(s)||null}_setRelation(e,t,n){const s=this.originalOperations.get(e),r=this.originalOperations.get(t);let o=this._relations.get(s);o||(o=new Map,this._relations.set(s,o)),o.set(r,n)}}function ta(i,e){for(const t of i)t.baseVersion=e++}function na(i,e){for(let t=0;t<e;t++)i.push(new Q(0))}O(J,J,(i,e,t)=>{if(i.key===e.key&&i.range.start.hasSameParentAs(e.range.start)){const n=i.range.getDifference(e.range).map(r=>new J(r,i.key,i.oldValue,i.newValue,0)),s=i.range.getIntersection(e.range);return s&&t.aIsStrong&&n.push(new J(s,e.key,e.newValue,i.newValue,0)),n.length==0?[new Q(0)]:n}else return[i]});O(J,ie,(i,e)=>{if(i.range.start.hasSameParentAs(e.position)&&i.range.containsPosition(e.position)){const n=i.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new J(s,i.key,i.oldValue,i.newValue,i.baseVersion));if(e.shouldReceiveAttributes){const s=rh(e,i.key,i.oldValue);s&&n.unshift(s)}return n}return i.range=i.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[i]});function rh(i,e,t){const s=i.nodes.getNode(0).getAttribute(e);if(s==t)return null;const r=new m(i.position,i.position.getShiftedBy(i.howMany));return new J(r,e,s,t,0)}O(J,K,(i,e)=>{const t=[];i.range.start.hasSameParentAs(e.deletionPosition)&&(i.range.containsPosition(e.deletionPosition)||i.range.start.isEqual(e.deletionPosition))&&t.push(m._createFromPositionAndShift(e.graveyardPosition,1));const n=i.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(s=>new J(s,i.key,i.oldValue,i.newValue,i.baseVersion))});O(J,I,(i,e)=>nb(i.range,e).map(n=>new J(n,i.key,i.oldValue,i.newValue,i.baseVersion)));function nb(i,e){const t=m._createFromPositionAndShift(e.sourcePosition,e.howMany);let n=null,s=[];t.containsRange(i,!0)?n=i:i.start.hasSameParentAs(t.start)?(s=i.getDifference(t),n=i.getIntersection(t)):s=[i];const r=[];for(let o of s){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const a=e.getMovedRangeStart(),l=o.start.hasSameParentAs(a),c=o._getTransformedByInsertion(a,e.howMany,l);r.push(...c)}return n&&r.push(n._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),r}O(J,V,(i,e)=>{if(i.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||i.range.end.offset++,[i];if(i.range.start.hasSameParentAs(e.splitPosition)&&i.range.containsPosition(e.splitPosition)){const t=i.clone();return t.range=new m(e.moveTargetPosition.clone(),i.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),i.range.end=e.splitPosition.clone(),i.range.end.stickiness="toPrevious",[i,t]}return i.range=i.range._getTransformedBySplitOperation(e),[i]});O(ie,J,(i,e)=>{const t=[i];if(i.shouldReceiveAttributes&&i.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(i.position)){const n=rh(i,e.key,e.newValue);n&&t.push(n)}return t});O(ie,ie,(i,e,t)=>i.position.isEqual(e.position)&&t.aIsStrong?[i]:(i.position=i.position._getTransformedByInsertOperation(e),[i]));O(ie,I,(i,e)=>(i.position=i.position._getTransformedByMoveOperation(e),[i]));O(ie,V,(i,e)=>(i.position=i.position._getTransformedBySplitOperation(e),[i]));O(ie,K,(i,e)=>(i.position=i.position._getTransformedByMergeOperation(e),[i]));O(he,ie,(i,e)=>(i.oldRange&&(i.oldRange=i.oldRange._getTransformedByInsertOperation(e)[0]),i.newRange&&(i.newRange=i.newRange._getTransformedByInsertOperation(e)[0]),[i]));O(he,he,(i,e,t)=>{if(i.name==e.name)if(t.aIsStrong)i.oldRange=e.newRange?e.newRange.clone():null;else return[new Q(0)];return[i]});O(he,K,(i,e)=>(i.oldRange&&(i.oldRange=i.oldRange._getTransformedByMergeOperation(e)),i.newRange&&(i.newRange=i.newRange._getTransformedByMergeOperation(e)),[i]));O(he,I,(i,e,t)=>{if(i.oldRange&&(i.oldRange=m._createFromRanges(i.oldRange._getTransformedByMoveOperation(e))),i.newRange){if(t.abRelation){const n=m._createFromRanges(i.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(i.newRange.start))return i.newRange.end=n.end,i.newRange.start.path=t.abRelation.path,[i];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(i.newRange.end))return i.newRange.start=n.start,i.newRange.end.path=t.abRelation.path,[i]}i.newRange=m._createFromRanges(i.newRange._getTransformedByMoveOperation(e))}return[i]});O(he,V,(i,e,t)=>{if(i.oldRange&&(i.oldRange=i.oldRange._getTransformedBySplitOperation(e)),i.newRange){if(t.abRelation){const n=i.newRange._getTransformedBySplitOperation(e);return i.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?i.newRange.start=p._createAt(e.insertionPosition):i.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(i.newRange.start=p._createAt(e.moveTargetPosition)),i.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?i.newRange.end=p._createAt(e.moveTargetPosition):i.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?i.newRange.end=p._createAt(e.insertionPosition):i.newRange.end=n.end,[i]}i.newRange=i.newRange._getTransformedBySplitOperation(e)}return[i]});O(K,ie,(i,e)=>(i.sourcePosition.hasSameParentAs(e.position)&&(i.howMany+=e.howMany),i.sourcePosition=i.sourcePosition._getTransformedByInsertOperation(e),i.targetPosition=i.targetPosition._getTransformedByInsertOperation(e),[i]));O(K,K,(i,e,t)=>{if(i.sourcePosition.isEqual(e.sourcePosition)&&i.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),i.sourcePosition=new p(e.graveyardPosition.root,n),i.howMany=0,[i]}else return[new Q(0)];if(i.sourcePosition.isEqual(e.sourcePosition)&&!i.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=i.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!n||!(n&&!s)&&t.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),c=i.targetPosition._getTransformedByMergeOperation(e);return[new I(l,i.howMany,c,0)]}else return[new Q(0)]}return i.sourcePosition.hasSameParentAs(e.targetPosition)&&(i.howMany+=e.howMany),i.sourcePosition=i.sourcePosition._getTransformedByMergeOperation(e),i.targetPosition=i.targetPosition._getTransformedByMergeOperation(e),(!i.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(i.graveyardPosition=i.graveyardPosition._getTransformedByMergeOperation(e)),[i]});O(K,I,(i,e,t)=>{const n=m._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&i.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(i.sourcePosition)?[new Q(0)]:(i.sourcePosition.hasSameParentAs(e.targetPosition)&&(i.howMany+=e.howMany),i.sourcePosition.hasSameParentAs(e.sourcePosition)&&(i.howMany-=e.howMany),i.sourcePosition=i.sourcePosition._getTransformedByMoveOperation(e),i.targetPosition=i.targetPosition._getTransformedByMoveOperation(e),i.graveyardPosition.isEqual(e.targetPosition)||(i.graveyardPosition=i.graveyardPosition._getTransformedByMoveOperation(e)),[i])});O(K,V,(i,e,t)=>{if(e.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),i.deletionPosition.isEqual(e.graveyardPosition)&&(i.howMany=e.howMany)),i.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,s=e.graveyardPosition&&i.deletionPosition.isEqual(e.graveyardPosition);if(n||s||t.abRelation=="mergeTargetNotMoved")return i.sourcePosition=i.sourcePosition._getTransformedBySplitOperation(e),[i]}if(i.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return i.howMany=0,i.targetPosition=i.targetPosition._getTransformedBySplitOperation(e),[i];if(t.abRelation=="mergeSameElement"||i.sourcePosition.offset>0)return i.sourcePosition=e.moveTargetPosition.clone(),i.targetPosition=i.targetPosition._getTransformedBySplitOperation(e),[i]}return i.sourcePosition.hasSameParentAs(e.splitPosition)&&(i.howMany=e.splitPosition.offset),i.sourcePosition=i.sourcePosition._getTransformedBySplitOperation(e),i.targetPosition=i.targetPosition._getTransformedBySplitOperation(e),[i]});O(I,ie,(i,e)=>{const n=m._createFromPositionAndShift(i.sourcePosition,i.howMany)._getTransformedByInsertOperation(e,!1)[0];return i.sourcePosition=n.start,i.howMany=n.end.offset-n.start.offset,i.targetPosition.isEqual(e.position)||(i.targetPosition=i.targetPosition._getTransformedByInsertOperation(e)),[i]});O(I,I,(i,e,t)=>{const n=m._createFromPositionAndShift(i.sourcePosition,i.howMany),s=m._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=t.aIsStrong,o=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?o=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(o=!1);let a;if(i.targetPosition.isEqual(e.targetPosition)&&o?a=i.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a=i.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),ia(i,e)&&ia(e,i))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(s,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),qt([n],a);if(s.containsPosition(i.targetPosition)&&s.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),qt([n],a);const h=ae(i.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(h=="prefix"||h=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),qt([n],a);i.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?r=!0:i.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(r=!1);const u=[],f=n.getDifference(s);for(const w of f){w.start=w.start._getTransformedByDeletion(e.sourcePosition,e.howMany),w.end=w.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const b=ae(w.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",T=w._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,b);u.push(...T)}const g=n.getIntersection(s);return g!==null&&r&&(g.start=g.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),g.end=g.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),u.length===0?u.push(g):u.length==1?s.start.isBefore(n.start)||s.start.isEqual(n.start)?u.unshift(g):u.push(g):u.splice(1,0,g)),u.length===0?[new Q(i.baseVersion)]:qt(u,a)});O(I,V,(i,e,t)=>{let n=i.targetPosition.clone();(!i.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(n=i.targetPosition._getTransformedBySplitOperation(e));const s=m._createFromPositionAndShift(i.sourcePosition,i.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||i.howMany++,i.targetPosition=n,[i];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let a=new m(e.splitPosition,s.end);a=a._getTransformedBySplitOperation(e);const l=[new m(s.start,e.splitPosition),a];return qt(l,n)}i.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),i.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=i.targetPosition);const o=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const a=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);i.howMany>1&&a&&!t.aWasUndone&&o.push(m._createFromPositionAndShift(e.insertionPosition,1))}return qt(o,n)});O(I,K,(i,e,t)=>{const n=m._createFromPositionAndShift(i.sourcePosition,i.howMany);if(e.deletionPosition.hasSameParentAs(i.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(i.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const o=[];let a=e.graveyardPosition.clone(),l=e.targetPosition._getTransformedByMergeOperation(e);i.howMany>1&&(o.push(new I(i.sourcePosition,i.howMany-1,i.targetPosition,0)),a=a._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany-1),l=l._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany-1));const c=e.deletionPosition._getCombined(i.sourcePosition,i.targetPosition),h=new I(a,1,c,0),u=h.getMovedRangeStart().path.slice();u.push(0);const f=new p(h.targetPosition.root,u);l=l._getTransformedByMove(a,c,1);const g=new I(l,e.howMany,f,0);return o.push(h),o.push(g),o}}else if(i.howMany==1)return t.bWasUndone?(i.sourcePosition=e.graveyardPosition.clone(),i.targetPosition=i.targetPosition._getTransformedByMergeOperation(e),[i]):[new Q(0)]}const r=m._createFromPositionAndShift(i.sourcePosition,i.howMany)._getTransformedByMergeOperation(e);return i.sourcePosition=r.start,i.howMany=r.end.offset-r.start.offset,i.targetPosition=i.targetPosition._getTransformedByMergeOperation(e),[i]});O(ue,ie,(i,e)=>(i.position=i.position._getTransformedByInsertOperation(e),[i]));O(ue,K,(i,e)=>i.position.isEqual(e.deletionPosition)?(i.position=e.graveyardPosition.clone(),i.position.stickiness="toNext",[i]):(i.position=i.position._getTransformedByMergeOperation(e),[i]));O(ue,I,(i,e)=>(i.position=i.position._getTransformedByMoveOperation(e),[i]));O(ue,ue,(i,e,t)=>{if(i.position.isEqual(e.position))if(t.aIsStrong)i.oldName=e.newName;else return[new Q(0)];return[i]});O(ue,V,(i,e)=>{const t=i.position.path,n=e.splitPosition.getParentPath();if(ae(t,n)=="same"&&!e.graveyardPosition){const s=new ue(i.position.getShiftedBy(1),i.oldName,i.newName,0);return[i,s]}return i.position=i.position._getTransformedBySplitOperation(e),[i]});O(Ke,Ke,(i,e,t)=>{if(i.root===e.root&&i.key===e.key){if(!t.aIsStrong||i.newValue===e.newValue)return[new Q(0)];i.oldValue=e.newValue}return[i]});O(De,De,(i,e)=>i.rootName===e.rootName&&i.isAdd===e.isAdd?[new Q(0)]:[i]);O(V,ie,(i,e)=>(i.splitPosition.hasSameParentAs(e.position)&&i.splitPosition.offset<e.position.offset&&(i.howMany+=e.howMany),i.splitPosition=i.splitPosition._getTransformedByInsertOperation(e),i.insertionPosition=i.insertionPosition._getTransformedByInsertOperation(e),[i]));O(V,K,(i,e,t)=>{if(!i.graveyardPosition&&!t.bWasUndone&&i.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const s=new p(e.graveyardPosition.root,n),r=V.getInsertionPosition(new p(e.graveyardPosition.root,n)),o=new V(s,0,r,null,0);return i.splitPosition=i.splitPosition._getTransformedByMergeOperation(e),i.insertionPosition=V.getInsertionPosition(i.splitPosition),i.graveyardPosition=o.insertionPosition.clone(),i.graveyardPosition.stickiness="toNext",[o,i]}return i.splitPosition.hasSameParentAs(e.deletionPosition)&&!i.splitPosition.isAfter(e.deletionPosition)&&i.howMany--,i.splitPosition.hasSameParentAs(e.targetPosition)&&(i.howMany+=e.howMany),i.splitPosition=i.splitPosition._getTransformedByMergeOperation(e),i.insertionPosition=V.getInsertionPosition(i.splitPosition),i.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedByMergeOperation(e)),[i]});O(V,I,(i,e,t)=>{const n=m._createFromPositionAndShift(e.sourcePosition,e.howMany);if(i.graveyardPosition){const r=n.start.isEqual(i.graveyardPosition)||n.containsPosition(i.graveyardPosition);if(!t.bWasUndone&&r){const o=i.splitPosition._getTransformedByMoveOperation(e),a=i.graveyardPosition._getTransformedByMoveOperation(e),l=a.path.slice();l.push(0);const c=new p(a.root,l);return[new I(o,i.howMany,c,0)]}i.graveyardPosition=i.graveyardPosition._getTransformedByMoveOperation(e)}const s=i.splitPosition.isEqual(e.targetPosition);if(s&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return i.howMany+=e.howMany,i.splitPosition=i.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),i.insertionPosition=V.getInsertionPosition(i.splitPosition),[i];if(s&&t.abRelation&&t.abRelation.howMany){const{howMany:r,offset:o}=t.abRelation;return i.howMany+=r,i.splitPosition=i.splitPosition.getShiftedBy(o),[i]}if(i.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(i.splitPosition)){const r=e.howMany-(i.splitPosition.offset-e.sourcePosition.offset);return i.howMany-=r,i.splitPosition.hasSameParentAs(e.targetPosition)&&i.splitPosition.offset<e.targetPosition.offset&&(i.howMany+=e.howMany),i.splitPosition=e.sourcePosition.clone(),i.insertionPosition=V.getInsertionPosition(i.splitPosition),[i]}return e.sourcePosition.isEqual(e.targetPosition)||(i.splitPosition.hasSameParentAs(e.sourcePosition)&&i.splitPosition.offset<=e.sourcePosition.offset&&(i.howMany-=e.howMany),i.splitPosition.hasSameParentAs(e.targetPosition)&&i.splitPosition.offset<e.targetPosition.offset&&(i.howMany+=e.howMany)),i.splitPosition.stickiness="toNone",i.splitPosition=i.splitPosition._getTransformedByMoveOperation(e),i.splitPosition.stickiness="toNext",i.graveyardPosition?i.insertionPosition=i.insertionPosition._getTransformedByMoveOperation(e):i.insertionPosition=V.getInsertionPosition(i.splitPosition),[i]});O(V,V,(i,e,t)=>{if(i.splitPosition.isEqual(e.splitPosition)){if(!i.graveyardPosition&&!e.graveyardPosition)return[new Q(0)];if(i.graveyardPosition&&e.graveyardPosition&&i.graveyardPosition.isEqual(e.graveyardPosition))return[new Q(0)];if(t.abRelation=="splitBefore")return i.howMany=0,i.graveyardPosition=i.graveyardPosition._getTransformedBySplitOperation(e),[i]}if(i.graveyardPosition&&e.graveyardPosition&&i.graveyardPosition.isEqual(e.graveyardPosition)){const n=i.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!n||!(n&&!s)&&t.aIsStrong){const l=[];return e.howMany&&l.push(new I(e.moveTargetPosition,e.howMany,e.splitPosition,0)),i.howMany&&l.push(new I(i.splitPosition,i.howMany,i.moveTargetPosition,0)),l}else return[new Q(0)]}if(i.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedBySplitOperation(e)),i.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return i.howMany++,[i];if(e.splitPosition.isEqual(i.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const s=new p(e.insertionPosition.root,n),r=new I(i.insertionPosition,1,s,0);return[i,r]}return i.splitPosition.hasSameParentAs(e.splitPosition)&&i.splitPosition.offset<e.splitPosition.offset&&(i.howMany-=e.howMany),i.splitPosition=i.splitPosition._getTransformedBySplitOperation(e),i.insertionPosition=V.getInsertionPosition(i.splitPosition),[i]});function ia(i,e){return i.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function qt(i,e){const t=[];for(let n=0;n<i.length;n++){const s=i[n],r=new I(s.start,s.end.offset-s.start.offset,e,0);t.push(r);for(let o=n+1;o<i.length;o++)i[o]=i[o]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ce extends N(p){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new d("model-liveposition-root-not-rootelement",e);ib.call(this)}detach(){this.stopListening()}toPosition(){return new p(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}ce.prototype.is=function(i){return i==="livePosition"||i==="model:livePosition"||i=="position"||i==="model:position"};function ib(){this.listenTo(this.root.document.model,"applyOperation",(i,e)=>{const t=e[0];t.isDocumentOperation&&sb.call(this,t)},{priority:"low"})}function sb(i){const e=this.getTransformedByOperation(i);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vt{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},ne("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:s=!1,isTyping:r=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=s,this.isTyping=r}get type(){return ne("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rb{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),s=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),s||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=m._createFromPositionAndShift(t.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(n)){const r=s.getData();this.bufferMarkerChange(s.name,r,r)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const s=t.graveyardPosition.parent;this._markInsert(s,t.graveyardPosition.offset,1);const r=t.targetPosition.parent;this._isInInsertedElement(r)||this._markInsert(r,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{const n=t.affectedSelectable;if(!n._isLoaded||n.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let s=this._changedMarkers.get(e);s?s.newMarkerData=n:(s={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,s)),s.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,s=!e.range&&t.range,r=e.range&&t.range&&!e.range.isEqual(t.range);if(n||s||r)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const s=this._changesInElement.get(n).sort((h,u)=>h.offset===u.offset?h.type!=u.type?h.type=="remove"?-1:1:0:h.offset<u.offset?-1:1),r=this._elementSnapshots.get(n),o=sa(n.getChildren()),a=ob(r.length,s);let l=0,c=0;for(const h of a)if(h==="i")t.push(this._getInsertDiff(n,l,o[l])),l++;else if(h==="r")t.push(this._getRemoveDiff(n,l,r[c])),c++;else if(h==="a"){const u=o[l].attributes,f=r[c].attributes;let g;if(o[l].name=="$text")g=new m(p._createAt(n,l),p._createAt(n,l+1));else{const w=n.offsetToIndex(l);g=new m(p._createAt(n,l),p._createAt(n.getChild(w),0))}t.push(...this._getAttributesDiff(g,f,u)),l++,c++}else l++,c++}t.sort((n,s)=>n.position.root!=s.position.root?n.position.root.rootName<s.position.root.rootName?-1:1:n.position.isEqual(s.position)?n.changeCount-s.changeCount:n.position.isBefore(s.position)?-1:1);for(let n=1,s=0;n<t.length;n++){const r=t[s],o=t[n],a=r.type=="remove"&&o.type=="remove"&&r.name=="$text"&&o.name=="$text"&&r.position.isEqual(o.position),l=r.type=="insert"&&o.type=="insert"&&r.name=="$text"&&o.name=="$text"&&r.position.parent==o.position.parent&&r.position.offset+r.length==o.position.offset,c=r.type=="attribute"&&o.type=="attribute"&&r.position.parent==o.position.parent&&r.range.isFlat&&o.range.isFlat&&r.position.offset+r.length==o.position.offset&&r.attributeKey==o.attributeKey&&r.attributeOldValue==o.attributeOldValue&&r.attributeNewValue==o.attributeNewValue;a||l||c?(r.length++,c&&(r.range.end=r.range.end.getShiftedBy(1)),t[n]=null):s=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(ab),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,s){const r=this._changedRoots.get(e)||{name:e},o=r.attributes||{};if(o[t]){const a=o[t];s===a.oldValue?delete o[t]:a.newValue=s}else o[t]={oldValue:n,newValue:s};Object.entries(o).length===0?(delete r.attributes,r.state===void 0&&this._changedRoots.delete(e)):(r.attributes=o,this._changedRoots.set(e,r))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=m._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const s=n.getData();this.bufferMarkerChange(n.name,s,s)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const n=t.getData();this.bufferMarkerChange(t.name,{...n,range:null},n)}}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let s=0;s<n.length;s++)n[s].howMany<1&&(n.splice(s,1),s--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,sa(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const s=e.offset+e.howMany,r=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<r&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<r){const o=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:s,howMany:o-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(s<=n.offset)n.offset-=e.howMany;else if(s<=r)if(e.offset<n.offset){const o=s-n.offset;n.offset=e.offset,n.howMany-=o,e.nodesToHandle-=o}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<r){const o=r-e.offset;n.howMany-=o,e.nodesToHandle-=o}}if(n.type=="remove"&&(s<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(s<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const o=s-n.offset;n.offset=e.offset,n.howMany-=o}else if(e.offset<r)if(s<=r){const o=n.howMany;n.howMany=e.offset-n.offset;const a=o-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:a,count:this._changeCount++})}else n.howMany-=r-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&s>n.offset){if(s>r){const o={type:"attribute",offset:r,howMany:s-r,count:this._changeCount++};this._handleChange(o,t),t.push(o)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<r&&(s>r?(e.nodesToHandle=s-r,e.offset=r):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&s>n.offset){const o={type:"attribute",offset:n.offset,howMany:s-n.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&s<=r?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&s>=r&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:p._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getRemoveDiff(e,t,n){return{type:"remove",position:p._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getAttributesDiff(e,t,n){const s=[];n=new Map(n);for(const[r,o]of t){const a=n.has(r)?n.get(r):null;a!==o&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:a,changeCount:this._changeCount++}),n.delete(r)}for(const[r,o]of n)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),s=e.startOffset;if(n){for(const r of n)if(r.type=="insert"&&s>=r.offset&&s<r.offset+r.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const s=new m(p._createAt(e,t),p._createAt(e,t+n));for(const r of s.getItems({shallow:!0}))r.is("element")&&(this._elementSnapshots.delete(r),this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}}function sa(i){const e=[];for(const t of i)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes()),element:t});return e}function ob(i,e){const t=[];let n=0,s=0;for(const r of e){if(r.offset>n){for(let o=0;o<r.offset-n;o++)t.push("e");s+=r.offset-n}if(r.type=="insert"){for(let o=0;o<r.howMany;o++)t.push("i");n=r.offset+r.howMany}else if(r.type=="remove"){for(let o=0;o<r.howMany;o++)t.push("r");n=r.offset,s+=r.howMany}else t.push(..."a".repeat(r.howMany).split("")),n=r.offset+r.howMany,s+=r.howMany}if(s<i)for(let r=0;r<i-s-n;r++)t.push("e");return t}function ab(i){const e="position"in i&&i.position.root.rootName=="$graveyard",t="range"in i&&i.range.root.rootName=="$graveyard";return!e&&!t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lb{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new d("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let s=t-1;for(const[a,l]of this._gaps)e>a&&e<l&&(e=l),s>a&&s<l&&(s=a-1);if(s<n.baseVersion||e>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(e);r===void 0&&(r=0);let o=this._baseVersionToOperationIndex.get(s);return o===void 0&&(o=this._operations.length-1),this._operations.slice(r,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yi extends B{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}yi.prototype.is=function(i,e){return e?e===this.name&&(i==="rootElement"||i==="model:rootElement"||i==="element"||i==="model:element"):i==="rootElement"||i==="model:rootElement"||i==="element"||i==="model:element"||i==="node"||i==="model:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ra="$graveyard";class cb extends N(){constructor(e){super(),this.model=e,this.history=new lb,this.selection=new Ae(this),this.roots=new ht({idProperty:"rootName"}),this.differ=new rb(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",ra),this.listenTo(e,"applyOperation",(t,n)=>{const s=n[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const s=n[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,s,r,o)=>{const a={...n.getData(),range:r};this.differ.bufferMarkerChange(n.name,o,a),s===null&&n.on("change",(l,c)=>{const h=n.getData();this.differ.bufferMarkerChange(n.name,{...h,range:c},h)})}),this.registerPostFixer(t=>{let n=!1;for(const s of this.roots)!s.isAttached()&&!s.isEmpty&&(t.remove(t.createRangeIn(s)),n=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(t.removeMarker(s),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(ra)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new d("model-document-createroot-name-exists",this,{name:t});const n=new yi(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Dl(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,s=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(s)||t.createRange(s)}_validateSelectionRange(e){return oa(e.start)&&oa(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function oa(i){const e=i.textNode;if(e){const t=e.data,n=i.offset-e.startOffset;return!hr(t,n)&&!ur(t,n)}return!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hb extends N(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof zt?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,s=!1){const r=e instanceof zt?e.name:e;if(r.includes(","))throw new d("markercollection-incorrect-marker-name",this);const o=this._markers.get(r);if(o){const c=o.getData(),h=o.getRange();let u=!1;return h.isEqual(t)||(o._attachLiveRange(Se.fromRange(t)),u=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,u=!0),typeof s=="boolean"&&s!=o.affectsData&&(o._affectsData=s,u=!0),u&&this.fire(`update:${r}`,o,h,t,c),o}const a=Se.fromRange(t),l=new zt(r,a,n,s);return this._markers.set(r,l),this.fire(`update:${r}`,l,null,t,{...l.getData(),range:null}),l}_remove(e){const t=e instanceof zt?e.name:e,n=this._markers.get(t);return n?(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0):!1}_refresh(e){const t=e instanceof zt?e.name:e,n=this._markers.get(t);if(!n)throw new d("markercollection-refresh-marker-not-exists",this);const s=n.getRange();this.fire(`update:${t}`,n,s,s,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class zt extends N(dt){constructor(e,t,n,s){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new d("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new d("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new d("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new d("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new d("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}zt.prototype.is=function(i){return i==="marker"||i==="model:marker"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ub extends _e{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new d("detach-operation-on-document-node",this)}_execute(){nh(m._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ge extends dt{constructor(e){super(),this.markers=new Map,this._children=new vn,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(B.fromJSON(n)):t.push(D.fromJSON(n));return new Ge(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=db(t);for(const s of n)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const s of n)s.parent=null;return n}}Ge.prototype.is=function(i){return i==="documentFragment"||i==="model:documentFragment"};function db(i){return typeof i=="string"?[new D(i)]:(we(i)||(i=[i]),Array.from(i).map(e=>typeof e=="string"?new D(e):e instanceof Ee?new D(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fb{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new D(e,t)}createElement(e,t){return new B(e,t)}createDocumentFragment(){return new Ge}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof D&&e.data=="")return;const s=p._createAt(t,n);if(e.parent)if(ca(e.root,s.root)){this.move(m._createOn(e),s);return}else{if(e.root.document)throw new d("model-writer-insert-forbidden-move",this);this.remove(e)}const r=s.root.document?s.root.document.version:null,o=new ie(s,e,r);if(e instanceof D&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof Ge)for(const[a,l]of e.markers){const c=p._createAt(l.root,0),u={range:new m(l.start._getCombined(c,s),l.end._getCombined(c,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(a)?this.updateMarker(a,u):this.addMarker(a,u)}}insertText(e,t,n,s){t instanceof Ge||t instanceof B||t instanceof p?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,s)}insertElement(e,t,n,s){t instanceof Ge||t instanceof B||t instanceof p?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,s)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof Ge||t instanceof B?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof Ge||t instanceof B?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof m){const s=n.getMinimalFlatRanges();for(const r of s)aa(this,e,t,r)}else la(this,e,t,n)}setAttributes(e,t){for(const[n,s]of Xe(e))this.setAttribute(n,s,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof m){const n=t.getMinimalFlatRanges();for(const s of n)aa(this,e,null,s)}else la(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const s of n.getAttributeKeys())this.removeAttribute(s,n)};if(!(e instanceof m))t(e);else for(const n of e.getItems())t(n)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof m))throw new d("writer-move-invalid-range",this);if(!e.isFlat)throw new d("writer-move-range-not-flat",this);const s=p._createAt(t,n);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!ca(e.root,s.root))throw new d("writer-move-different-document",this);const r=e.root.document?e.root.document.version:null,o=new I(e.start,e.end.offset-e.start.offset,s,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const n=(e instanceof m?e:m._createOn(e)).getMinimalFlatRanges().reverse();for(const s of n)this._addOperationForAffectedMarkers("move",s),mb(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof B))throw new d("writer-merge-no-element-before",this);if(!(n instanceof B))throw new d("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(m._createIn(n),p._createAt(t,"end")),this.remove(n)}_merge(e){const t=p._createAt(e.nodeBefore,"end"),n=p._createAt(e.nodeAfter,0),s=e.root.document.graveyard,r=new p(s,[0]),o=e.root.document.version,a=new K(n,e.nodeAfter.maxOffset,t,r,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof B))throw new d("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,s=new ue(p._createBefore(e),e.name,t,n);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,t){this._assertWriterUsedCorrectly();let n=e.parent;if(!n.parent)throw new d("writer-split-element-no-parent",this);if(t||(t=n.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new d("writer-split-invalid-limit-element",this);let s,r;do{const o=n.root.document?n.root.document.version:null,a=n.maxOffset-e.offset,l=V.getInsertionPosition(e),c=new V(e,a,l,null,o);this.batch.addOperation(c),this.model.applyOperation(c),!s&&!r&&(s=n,r=e.parent.nextSibling),e=this.createPositionAfter(e.parent),n=e.parent}while(n!==t);return{position:e,range:new m(p._createAt(s,"end"),p._createAt(r,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new d("writer-wrap-range-not-flat",this);const n=t instanceof B?t:new B(t);if(n.childCount>0)throw new d("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new d("writer-wrap-element-attached",this);this.insert(n,e.start);const s=new m(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,p._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new d("writer-unwrap-element-no-parent",this);this.move(m._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new d("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,s=t.range,r=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new d("writer-addmarker-marker-exists",this);if(!s)throw new d("writer-addmarker-no-range",this);return n?(un(this,e,null,s,r),this.model.markers.get(e)):this.model.markers._set(e,s,n,r)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,s=this.model.markers.get(n);if(!s)throw new d("writer-updatemarker-marker-not-exists",this);if(!t){ne("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),this.model.markers._refresh(s);return}const r=typeof t.usingOperation=="boolean",o=typeof t.affectsData=="boolean",a=o?t.affectsData:s.affectsData;if(!r&&!t.range&&!o)throw new d("writer-updatemarker-wrong-options",this);const l=s.getRange(),c=t.range?t.range:l;if(r&&t.usingOperation!==s.managedUsingOperations){t.usingOperation?un(this,n,null,c,a):(un(this,n,l,null,a),this.model.markers._set(n,c,void 0,a));return}s.managedUsingOperations?un(this,n,l,c,a):this.model.markers._set(n,c,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new d("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations){this.model.markers._remove(t);return}const s=n.getRange();un(this,t,s,null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new d("writer-addroot-root-exists",this);const s=this.model.document,r=new De(e,t,!0,s,s.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new d("writer-detachroot-no-root",this);for(const r of this.model.markers)r.getRange().root===t&&this.removeMarker(r);for(const r of t.getAttributeKeys())this.removeAttribute(r,t);this.remove(this.createRangeIn(t));const n=this.model.document,s=new De(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,s]of Xe(e))this._setSelectionAttribute(n,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const s=Ae._getStoreAttributeKey(e);this.setAttribute(s,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=Ae._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new d("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const s=n.getRange();let r=!1;if(e==="move"){const o=t;r=o.containsPosition(s.start)||o.start.isEqual(s.start)||o.containsPosition(s.end)||o.end.isEqual(s.end)}else{const o=t,a=o.nodeBefore,l=o.nodeAfter,c=s.start.parent==a&&s.start.isAtEnd,h=s.end.parent==l&&s.end.offset==0,u=s.end.nodeAfter==l,f=s.start.nodeAfter==l;r=c||h||u||f}r&&this.updateMarker(n.name,{range:s})}}}function aa(i,e,t,n){const s=i.model,r=s.document;let o=n.start,a,l,c;for(const u of n.getWalker({shallow:!0}))c=u.item.getAttribute(e),a&&l!=c&&(l!=t&&h(),o=a),a=u.nextPosition,l=c;a instanceof p&&a!=o&&l!=t&&h();function h(){const u=new m(o,a),f=u.root.document?r.version:null,g=new J(u,e,l,t,f);i.batch.addOperation(g),s.applyOperation(g)}}function la(i,e,t,n){const s=i.model,r=s.document,o=n.getAttribute(e);let a,l;if(o!=t){if(n.root===n){const h=n.document?r.version:null;l=new Ke(n,e,o,t,h)}else{a=new m(p._createBefore(n),i.createPositionAfter(n));const h=a.root.document?r.version:null;l=new J(a,e,o,t,h)}i.batch.addOperation(l),s.applyOperation(l)}}function un(i,e,t,n,s){const r=i.model,o=r.document,a=new he(e,t,n,r.markers,!!s,o.version);i.batch.addOperation(a),r.applyOperation(a)}function mb(i,e,t,n){let s;if(i.root.document){const r=n.document,o=new p(r.graveyard,[0]);s=new I(i,e,o,r.version)}else s=new ub(i,e);t.addOperation(s),n.applyOperation(s)}function ca(i,e){return i===e||i instanceof yi&&e instanceof yi}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function gb(i,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const s=i.schema;i.change(r=>{if(!t.doNotResetEntireContent&&Cb(s,e)){kb(r,e);return}const o={};if(!t.doNotAutoparagraph){const c=e.getSelectedElement();c&&Object.assign(o,s.getAttributesWithProperty(c,"copyOnReplace",!0))}const[a,l]=pb(n);a.isTouching(l)||r.remove(r.createRange(a,l)),t.leaveUnmerged||(_b(r,a,l),s.removeDisallowedAttributes(a.parent.getChildren(),r)),ch(r,e,a),!t.doNotAutoparagraph&&yb(s,a)&&lh(r,a,e,o),a.detach(),l.detach()})}function pb(i){const e=i.root.document.model,t=i.start;let n=i.end;if(e.hasContent(i,{ignoreMarkers:!0})){const s=wb(n);if(s&&n.isTouching(e.createPositionAt(s,0))){const r=e.createSelection(i);e.modifySelection(r,{direction:"backward"});const o=r.getLastPosition(),a=e.createRange(o,n);e.hasContent(a,{ignoreMarkers:!0})||(n=o)}}return[ce.fromPosition(t,"toPrevious"),ce.fromPosition(n,"toNext")]}function wb(i){const e=i.parent,t=e.root.document.model.schema,n=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const s of n){if(t.isLimit(s))return null;if(t.isBlock(s))return s}}function _b(i,e,t){const n=i.model;if(!vr(i.model.schema,e,t))return;const[s,r]=xb(e,t);!s||!r||(!n.hasContent(s,{ignoreMarkers:!0})&&n.hasContent(r,{ignoreMarkers:!0})?ah(i,e,t,s.parent):oh(i,e,t,s.parent))}function oh(i,e,t,n){const s=e.parent,r=t.parent;if(!(s==n||r==n)){for(e=i.createPositionAfter(s),t=i.createPositionBefore(r),t.isEqual(e)||i.insert(r,e),i.merge(e);t.parent.isEmpty;){const o=t.parent;t=i.createPositionBefore(o),i.remove(o)}vr(i.model.schema,e,t)&&oh(i,e,t,n)}}function ah(i,e,t,n){const s=e.parent,r=t.parent;if(!(s==n||r==n)){for(e=i.createPositionAfter(s),t=i.createPositionBefore(r),t.isEqual(e)||i.insert(s,t);e.parent.isEmpty;){const o=e.parent;e=i.createPositionBefore(o),i.remove(o)}t=i.createPositionBefore(r),bb(i,t),vr(i.model.schema,e,t)&&ah(i,e,t,n)}}function bb(i,e){const t=e.nodeBefore,n=e.nodeAfter;t.name!=n.name&&i.rename(t,n.name),i.clearAttributes(t),i.setAttributes(Object.fromEntries(n.getAttributes()),t),i.merge(e)}function vr(i,e,t){const n=e.parent,s=t.parent;return n==s||i.isLimit(n)||i.isLimit(s)?!1:vb(e,t,i)}function xb(i,e){const t=i.getAncestors(),n=e.getAncestors();let s=0;for(;t[s]&&t[s]==n[s];)s++;return[t[s],n[s]]}function yb(i,e){const t=i.checkChild(e,"$text"),n=i.checkChild(e,"paragraph");return!t&&n}function vb(i,e,t){const n=new m(i,e);for(const s of n.getWalker())if(t.isLimit(s.item))return!1;return!0}function lh(i,e,t,n={}){const s=i.createElement("paragraph");i.model.schema.setAllowedAttributes(s,n,i),i.insert(s,e),ch(i,t,i.createPositionAt(s,0))}function kb(i,e){const t=i.model.schema.getLimitElement(e);i.remove(i.createRangeIn(t)),lh(i,i.createPositionAt(t,0),e)}function Cb(i,e){const t=i.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const n=e.getFirstRange();return n.start.parent==n.end.parent?!1:i.checkChild(t,"paragraph")}function ch(i,e,t){e instanceof Ae?i.setSelection(t):e.setTo(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Tb(i,e){return i.change(t=>{const n=t.createDocumentFragment(),s=e.getFirstRange();if(!s||s.isCollapsed)return n;const r=s.start.root,o=s.start.getCommonPath(s.end),a=r.getNodeByPath(o);let l;s.start.parent==s.end.parent?l=s:l=t.createRange(t.createPositionAt(a,s.start.path[o.length]),t.createPositionAt(a,s.end.path[o.length]+1));const c=l.end.offset-l.start.offset;for(const h of l.getItems({shallow:!0}))h.is("$textProxy")?t.appendText(h.data,h.getAttributes(),n):t.append(t.cloneElement(h,!0),n);if(l!=s){const h=s._getTransformedByMove(l.start,t.createPositionAt(n,0),c)[0],u=t.createRange(t.createPositionAt(n,0),h.start),f=t.createRange(h.end,t.createPositionAt(n,"end"));ha(f,t),ha(u,t)}return n})}function ha(i,e){const t=[];Array.from(i.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(i.start)||n.start.isEqual(i.start))&&(n.end.isBefore(i.end)||n.end.isEqual(i.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let s=n;for(;s.parent&&s.isEmpty;){const r=e.createRangeOn(s);s=s.parent,e.remove(r)}})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pb(i,e,t){return i.change(n=>{const s=t||i.document.selection;s.isCollapsed||i.deleteContent(s,{doNotAutoparagraph:!0});const r=new Eb(i,n,s.anchor),o=[];let a;if(e.is("documentFragment")){if(e.markers.size){const h=[];for(const[u,f]of e.markers){const{start:g,end:w}=f,b=g.isEqual(w);h.push({position:g,name:u,isCollapsed:b},{position:w,name:u,isCollapsed:b})}h.sort(({position:u},{position:f})=>u.isBefore(f)?1:-1);for(const{position:u,name:f,isCollapsed:g}of h){let w=null,b=null;const T=u.parent===e&&u.isAtStart,P=u.parent===e&&u.isAtEnd;!T&&!P?(w=n.createElement("$marker"),n.insert(w,u)):g&&(b=T?"start":"end"),o.push({name:f,element:w,collapsed:b})}}a=e.getChildren()}else a=[e];r.handleNodes(a);let l=r.getSelectionRange();if(e.is("documentFragment")&&o.length){const h=l?Se.fromRange(l):null,u={};for(let f=o.length-1;f>=0;f--){const{name:g,element:w,collapsed:b}=o[f],T=!u[g];if(T&&(u[g]=[]),w){const P=n.createPositionAt(w,"before");u[g].push(P),n.remove(w)}else{const P=r.getAffectedRange();if(!P){b&&u[g].push(r.position);continue}b?u[g].push(P[b]):u[g].push(T?P.start:P.end)}}for(const[f,[g,w]]of Object.entries(u))g&&w&&g.root===w.root&&n.addMarker(f,{usingOperation:!0,affectsData:!0,range:new m(g,w)});h&&(l=h.toRange(),h.detach())}/* istanbul ignore else -- @preserve */l&&(s instanceof Ae?n.setSelection(l):s.setTo(l));const c=r.getAffectedRange()||i.createRange(s.anchor);return r.destroy(),c})}class Eb{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){this._lastNode=e;/* istanbul ignore if -- @preserve */if(this.position.parent!=e||!this.position.isAtEnd)throw new d("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?m._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new m(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let t=this._checkAndAutoParagraphToAllowedPosition(e);if(!t&&(t=this._checkAndSplitToAllowedPosition(e),!t)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=ce.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new d("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=ce.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=ce.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof B)||!this._canMergeLeft(e))return;const t=ce._createBefore(e);t.stickiness="toNext";const n=ce.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=ce._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=ce._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof B)||!this._canMergeRight(e))return;const t=ce._createAfter(e);t.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(t))throw new d("insertcontent-invalid-insertion-position",this);this.position=p._createAt(t.nodeBefore,"end");const n=ce.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=ce._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=ce._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof B&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof B&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Sb(i,e,t,n={}){if(!i.schema.isObject(e))throw new d("insertobject-element-not-an-object",i,{object:e});const s=t||i.document.selection;let r=s;n.findOptimalPosition&&i.schema.isBlock(e)&&(r=i.createSelection(i.schema.findOptimalInsertionRange(s,n.findOptimalPosition)));const o=Ne(s.getSelectedBlocks()),a={};return o&&Object.assign(a,i.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),i.change(l=>{r.isCollapsed||i.deleteContent(r,{doNotAutoparagraph:!0});let c=e;const h=r.anchor.parent;!i.schema.checkChild(h,e)&&i.schema.checkChild(h,"paragraph")&&i.schema.checkChild("paragraph",e)&&(c=l.createElement("paragraph"),l.insert(e,c)),i.schema.setAllowedAttributes(c,a,l);const u=i.insertContent(c,r);return u.isCollapsed||n.setSelection&&Ab(l,e,n.setSelection,a),u})}function Ab(i,e,t,n){const s=i.model;if(t=="on"){i.setSelection(e,"on");return}if(t!="after")throw new d("insertobject-invalid-place-parameter-value",s);let r=e.nextSibling;if(s.schema.isInline(e)){i.setSelection(e,"after");return}!(r&&s.schema.checkChild(r,"$text"))&&s.schema.checkChild(e.parent,"paragraph")&&(r=i.createElement("paragraph"),s.schema.setAllowedAttributes(r,n,i),s.insertContent(r,i.createPositionAfter(e))),r&&i.setSelection(r,0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Mb=' ,.?!:;"-()';function Fb(i,e,t={}){const n=i.schema,s=t.direction!="backward",r=t.unit?t.unit:"character",o=!!t.treatEmojiAsSingleUnit,a=e.focus,l=new je({boundaries:Bb(a,s),singleCharacters:!0,direction:s?"forward":"backward"}),c={walker:l,schema:n,isForward:s,unit:r,treatEmojiAsSingleUnit:o};let h;for(;h=l.next();){if(h.done)return;const u=Rb(c,h.value);if(u){e instanceof Ae?i.change(f=>{f.setSelectionFocus(u)}):e.setFocus(u);return}}}function Rb(i,e){const{isForward:t,walker:n,unit:s,schema:r,treatEmojiAsSingleUnit:o}=i,{type:a,item:l,nextPosition:c}=e;if(a=="text")return i.unit==="word"?Ib(n,t):Ob(n,s,o);if(a==(t?"elementStart":"elementEnd")){if(r.isSelectable(l))return p._createAt(l,t?"after":"before");if(r.checkChild(c,"$text"))return c}else{if(r.isLimit(l)){n.skip(()=>!0);return}if(r.checkChild(c,"$text"))return c}}function Ob(i,e,t){const n=i.position.textNode;if(n){const s=n.data;let r=i.position.offset-n.startOffset;for(;hr(s,r)||e=="character"&&ur(s,r)||t&&sc(s,r);)i.next(),r=i.position.offset-n.startOffset}return i.position}function Ib(i,e){let t=i.position.textNode;for(t||(t=e?i.position.nodeAfter:i.position.nodeBefore);t&&t.is("$text");){const n=i.position.offset-t.startOffset;if(Vb(t,n,e))t=e?i.position.nodeAfter:i.position.nodeBefore;else{if(Db(t.data,n,e))break;i.next()}}return i.position}function Bb(i,e){const t=i.root,n=p._createAt(t,e?"end":0);return e?new m(i,n):new m(n,i)}function Db(i,e,t){const n=e+(t?0:-1);return Mb.includes(i.charAt(n))}function Vb(i,e,t){return e===(t?i.offsetSize:0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nb extends q(){constructor(){super(),this.markers=new hb,this.document=new cb(this),this.schema=new T_,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),p_(this),this.document.registerPostFixer(Zc),this.on("insertContent",(e,[t,n])=>{e.return=Pb(this,t,n)}),this.on("insertObject",(e,[t,n,s])=>{e.return=Sb(this,t,n,s)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Vt,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){/* istanbul ignore next -- @preserve */d.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Vt):e instanceof Vt||(e=new Vt(e)):e=new Vt,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){/* istanbul ignore next -- @preserve */d.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...s){const r=Yi(t,n);return this.fire("insertContent",[e,r,n,...s])}insertObject(e,t,n,s,...r){const o=Yi(t,n);return this.fire("insertObject",[e,o,s,s,...r])}deleteContent(e,t){gb(this,e,t)}modifySelection(e,t){Fb(this,e,t)}getSelectedContent(e){return Tb(this,e)}hasContent(e,t={}){const n=e instanceof m?e:m._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:r=!1}=t;if(!r){for(const o of this.markers.getMarkersIntersectingRange(n))if(o.affectsData)return!0}for(const o of n.getItems())if(this.schema.isContent(o))if(o.is("$textProxy"))if(s){if(o.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const t=Yi(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new p(e,t,n)}createPositionAt(e,t){return p._createAt(e,t)}createPositionAfter(e){return p._createAfter(e)}createPositionBefore(e){return p._createBefore(e)}createRange(e,t){return new m(e,t)}createRangeIn(e){return m._createIn(e)}createRangeOn(e){return m._createOn(e)}createSelection(...e){return new me(...e)}createBatch(e){return new Vt(e)}createOperationFromJSON(e){return X_.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new fb(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Yi(i,e){if(i)return i instanceof me||i instanceof Ae?i:i instanceof It?e||e===0?new me(i,e):i.is("rootElement")?new me(i,"in"):new me(i,"on"):new me(i)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hh extends Ot{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kr extends Ot{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lb{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new d("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wb extends We{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const s=t;t=(r,o)=>{this.editor.execute(s),o()}}super.set(e,t,n)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hb extends q(){constructor(e={}){super();const t=this.constructor,n=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new bc({language:n}),this._context._addEditor(this,!e.context);const s=Array.from(t.builtinPlugins||[]);this.config=new ql(e,t.defaultConfig),this.config.define("plugins",s),this.config.define(this._context._getEditorConfig()),this.plugins=new _c(this,s,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Lb,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Nb,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const r=new C1;this.data=new j_(this.model,r),this.editing=new v_(this.model,r),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Z_([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Wb(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new d("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new d("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new d("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],r=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(s),n,r)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){/* istanbul ignore next -- @preserve */d.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $b(i){if(!Tt(i.updateSourceElement))throw new d("attachtoform-missing-elementapi-interface",i);const e=i.sourceElement;if(zb(e)&&e.form){let t;const n=e.form,s=()=>i.updateSourceElement();Tt(n.submit)&&(t=n.submit,n.submit=()=>{s(),t.apply(n)}),n.addEventListener("submit",s),i.on("destroy",()=>{n.removeEventListener("submit",s),t&&(n.submit=t)})}}function zb(i){return!!i&&i.tagName.toLowerCase()==="textarea"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function li(i){class e extends i{setData(n){this.data.set(n)}getData(n){return this.data.get(n)}}return e}{const i=li(Object);li.setData=i.prototype.setData,li.getData=i.prototype.getData}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ns(i){class e extends i{updateSourceElement(n){if(!this.sourceElement)throw new d("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),r=this.sourceElement instanceof HTMLTextAreaElement;if(!s&&!r){fo(this.sourceElement,"");return}const o=typeof n=="string"?n:this.data.get();fo(this.sourceElement,o)}}return e}Ns.updateSourceElement=Ns(Object).prototype.updateSourceElement;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ua extends h1{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new ht({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new d("pendingactions-add-invalid-message",this);const t=new(q());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Ub='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',qb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',Gb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',jb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',Kb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',Zb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',Jb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',Xb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',Yb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',Qb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',ex='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',tx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',nx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',ix='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',sx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',rx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',ox='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',ax='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',lx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',cx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',hx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',ux='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',dx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',fx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',mx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',gx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',px='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',wx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',_x='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',bx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',xx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',yx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',vx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',kx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',Cx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',Tx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',Px='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',Ex='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',Sx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',Ax='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',Mx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',Fx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',Rx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',Ox='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',Ix='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',Bx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Dx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',Vx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',Nx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',Lx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',Wx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',Hx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',$x='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',zx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',Ux='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',qx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',Gx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',jx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',Kx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',Zx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Jx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',Xx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const U={bold:Ax,cancel:Ub,caption:qb,check:Gb,cog:jb,colorPalette:Kb,eraser:Zb,history:Jb,image:nx,imageUpload:ix,imageAssetManager:sx,imageUrl:rx,lowVision:Xb,textAlternative:Yb,loupe:Qb,previousArrow:ex,nextArrow:tx,importExport:Ox,paragraph:Mx,plus:Fx,text:Rx,alignBottom:ox,alignMiddle:ax,alignTop:lx,alignLeft:cx,alignCenter:hx,alignRight:ux,alignJustify:dx,objectLeft:_x,objectCenter:mx,objectRight:bx,objectFullWidth:px,objectInline:wx,objectBlockLeft:fx,objectBlockRight:gx,objectSizeFull:xx,objectSizeLarge:yx,objectSizeSmall:vx,objectSizeMedium:kx,pencil:Cx,pilcrow:Tx,quote:Px,threeVerticalDots:Ex,dragIndicator:Sx,redo:Ix,undo:Bx,bulletedList:Dx,numberedList:Vx,todoList:Nx,codeBlock:Lx,browseFiles:Wx,heading1:Hx,heading2:$x,heading3:zx,heading4:Ux,heading5:qx,heading6:Gx,horizontalLine:jx,html:Kx,indent:Zx,outdent:Jx,table:Xx};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const{threeVerticalDots:uh}=U,Yx={alignLeft:U.alignLeft,bold:U.bold,importExport:U.importExport,paragraph:U.paragraph,plus:U.plus,text:U.text,threeVerticalDots:U.threeVerticalDots,pilcrow:U.pilcrow,dragIndicator:U.dragIndicator};class dh extends S{constructor(e,t){super(e);const n=this.bindTemplate,s=this.t;this.options=t||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new be,this.keystrokes=new We,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Qx(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r=e.uiLanguageDirection==="rtl";this._focusCycler=new tt({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:c1(this)}}),this._behavior=this.options.shouldGroupWhenFull?new ty(this):new ey(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const s=wc(e),r=n||s.removeItems;return this._cleanItemsConfiguration(s.items,t,r).map(a=>Z(a)?this._createNestedToolbarDropdown(a,t,r):a==="|"?new pc:a==="-"?new l1:t.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(e,t,n){const s=e.filter((r,o,a)=>r==="|"?!0:n.indexOf(r)!==-1?!1:r==="-"?this.options.shouldGroupWhenFull?(ne("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!Z(r)&&!t.has(r)?(ne("toolbarview-item-unavailable",{item:r}),!1):!0);return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const t=o=>o!=="-"&&o!=="|",n=e.length,s=e.findIndex(t);if(s===-1)return[];const r=n-e.slice().reverse().findIndex(t);return e.slice(s,r).filter((o,a,l)=>t(o)?!0:!(a>0&&l[a-1]===o))}_createNestedToolbarDropdown(e,t,n){let{label:s,icon:r,items:o,tooltip:a=!0,withText:l=!1}=e;if(o=this._cleanItemsConfiguration(o,t,n),!o.length)return null;const c=this.locale,h=fh(c);return s||ne("toolbarview-nested-toolbar-dropdown-missing-label",e),h.class="ck-toolbar__nested-toolbar-dropdown",h.buttonView.set({label:s,tooltip:a,withText:!!l}),r!==!1?h.buttonView.icon=Yx[r]||r||uh:h.buttonView.withText=!0,mh(h,()=>h.toolbarView._buildItemsFromConfig(o,t,n)),h}}class Qx extends S{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class ey{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>Gn(n)?n:null),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class ty{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,n)=>{const s=n.index,r=Array.from(n.added);for(const o of n.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=s;o<s+r.length;o++){const a=r[o-s];o>this.ungroupedItems.length?this.groupedItems.add(a,o-this.ungroupedItems.length):this.ungroupedItems.add(a,o)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!St(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new F(e.lastChild),s=new F(e);if(!this.cachedPadding){const r=y.window.getComputedStyle(e),o=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[o])}return t==="ltr"?n.right>s.right-this.cachedPadding:n.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new W(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new pc),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=fh(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",mh(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:uh}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Gn(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ny extends S{constructor(e,t){super(e);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new We,this.focusTracker=new be,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",s=>!s),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new z;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new z,t=e.bindTemplate;return e.icon=uc,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function fh(i,e=o1){const t=typeof e=="function"?new e(i):e,n=new r1(i),s=new Xt(i,t,n);return t.bind("isEnabled").to(s),t instanceof ny?t.arrowView.bind("isOn").to(s,"isOpen"):t.bind("isOn").to(s,"isOpen"),sy(s),s}function mh(i,e,t={}){i.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),i.isOpen?da(i,e,t):i.once("change:isOpen",()=>da(i,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&iy(i,()=>i.toolbarView.items.find(n=>n.isOn))}function da(i,e,t){const n=i.locale,s=n.t,r=i.toolbarView=new dh(n),o=typeof e=="function"?e():e;r.ariaLabel=t.ariaLabel||s("Dropdown toolbar"),t.maxWidth&&(r.maxWidth=t.maxWidth),t.class&&(r.class=t.class),t.isCompact&&(r.isCompact=t.isCompact),t.isVertical&&(r.isVertical=!0),o instanceof Le?r.items.bindTo(o).using(a=>a):r.items.addMany(o),i.panelView.children.add(r),r.items.delegate("execute").to(i)}function iy(i,e){i.on("change:isOpen",()=>{if(!i.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():ne("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:vt.low-10})}function sy(i){ry(i),oy(i),ay(i),ly(i),cy(i),hy(i)}function ry(i){i.on("render",()=>{zs({emitter:i,activator:()=>i.isOpen,callback:()=>{i.isOpen=!1},contextElements:()=>[i.element,...i.focusTracker._elements]})})}function oy(i){i.on("execute",e=>{e.source instanceof hc||(i.isOpen=!1)})}function ay(i){i.focusTracker.on("change:isFocused",(e,t,n)=>{i.isOpen&&!n&&(i.isOpen=!1)})}function ly(i){i.keystrokes.set("arrowdown",(e,t)=>{i.isOpen&&(i.panelView.focus(),t())}),i.keystrokes.set("arrowup",(e,t)=>{i.isOpen&&(i.panelView.focusLast(),t())})}function cy(i){i.on("change:isOpen",(e,t,n)=>{if(n)return;const s=i.panelView.element;s&&s.contains(y.document.activeElement)&&i.buttonView.focus()})}function hy(i){i.on("change:isOpen",(e,t,n)=>{n&&i.panelView.focus()},{priority:"low"})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gh=(i,e,t)=>{const n=new s1(i.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(i,"isEnabled",s=>!s),n.bind("hasError").to(i,"errorText",s=>!!s),n.on("input",()=>{i.errorText=null}),i.bind("isEmpty","isFocused","placeholder").to(n),n};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uy{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Qi(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new d("componentfactory-item-missing",this,{name:e});return this._components.get(Qi(e)).callback(this.editor.locale)}has(e){return this._components.has(Qi(e))}}function Qi(i){return String(i).toLowerCase()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dy extends S{constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),t.icon&&(this.iconView=new ut,this.iconView.content=t.icon,this.children.add(this.iconView));const s=new S(e);s.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"]},children:[{text:n.to("label")}]}),this.children.add(s)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function fy(i){class e extends i{constructor(...n){super(...n),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(y.document,"mouseup",this._onDragEndBound),this.listenTo(y.document,"touchend",this._onDragEndBound),this.listenTo(y.document,"mousemove",this._onDragBound),this.listenTo(y.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(y.document,"mouseup",this._onDragEndBound),this.stopListening(y.document,"touchend",this._onDragEndBound),this.stopListening(y.document,"mousemove",this._onDragBound),this.stopListening(y.document,"touchmove",this._onDragBound)}_onDragStart(n,s){if(!this._isHandleElementPressed(s))return;this._attachDragListeners();let r=0,o=0;s instanceof MouseEvent?(r=s.clientX,o=s.clientY):(r=s.touches[0].clientX,o=s.touches[0].clientY),this._lastDraggingCoordinates={x:r,y:o},this.isDragging=!0}_onDrag(n,s){if(!this.isDragging){this._detachDragListeners();return}let r=0,o=0;s instanceof MouseEvent?(r=s.clientX,o=s.clientY):(r=s.touches[0].clientX,o=s.touches[0].clientY),s.preventDefault(),this.fire("drag",{deltaX:Math.round(r-this._lastDraggingCoordinates.x),deltaY:Math.round(o-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:r,y:o}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(n){return this.dragHandleElement?this.dragHandleElement===n.target||n.target instanceof HTMLElement&&this.dragHandleElement.contains(n.target):!1}}return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class my extends S{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new We,this._focusTracker=new be,this._focusables=new Le,this.focusCycler=new tt({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const n=new z(this.locale);let s;n.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(n);for(s in t)s!="onExecute"&&s!="onCreate"&&n.set(s,t[s]);this.children.add(n)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gy extends S{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const $e={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},fa=nn("px");class Hn extends fy(S){constructor(e,{getCurrentDomRoot:t,getViewportOffset:n}){super(e),this.wasMoved=!1;const s=this.bindTemplate,r=e.t;this.set("className",""),this.set("ariaLabel",r("Editor dialog")),this.set("isModal",!1),this.set("position",$e.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=t,this._getViewportOffset=n,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new We,this.focusTracker=new be,this._focusables=new Le,this._focusCycler=new tt({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",s.if("isModal","ck-dialog-overlay__transparent",o=>!o),s.if("_isVisible","ck-hidden",o=>!o)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",s.to("className")],role:"dialog","aria-label":s.to("ariaLabel"),style:{top:s.to("_top",o=>fa(o)),left:s.to("_left",o=>fa(o)),visibility:s.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,t)=>{this.fire("close",{source:"escKeyPress"}),t()}),this.on("drag",(e,{deltaX:t,deltaY:n})=>{this.wasMoved=!0,this.moveBy(t,n)}),this.listenTo(y.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(y.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,t,n)=>{n&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:e,title:t,hasCloseButton:n=!0,content:s,actionButtons:r}){t&&(this.headerView=new dy(this.locale,{icon:e}),n&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=t,this.ariaLabel=t,this.parts.add(this.headerView,0)),s&&(s instanceof S&&(s=[s]),this.contentView=new gy(this.locale),this.contentView.children.addMany(s),this.parts.add(this.contentView)),r&&(this.actionsView=new my(this.locale),this.actionsView.setButtons(r),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const n=this._getViewportRect(),s=this._getDialogRect();e+s.width>n.right&&(e=n.right-s.width),e<n.left&&(e=n.left),t<n.top&&(t=n.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t=this.position,n;this._getCurrentDomRoot()?n=this._getVisibleDomRootRect(e):t=$e.SCREEN_CENTER;const s=Hn.defaultOffset,r=this._getDialogRect();switch(t){case $e.EDITOR_TOP_SIDE:{if(n){const o=this.locale.contentLanguageDirection==="ltr"?n.right-r.width-s:n.left+s;this.moveTo(o,n.top+s)}else this._moveOffScreen();break}case $e.EDITOR_CENTER:{n?this.moveTo(Math.round(n.left+n.width/2-r.width/2),Math.round(n.top+n.height/2-r.height/2)):this._moveOffScreen();break}case $e.SCREEN_CENTER:{this.moveTo(Math.round((e.width-r.width)/2),Math.round((e.height-r.height)/2));break}case $e.EDITOR_TOP_CENTER:{n?this.moveTo(Math.round(n.left+n.width/2-r.width/2),n.top+s):this._moveOffScreen();break}case $e.EDITOR_BOTTOM_CENTER:{n?this.moveTo(Math.round(n.left+n.width/2-r.width/2),n.bottom-r.height-s):this._moveOffScreen();break}case $e.EDITOR_ABOVE_CENTER:{n?this.moveTo(Math.round(n.left+n.width/2-r.width/2),n.top-r.height-s):this._moveOffScreen();break}case $e.EDITOR_BELOW_CENTER:{n?this.moveTo(Math.round(n.left+n.width/2-r.width/2),n.bottom+s):this._moveOffScreen();break}}}_getVisibleDomRootRect(e){let t=new F(this._getCurrentDomRoot()).getVisible();if(t){if(t=e.getIntersection(t),!t)return null}else return null;return t}_getDialogRect(){return new F(this.element.firstElementChild)}_getViewportRect(){return py(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)Gn(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element),a1(t)&&(this.listenTo(t.focusCycler,"forwardCycle",n=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}),this.listenTo(t.focusCycler,"backwardCycle",n=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}))})}_createCloseButton(){const e=new z(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:U.cancel}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}}Hn.defaultOffset=15;function py(i){i=Object.assign({top:0,bottom:0,left:0,right:0},i);const e=new F(y.window);return e.top+=i.top,e.height-=i.top,e.bottom-=i.bottom,e.height-=i.bottom,e.left+=i.left,e.right-=i.right,e.width-=i.left+i.right,e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ma=nn("px"),ga=y.document.body,wy={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class de extends S{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",n=>`ck-balloon-panel_${n}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",ma),left:t.to("left",ma)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=de.defaultPositions,n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:ga,fitInViewport:!0},e),s=de._getOptimalPosition(n)||wy,r=parseInt(s.left),o=parseInt(s.top),a=s.name,l=s.config||{},{withArrow:c=!0}=l;this.top=o,this.left=r,this.position=a,this.withArrow=c}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=Ls(e.target),n=e.limiter?Ls(e.limiter):ga;this.listenTo(y.document,"scroll",(s,r)=>{const o=r.target,a=t&&o.contains(t),l=n&&o.contains(n);(a||l||!t||!n)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(y.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(y.document,"scroll"),this.stopListening(y.window,"resize")}}de.arrowSideOffset=25;de.arrowHeightOffset=10;de.stickyVerticalOffset=20;de._getOptimalPosition=or;de.defaultPositions=ph();function Ls(i){return Et(i)?i:Mi(i)?i.commonAncestorContainer:typeof i=="function"?Ls(i()):null}function ph(i={}){const{sideOffset:e=de.arrowSideOffset,heightOffset:t=de.arrowHeightOffset,stickyVerticalOffset:n=de.stickyVerticalOffset,config:s}=i;return{northWestArrowSouthWest:(a,l)=>({top:r(a,l),left:a.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.left-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(a,l)=>({top:r(a,l),left:a.left-l.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.left-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(a,l)=>({top:r(a,l),left:a.left-l.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(a,l)=>({top:r(a,l),left:a.left+a.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(a,l)=>({top:r(a,l),left:a.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.right-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(a,l)=>({top:r(a,l),left:a.right-l.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.right-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(a,l)=>({top:r(a,l),left:a.right-l.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:a=>({top:o(a),left:a.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.left-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(a,l)=>({top:o(a),left:a.left-l.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.left-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(a,l)=>({top:o(a),left:a.left-l.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:a=>({top:o(a),left:a.left+a.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:a=>({top:o(a),left:a.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.right-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(a,l)=>({top:o(a),left:a.right-l.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.right-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(a,l)=>({top:o(a),left:a.right-l.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(a,l)=>({top:a.top+a.height/2-l.height/2,left:a.left-l.width-t,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(a,l)=>({top:a.top+a.height/2-l.height/2,left:a.right+t,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(a,l,c,h)=>{const u=h||c;return!a.getIntersection(u)||u.height-a.height>n?null:{top:u.top+n,left:a.left+a.width/2-l.width/2,name:"arrowless",config:{withArrow:!1,...s}}}};function r(a,l){return a.top-l.height-t}function o(a){return a.bottom+t}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const pa="ck-tooltip";class te extends Fe(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,te._editors.add(e),te._instance)return te._instance;te._instance=this,this.tooltipTextView=new S(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new de(e.locale),this.balloonPanelView.class=pa,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=Mn(this._pinTooltip,600),this.listenTo(y.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(y.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(y.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(y.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(y.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;te._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),te._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),te._instance=null)}static getPositioningFunctions(e){const t=te.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const n=es(t);n&&n!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(n,_y(n)))}_onLeaveOrBlur(e,{target:t,relatedTarget:n}){if(e.name==="mouseleave"){if(!Et(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const s=es(t),r=es(n);s&&s!==r&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:n,cssClass:s}){const r=Ne(te._editors.values()).ui.view.body;r.has(this.balloonPanelView)||r.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:te.getPositioningFunctions(n)}),this._resizeObserver=new W(e,()=>{St(e)||this._unpinTooltip()}),this.balloonPanelView.class=[pa,s].filter(o=>o).join(" ");for(const o of te._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=n}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of te._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!St(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:te.getPositioningFunctions(this._currentTooltipPosition)})}}te.defaultBalloonPositions=ph({heightOffset:5,sideOffset:13});te._editors=new Set;te._instance=null;function es(i){return Et(i)?i.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function _y(i){return{text:i.dataset.ckeTooltipText,position:i.dataset.ckeTooltipPosition||"s",cssClass:i.dataset.ckeTooltipClass||""}}const by=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const xy=53,yy=10,vy=50,ky=350,Cy="Powered by";class Ty extends Fe(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=mi(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor,t=!!e.config.get("ui.poweredBy.forceVisible");/* istanbul ignore next -- @preserve */!t&&Tp(e.config.get("licenseKey"))==="VALID"||e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(n,s,r)=>{this._updateLastFocusedEditableElement(),r?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(n,s,r)=>{this._updateLastFocusedEditableElement(),r&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new de,n=_h(e),s=new Py(e.locale,n.label);t.content.add(s),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=Ey(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n){this._lastFocusedEditableElement=null;return}const s=Array.from(e.ui.getEditableElementsNames()).map(r=>e.ui.getEditableElement(r));s.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=s[0]}}class Py extends S{constructor(e,t){super(e);const n=new ut,s=this.bindTemplate;n.set({content:by,isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:xy+"px",height:yy+"px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:s.to(r=>r.preventDefault())}}]})}}function Ey(i,e){const t=_h(i),n=t.side==="right"?Sy(e,t):Ay(e,t);return{target:e,positions:[n]}}function Sy(i,e){return wh(i,e,(t,n)=>t.left+t.width-n.width-e.horizontalOffset)}function Ay(i,e){return wh(i,e,t=>t.left+e.horizontalOffset)}function wh(i,e,t){return(n,s)=>{const r=new F(i);if(r.width<ky||r.height<vy)return null;let o;e.position==="inside"?o=r.bottom-s.height:o=r.bottom-s.height/2,o-=e.verticalOffset;const a=t(r,s),c=n.clone().moveTo(a,o).getIntersection(s.clone().moveTo(a,o)).getVisible();return!c||c.getArea()<s.getArea()?null:{top:o,left:a,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function _h(i){const e=i.config.get("ui.poweredBy"),t=e&&e.position||"border";return{position:t,label:Cy,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:i.locale.contentLanguageDirection==="ltr"?"right":"left",...e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const bh={POLITE:"polite",ASSERTIVE:"assertive"};class My{constructor(e){this.editor=e}announce(e,t,n=bh.POLITE){const s=this.editor;this.view||(this.view=new Fy(s.locale),s.ui.view.body.add(this.view));let r=this.view.regionViews.find(o=>o.regionName===e);r||(r=new Ry(this.view.locale),this.view.regionViews.add(r)),r.set({regionName:e,text:t,politeness:n})}}class Fy extends S{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class Ry extends S{constructor(e){super(e);const t=this.bindTemplate;this.set("regionName",""),this.set("text",""),this.set("politeness",bh.POLITE),this.setTemplate({tag:"div",attributes:{role:"region","data-region":t.to("regionName"),"aria-live":t.to("politeness")},children:[{text:t.to("text")}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oy extends q(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new uy(e),this.focusTracker=new be,this.tooltipManager=new te(e),this.poweredBy=new Ty(e),this.ariaLiveAnnouncer=new My(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,s;e.keystrokes.set("Alt+F10",(r,o)=>{const a=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(a)&&!Array.from(t.domRoots.values()).includes(a)&&(n=a);const l=this._getCurrentFocusedToolbarDefinition();(!l||!s)&&(s=this._getFocusableCandidateToolbarDefinitions());for(let c=0;c<s.length;c++){const h=s.shift();if(s.push(h),h!==l&&this._focusFocusableCandidateToolbar(h)){l&&l.options.afterBlur&&l.options.afterBlur();break}}o()}),e.keystrokes.set("Esc",(r,o)=>{const a=this._getCurrentFocusedToolbarDefinition();a&&(n?(n.focus(),n=null):e.editing.view.focus(),a.options.afterBlur&&a.options.afterBlur(),o())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:s}=t;(St(n.element)||s.beforeFocus)&&e.push(t)}return e.sort((t,n)=>wa(t)-wa(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),St(t.element)?(t.focus(),!0):!1}_handleScrollToTheSelection(e,t){const n={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function wa(i){const{toolbarView:e,options:t}=i;let n=10;return St(e.element)&&n--,t.isContextual&&n--,n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Iy extends S{constructor(e){super(e),this.body=new $p(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class By extends Iy{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new mc;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dy extends S{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?n(this):t(this);function t(s){e.change(r=>{const o=e.document.getRoot(s.name);r.addClass(s.isFocused?"ck-focused":"ck-blurred",o),r.removeClass(s.isFocused?"ck-blurred":"ck-focused",o)})}function n(s){e.once("change:isRenderingInProgress",(r,o,a)=>{a?n(s):t(s)})}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vy extends Dy{constructor(e,t,n,s={}){super(e,t,n);const r=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=s.label||(()=>r("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ti=nn("px");class vi extends C{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,s=t.document.selection.editableElement;return s?t.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new d("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new d("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new d("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new de(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(n=>n[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new Ny(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,s)=>!s&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,s)=>{if(s<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[r,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new Ly(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:s=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class Ny extends S{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new be,this.buttonPrevView=this._createButtonView(t("Previous"),U.previousArrow),this.buttonNextView=this._createButtonView(t("Next"),U.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new z(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class Ly extends S{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:n.to("top",ti),left:n.to("left",ti),width:n.to("width",ti),height:n.to("height",ti)}},children:this.content}),this.on("change:numberOfPanels",(s,r,o,a)=>{o>a?this._addPanels(o-a):this._removePanels(a-o),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new S;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:s}=new F(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:s})}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Nt=nn("px");class Wy extends S{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Be({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",n=>n?"block":"none"),height:t.to("isSticky",n=>n?Nt(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Be({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",n=>n?Nt(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",n=>n&&Nt(n)),bottom:t.to("_stickyBottomOffset",n=>n&&Nt(n)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(y.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new F(this.limiterElement);let t=e.getVisible();if(t){const n=new F(y.window);n.top+=this.viewportTopOffset,n.height-=this.viewportTopOffset,t=t.getIntersection(n)}if(t&&e.top<t.top){const n=t.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const s=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-s>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(s):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Nt(-y.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Nt(-y.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new F(this.contentPanelElement)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hy extends gc{constructor(e,t){const n=e.t,s=Object.assign({},{showResetButton:!0,showIcon:!0,creator:gh},t);super(e,s.creator),this.label=t.label,this._viewConfig=s,this._viewConfig.showIcon&&(this.iconView=new ut,this.iconView.content=U.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new z(e),this.resetButtonView.set({label:n("Clear"),icon:U.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",r=>!r),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $y extends S{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zy extends S{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new be,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new tt({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Uy extends S{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new be,this.keystrokes=new We,this.resultsView=new zy(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new $y,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new tt({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(n,{resultsCount:s,totalItemsCount:r})=>{this.resultsCount=s,this.totalItemsCount=r}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(Wl(e),"ig"):null,n=this.filteredView.filter(t);this.fire("search",{query:e,...n})}_createSearchTextQueryView(){const e=new Hy(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;this.on("search",(s,r)=>{if(r.resultsCount)t.set({isVisible:!1});else{const o=this._config.infoView&&this._config.infoView.text;let a,l;r.totalItemsCount?o&&o.notFound?(a=o.notFound.primary,l=o.notFound.secondary):(a=e("No results found"),l=""):o&&o.noSearchableItems?(a=o.noSearchableItems.primary,l=o.noSearchableItems.secondary):(a=e("No searchable items"),l=""),t.set({primaryText:n(a,r),secondaryText:n(l,r),isVisible:!0})}});function n(s,{query:r,resultsCount:o,totalItemsCount:a}){return typeof s=="function"?s(r,o,a):s}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $n extends Uy{constructor(e,t){super(e,t),this._config=t;const n=nn("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const s=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[s.if("isVisible","ck-hidden",r=>!r),s.to("_position",r=>`ck-search__results_${r}`)],style:{width:s.to("_width",n)}}}),this.focusTracker.on("change:isFocused",(r,o,a)=>{this._updateResultsVisibility(),a?this.resultsView.element.scrollTop=0:t.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(r,o)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,o())}),this.listenTo(y.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(r,{value:o})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=o,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new F(this.queryView.fieldView.element).width;const e=$n._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:$n.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=typeof this._config.queryMinChars>"u"?0:this._config.queryMinChars,t=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&t>=e}}$n.defaultResultsPositions=[i=>({top:i.bottom,left:i.left,name:"s"}),(i,e)=>({top:i.top-e.height,left:i.left,name:"n"})];$n._getOptimalPosition=or;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qy extends Oy{constructor(e,t){super(e),this.view=t,this._toolbarConfig=wc(e.config.get("toolbar")),this._elementReplacer=new Ul,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,s=t.editing.view,r=n.editable,o=s.document.getRoot();r.name=o.rootName,n.render();const a=r.element;this.setEditableElement(r.name,a),n.editable.bind("isFocused").to(this.focusTracker),s.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),s=e.sourceElement;let r;const o=e.config.get("placeholder");o&&(r=typeof o=="string"?o:o[this.view.editable.name]),!r&&s&&s.tagName.toLowerCase()==="textarea"&&(r=s.getAttribute("placeholder")),r&&(n.placeholder=r),u1({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,t,n){const s=this.view.stickyPanel;if(s.isSticky){const r=new F(s.element).height;t.viewportOffset.top+=r}else{const r=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(s,"change:isSticky",r),setTimeout(()=>{this.stopListening(s,"change:isSticky",r)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{const n=t.view;n.on("moveTo",(s,r)=>{if(!e.isSticky||n.wasMoved)return;const o=new F(e.contentPanelElement);r[1]<o.bottom+Hn.defaultOffset&&(r[1]=o.bottom+Hn.defaultOffset)},{priority:"high"})},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gy extends By{constructor(e,t,n={}){super(e),this.stickyPanel=new Wy(e),this.toolbar=new dh(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new Vy(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xh{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const s of n)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ws(i,e=new Set){const t=[i],n=new Set;let s=0;for(;t.length>s;){const r=t[s++];if(!(n.has(r)||!jy(r)||e.has(r)))if(n.add(r),Symbol.iterator in r)try{for(const o of r)t.push(o)}catch{}else for(const o in r)o!=="defaultValue"&&t.push(r[o])}return n}function jy(i){const e=Object.prototype.toString.call(i),t=typeof i;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||i===void 0||i===null||i._watchdogExcluded||i instanceof EventTarget||i instanceof Event)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yh(i,e,t=new Set){if(i===e&&Ky(i))return!0;const n=Ws(i,t),s=Ws(e,t);for(const r of n)if(s.has(r))return!0;return!1}function Ky(i){return typeof i=="object"&&i!==null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vh extends xh{constructor(e,t={}){super(t),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=mi(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,s)=>e.create(n,s)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],n=this._config.rootsAttributes||{},s={};for(const[o,a]of Object.entries(this._data.roots))a.isLoaded?(e[o]="",s[o]=n[o]||{}):t.push(o);const r={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:s,_watchdogInitialData:this._data};return delete r.initialData,r.extraPlugins.push(Zy),this._initUsingData?this.create(e,r,r.context):Et(this._elementOrData)?this.create(this._elementOrData,r,r.context):this.create(this._editables,r,r.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(a=>a.isAttached()&&a.rootName!="$graveyard"),{plugins:n}=e,s=n.has("CommentsRepository")&&n.get("CommentsRepository"),r=n.has("TrackChanges")&&n.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(a=>{o.roots[a.rootName]={content:JSON.stringify(Array.from(a.getChildren())),attributes:JSON.stringify(Array.from(a.getAttributes())),isLoaded:a._isLoaded}});for(const a of e.model.markers)a._affectsData&&(o.markers[a.name]={rangeJSON:a.getRange().toJSON(),usingOperation:a._managedUsingOperations,affectsData:a._affectsData});return s&&(o.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),r&&(o.suggestions=JSON.stringify(r.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return yh(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return sr(e,(t,n)=>{if(Et(t)||n==="context")return t})}}class Zy{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const s of t.children)n._appendChild(this._createNode(e,s));return n}else return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([n,{content:s,attributes:r}])=>{const o=JSON.parse(s),a=JSON.parse(r),l=t.model.document.getRoot(n);for(const[c,h]of a)e.setAttribute(c,h,l);for(const c of o){const h=this._createNode(e,c);e.insert(h,l,"end")}}),Object.entries(this._data.markers).forEach(([n,s])=>{const{document:r}=t.model,{rangeJSON:{start:o,end:a},...l}=s,c=r.getRoot(o.root),h=e.createPositionFromPath(c,o.path,o.stickiness),u=e.createPositionFromPath(c,a.path,a.stickiness),f=e.createRange(h,u);e.addMarker(n,{range:f,...l})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(n=>{const s=this.editor.config.get("collaboration.channelId"),r=this.editor.plugins.get("CommentsRepository");r.hasCommentThread(n.threadId)&&r.getCommentThread(n.threadId).remove(),r.addCommentThread({channelId:s,...n})}),t.forEach(n=>{const s=this.editor.plugins.get("TrackChangesEditing");if(s.hasSuggestion(n.id)){const r=s.getSuggestion(n.id);r.attributes=n.attributes}else s.addSuggestionData(n)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Tn=Symbol("MainQueueId");class Jy extends xh{constructor(e,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Xy,this._watchdogConfig=t,this._creator=n=>e.create(n),this._destructor=n=>n.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Tn,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=_a(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(n.id))throw new Error(`Item with the given id is already added: '${n.id}'.`);if(n.type==="editor")return s=new vh(null,this._watchdogConfig),s.setCreator(n.creator),s._setExcludedProperties(this._contextProps),n.destructor&&s.setDestructor(n.destructor),this._watchdogs.set(n.id,s),s.on("error",(r,{error:o,causesRestart:a})=>{this._fire("itemError",{itemId:n.id,error:o}),a&&this._actionQueues.enqueue(n.id,()=>new Promise(l=>{const c=()=>{s.off("restart",c),this._fire("itemRestart",{itemId:n.id}),l()};s.on("restart",c)}))}),s.create(n.sourceElementOrData,n.config,this._context);throw new Error(`Not supported item type: '${n.type}'.`)})))}remove(e){const t=_a(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n,()=>{const s=this._getWatchdog(n);return this._watchdogs.delete(n),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Tn,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Tn,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Ws(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return yh(this._context,e.context)}}class Xy{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===Tn;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const r=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Tn),this._queues.get(e)])).then(t),o=r.catch(()=>{});return this._queues.set(e,o),r.finally(()=>{this._activeActions--,this._queues.get(e)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function _a(i){return Array.isArray(i)?i:[i]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oi extends li(Ns(Hb)){constructor(e,t={}){if(!ci(e)&&t.initialData!==void 0)throw new d("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",Yy(e)),ci(e)&&(this.sourceElement=e),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=new Gy(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new qy(this,s),$b(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(n=>{const s=new this(e,t);n(s.initPlugins().then(()=>s.ui.init(ci(e)?e:null)).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}Oi.Context=bc;Oi.EditorWatchdog=vh;Oi.ContextWatchdog=Jy;function Yy(i){return ci(i)?Y0(i):i}function ci(i){return Et(i)}const Qy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ts="removeFormat";class e2 extends C{static get pluginName(){return"RemoveFormatUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(ts,n=>{const s=e.commands.get(ts),r=new z(n);return r.set({label:t("Remove Format"),icon:Qy,tooltip:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute(ts),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class t2 extends xe{refresh(){const e=this.editor.model;this.isEnabled=!!Ne(this._getFormattingItems(e.document.selection,e.schema))}execute(){const e=this.editor.model,t=e.schema;e.change(n=>{for(const s of this._getFormattingItems(e.document.selection,t))if(s.is("selection"))for(const r of this._getFormattingAttributes(s,t))n.removeSelectionAttribute(r);else{const r=n.createRangeOn(s);for(const o of this._getFormattingAttributes(s,t))n.removeAttribute(o,r)}})}*_getFormattingItems(e,t){const n=s=>!!Ne(this._getFormattingAttributes(s,t));for(const s of e.getRanges())for(const r of s.getItems())!t.isBlock(r)&&n(r)&&(yield r);for(const s of e.getSelectedBlocks())n(s)&&(yield s);n(e)&&(yield e)}*_getFormattingAttributes(e,t){for(const[n]of e.getAttributes()){const s=t.getAttributeProperties(n);s&&s.isFormatting&&(yield n)}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class n2 extends C{static get pluginName(){return"RemoveFormatEditing"}init(){const e=this.editor;e.commands.add("removeFormat",new t2(e))}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class i2 extends C{static get requires(){return[n2,e2]}static get pluginName(){return"RemoveFormat"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zn extends Ot{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"});function n(s){return(r,o)=>{o.preventDefault();const a=o.dropRange?[o.dropRange]:null,l=new Ze(t,s);t.fire(l,{dataTransfer:o.dataTransfer,method:r.name,targetRanges:a,target:o.target,domEvent:o.domEvent}),l.stop.called&&o.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",s={dataTransfer:new Ic(t,{cacheFiles:n})};(e.type=="drop"||e.type=="dragover")&&(s.dropRange=s2(this.view,e)),this.fire(e.type,e,s)}}function s2(i,e){const t=e.target.ownerDocument,n=e.clientX,s=e.clientY;let r;return t.caretRangeFromPoint&&t.caretRangeFromPoint(n,s)?r=t.caretRangeFromPoint(n,s):e.rangeParent&&(r=t.createRange(),r.setStart(e.rangeParent,e.rangeOffset),r.collapse(!0)),r?i.domConverter.domRangeToView(r):null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function r2(i){return i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(i.includes("</p><p>")||i.includes("<br>"))&&(i=`<p>${i}</p>`),i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function o2(i){return i.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ba=["figcaption","li"],xa=["ol","ul"];function kh(i){if(i.is("$text")||i.is("$textProxy"))return i.data;if(i.is("element","img")&&i.hasAttribute("alt"))return i.getAttribute("alt");if(i.is("element","br"))return`
`;let e="",t=null;for(const n of i.getChildren())e+=a2(n,t)+kh(n),t=n;return e}function a2(i,e){return e?i.is("element","li")&&!i.isEmpty&&i.getChild(0).is("containerElement")||xa.includes(i.name)&&xa.includes(e.name)?`

`:!i.is("containerElement")&&!e.is("containerElement")?"":ba.includes(i.name)||ba.includes(e.name)?`
`:`

`:""}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qt extends C{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(zn),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const s=this.editor.model.getSelectedContent(t);this.fire("outputTransformation",{dataTransfer:e,content:s,method:n})}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document;this.listenTo(s,"clipboardInput",(r,o)=>{o.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&r.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(r,o)=>{const a=o.dataTransfer;let l;if(o.content)l=o.content;else{let h="";a.getData("text/html")?h=o2(a.getData("text/html")):a.getData("text/plain")&&(h=r2(a.getData("text/plain"))),l=this.editor.data.htmlProcessor.toView(h)}const c=new Ze(this,"inputTransformation");this.fire(c,{content:l,dataTransfer:a,targetRanges:o.targetRanges,method:o.method}),c.stop.called&&r.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(r,o)=>{if(o.content.isEmpty)return;const l=this.editor.data.toModel(o.content,"$clipboardHolder");l.childCount!=0&&(r.stop(),t.change(()=>{this.fire("contentInsertion",{content:l,method:o.method,dataTransfer:o.dataTransfer,targetRanges:o.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(r,o)=>{o.resultRange=t.insertContent(o.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,s=e.editing.view.document,r=(o,a)=>{const l=a.dataTransfer;a.preventDefault(),this._fireOutputTransformationEvent(l,t.selection,o.name)};this.listenTo(s,"copy",r,{priority:"low"}),this.listenTo(s,"cut",(o,a)=>{e.model.canEditAt(e.model.document.selection)?r(o,a):a.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(o,a)=>{const l=e.data.toView(a.content);s.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:l,method:a.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(o,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",kh(a.content))),a.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ch{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class l2 extends xe{constructor(e,t){super(e),this._buffer=new Ch(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,s=e.text||"",r=s.length;let o=n.selection;if(e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range)),!t.canEditAt(o))return;const a=e.resultRange;t.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const c=Array.from(n.selection.getAttributes());t.deleteContent(o),s&&t.insertContent(l.createText(s,c),o),a?l.setSelection(a):o.is("documentSelection")||l.setSelection(o),this._buffer.unlock(),this._buffer.input(r)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ya=["insertText","insertReplacementText"];class c2 extends nt{constructor(e){super(e),this.focusObserver=e.getObserver(xi),A.isAndroid&&ya.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,s)=>{if(!this.isEnabled)return;const{data:r,targetRanges:o,inputType:a,domEvent:l}=s;if(!ya.includes(a))return;this.focusObserver.flush();const c=new Ze(t,"insertText");t.fire(c,new Yt(e,l,{text:r,selection:e.createSelection(o)})),c.stop.called&&n.stop()}),t.on("compositionend",(n,{data:s,domEvent:r})=>{!this.isEnabled||A.isAndroid||s&&t.fire("insertText",new Yt(e,r,{text:s,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Th extends C{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,s=t.document.selection;n.addObserver(c2);const r=new l2(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",r),e.commands.add("input",r),this.listenTo(n.document,"insertText",(o,a)=>{n.document.isComposing||a.preventDefault();const{text:l,selection:c,resultRange:h}=a,u=Array.from(c.getRanges()).map(w=>e.editing.mapper.toModelRange(w));let f=l;if(A.isAndroid){const w=Array.from(u[0].getItems()).reduce((b,T)=>b+(T.is("$textProxy")?T.data:""),"");w&&(w.length<=f.length?f.startsWith(w)&&(f=f.substring(w.length),u[0].start=u[0].start.getShiftedBy(w.length)):w.startsWith(f)&&(u[0].start=u[0].start.getShiftedBy(f.length),f=""))}const g={text:f,selection:t.createSelection(u)};h&&(g.resultRange=e.editing.mapper.toModelRange(h)),e.execute("insertText",g),n.scrollToTheSelection()}),A.isAndroid?this.listenTo(n.document,"keydown",(o,a)=>{s.isCollapsed||a.keyCode!=229||!n.document.isComposing||va(t,r)}):this.listenTo(n.document,"compositionstart",()=>{s.isCollapsed||va(t,r)})}}function va(i,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),i.enqueueChange(t.batch,()=>{i.deleteContent(i.document.selection)}),t.unlock()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ka extends xe{constructor(e,t){super(e),this.direction=t,this._buffer=new Ch(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const r=s.createSelection(e.selection||n.selection);if(!t.canEditAt(r))return;const o=e.sequence||1,a=r.isCollapsed;if(r.isCollapsed&&t.modifySelection(r,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o)){this._replaceEntireContentWithParagraph(s);return}if(this._shouldReplaceFirstBlockWithParagraph(r,o)){this.editor.execute("paragraph",{selection:r});return}if(r.isCollapsed)return;let l=0;r.getFirstRange().getMinimalFlatRanges().forEach(c=>{l+=Ts(c.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(r,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(l),s.setSelection(r),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,s=t.document.selection,r=t.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(r))||!t.schema.checkChild(r,"paragraph"))return!1;const a=r.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,s=t.document.selection,r=t.schema.getLimitElement(s),o=e.createElement("paragraph");e.remove(e.createRangeIn(r)),e.insert(o,r),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),r=n.schema.getLimitElement(s),o=r.getChild(0);return!(s.parent!=o||!e.containsEntireContent(o)||!n.schema.checkChild(r,"paragraph")||o.name=="paragraph")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const h2="character",Ca="word",u2="codePoint",st="selection",Ut="backward",_n="forward",Ph={deleteContent:{unit:st,direction:Ut},deleteContentBackward:{unit:u2,direction:Ut},deleteWordBackward:{unit:Ca,direction:Ut},deleteHardLineBackward:{unit:st,direction:Ut},deleteSoftLineBackward:{unit:st,direction:Ut},deleteContentForward:{unit:h2,direction:_n},deleteWordForward:{unit:Ca,direction:_n},deleteHardLineForward:{unit:st,direction:_n},deleteSoftLineForward:{unit:st,direction:_n}};class d2 extends nt{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:a,inputType:l}=r,c=Ph[l];if(!c)return;const h={direction:c.direction,unit:c.unit,sequence:n};h.unit==st&&(h.selectionToRemove=e.createSelection(o[0])),l==="deleteContentBackward"&&(A.isAndroid&&(h.sequence=1),m2(o)&&(h.unit=st,h.selectionToRemove=e.createSelection(o)));const u=new sn(t,"delete",o[0]);t.fire(u,new Yt(e,a,h)),u.stop.called&&s.stop()}),A.isBlink&&f2(this)}observe(){}stopObserving(){}}function f2(i){const e=i.view,t=e.document;let n=null,s=!1;t.on("keydown",(a,{keyCode:l})=>{n=l,s=!1}),t.on("keyup",(a,{keyCode:l,domEvent:c})=>{const h=t.selection,u=i.isEnabled&&l==n&&r(l)&&!h.isCollapsed&&!s;if(n=null,u){const f=h.getFirstRange(),g=new sn(t,"delete",f),w={unit:st,direction:o(l),selectionToRemove:h};t.fire(g,new Yt(e,c,w))}}),t.on("beforeinput",(a,{inputType:l})=>{const c=Ph[l];r(n)&&c&&c.direction==o(n)&&(s=!0)},{priority:"high"}),t.on("beforeinput",(a,{inputType:l,data:c})=>{n==R.delete&&l=="insertText"&&c==""&&a.stop()},{priority:"high"});function r(a){return a==R.backspace||a==R.delete}function o(a){return a==R.backspace?Ut:_n}}function m2(i){if(i.length!=1||i[0].isCollapsed)return!1;const e=i[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:n}of e){if(!n.parent.is("$text"))t++;else{const s=n.parent.data,r=n.offset;if(hr(s,r)||ur(s,r)||sc(s,r))continue;t++}if(t>1)return!0}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jn extends C{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,s=e.model.document;t.addObserver(d2),this._undoOnBackspace=!1;const r=new ka(e,"forward");e.commands.add("deleteForward",r),e.commands.add("forwardDelete",r),e.commands.add("delete",new ka(e,"backward")),this.listenTo(n,"delete",(o,a)=>{n.isComposing||a.preventDefault();const{direction:l,sequence:c,selectionToRemove:h,unit:u}=a,f=l==="forward"?"deleteForward":"delete",g={sequence:c};if(u=="selection"){const w=Array.from(h.getRanges()).map(b=>e.editing.mapper.toModelRange(b));g.selection=e.model.createSelection(w)}else g.unit=u;e.execute(f,g),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(o,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),a.preventDefault(),o.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class g2 extends C{static get requires(){return[Th,jn]}static get pluginName(){return"Typing"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Eh(i,e){let t=i.start;return{text:Array.from(i.getWalker({ignoreElementEnd:!1})).reduce((s,{item:r})=>r.is("$text")||r.is("$textProxy")?s+r.data:(t=e.createPositionAfter(r),""),""),range:e.createRange(t,i.end)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Sh extends q(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(n,{directChange:s})=>{if(s){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(n,s)=>{s.isUndo||!s.isLocal||this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,r=n.document.selection,o=n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),{text:a,range:l}=Eh(o,n),c=this.testCallback(a);if(!c&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!c,c){const h=Object.assign(t,{text:a,range:l});typeof c=="object"&&Object.assign(h,c),this.fire(`matched:${e}`,h)}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ki extends C{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,n=e.editing.view,s=e.locale,r=t.document.selection;this.listenTo(n.document,"arrowKey",(o,a)=>{if(!r.isCollapsed||a.shiftKey||a.altKey||a.ctrlKey)return;const l=a.keyCode==R.arrowright,c=a.keyCode==R.arrowleft;if(!l&&!c)return;const h=s.contentLanguageDirection;let u=!1;h==="ltr"&&l||h==="rtl"&&c?u=this._handleForwardMovement(a):u=this._handleBackwardMovement(a),u===!0&&o.stop()},{context:"$text",priority:"highest"}),this.listenTo(r,"change:range",(o,a)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!a.directChange&&ye(r.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model,s=n.document.selection,r=s.getFirstPosition();return this._isGravityOverridden||r.isAtStart&&ze(s,t)?!1:ye(r,t)?(fn(e),ze(s,t)&&ye(r,t,!0)?dn(n,t):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,s=n.document.selection,r=s.getFirstPosition();return this._isGravityOverridden?(fn(e),this._restoreGravity(),ye(r,t,!0)?dn(n,t):ni(n,t,r),!0):r.isAtStart?ze(s,t)?(fn(e),ni(n,t,r),!0):!1:!ze(s,t)&&ye(r,t,!0)?(fn(e),ni(n,t,r),!0):Ta(r,t)?r.isAtEnd&&!ze(s,t)&&ye(r,t)?(fn(e),ni(n,t,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,s=e.editing.view.document;e.editing.view.addObserver(kr);let r=!1;this.listenTo(s,"mousedown",()=>{r=!0}),this.listenTo(s,"selectionChange",()=>{const o=this.attributes;if(!r||(r=!1,!n.isCollapsed)||!ze(n,o))return;const a=n.getFirstPosition();ye(a,o)&&(a.isAtStart||ye(a,o,!0)?dn(t,o):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,n=t.document.selection,s=this.attributes;this.listenTo(t,"insertContent",()=>{const r=n.getFirstPosition();ze(n,s)&&ye(r,s)&&dn(t,s)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,s=e.editing.view;let r=!1,o=!1;this.listenTo(s.document,"delete",(a,l)=>{r=l.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!r)return;const a=n.getFirstPosition();o=ze(n,this.attributes)&&!Ta(a,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{r&&(r=!1,!o&&e.model.enqueueChange(()=>{const a=n.getFirstPosition();ze(n,this.attributes)&&ye(a,this.attributes)&&(a.isAtStart||ye(a,this.attributes,!0)?dn(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function ze(i,e){for(const t of e)if(i.hasAttribute(t))return!0;return!1}function ni(i,e,t){const n=t.nodeBefore;i.change(s=>{if(n){const r=[],o=i.schema.isObject(n)&&i.schema.isInline(n);for(const[a,l]of n.getAttributes())i.schema.checkAttribute("$text",a)&&(!o||i.schema.getAttributeProperties(a).copyFromObject!==!1)&&r.push([a,l]);s.setSelectionAttribute(r)}else s.removeSelectionAttribute(e)})}function dn(i,e){i.change(t=>{t.removeSelectionAttribute(e)})}function fn(i){i.preventDefault()}function Ta(i,e){const t=i.getShiftedBy(-1);return ye(t,e)}function ye(i,e,t=!1){const{nodeBefore:n,nodeAfter:s}=i;for(const r of e){const o=n?n.getAttribute(r):void 0,a=s?s.getAttribute(r):void 0;if(!(t&&(o===void 0||a===void 0))&&a!==o)return!0}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Pa={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Lt('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Lt("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Lt("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Lt('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Lt('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Lt("'"),to:[null,"‚",null,"’"]}},Ea={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},p2=["symbols","mathematical","typography","quotes"];class w2 extends C{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(e){super(e),e.config.define("typing",{transformations:{include:p2}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,t=e.model,n=e.plugins.get("Delete"),s=y2(e.config.get("typing.transformations")),r=a=>{for(const l of s)if(l.from.test(a))return{normalizedTransformation:l}},o=new Sh(e.model,r);o.on("matched:data",(a,l)=>{if(!l.batch.isTyping)return;const{from:c,to:h}=l.normalizedTransformation,u=c.exec(l.text),f=h(u.slice(1)),g=l.range;let w=u.index;t.enqueueChange(b=>{for(let T=1;T<u.length;T++){const P=u[T],j=f[T-1];if(j==null){w+=P.length;continue}const X=g.start.getShiftedBy(w),ee=t.createRange(X,X.getShiftedBy(P.length)),se=x2(X);t.insertContent(b.createText(j,se),ee),w+=j.length}t.enqueueChange(()=>{n.requestUndoOnBackspace()})})}),o.bind("isEnabled").to(this)}}function _2(i){return typeof i=="string"?new RegExp(`(${Wl(i)})$`):i}function b2(i){return typeof i=="string"?()=>[i]:i instanceof Array?()=>i:i}function x2(i){return(i.textNode?i.textNode:i.nodeAfter).getAttributes()}function Lt(i){return new RegExp(`(^|\\s)(${i})([^${i}]*)(${i})$`)}function y2(i){const e=i.extra||[],t=i.remove||[],n=r=>!t.includes(r),s=i.include.concat(e).filter(n);return v2(s).filter(n).map(r=>typeof r=="string"&&Pa[r]?Pa[r]:r).filter(r=>typeof r=="object").map(r=>({from:_2(r.from),to:b2(r.to)}))}function v2(i){const e=new Set;for(const t of i)if(typeof t=="string"&&Ea[t])for(const n of Ea[t])e.add(n);else e.add(t);return Array.from(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ii(i,e,t,n){return n.createRange(Sa(i,e,t,!0,n),Sa(i,e,t,!1,n))}function Sa(i,e,t,n,s){let r=i.textNode||(n?i.nodeBefore:i.nodeAfter),o=null;for(;r&&r.getAttribute(e)==t;)o=r,r=n?r.previousSibling:r.nextSibling;return o?s.createPositionAt(o,n?"before":"after"):i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ah(i,e,t,n){const s=i.editing.view,r=new Set;s.document.registerPostFixer(o=>{const a=i.model.document.selection;let l=!1;if(a.hasAttribute(e)){const c=Ii(a.getFirstPosition(),e,a.getAttribute(e),i.model),h=i.editing.mapper.toViewRange(c);for(const u of h.getItems())u.is("element",t)&&!u.hasClass(n)&&(o.addClass(n,u),r.add(u),l=!0)}return l}),i.conversion.for("editingDowncast").add(o=>{o.on("insert",a,{priority:"highest"}),o.on("remove",a,{priority:"highest"}),o.on("attribute",a,{priority:"highest"}),o.on("selection",a,{priority:"highest"});function a(){s.change(l=>{for(const c of r.values())l.removeClass(n,c),r.delete(c)})}})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function*Mh(i,e){for(const t of e)t&&i.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class k2 extends xe{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,s=t.schema,r=n.isCollapsed,o=n.getFirstRange(),a=o.start.parent,l=o.end.parent;if(s.isLimit(a)||s.isLimit(l))return!r&&a==l&&t.deleteContent(n),!1;if(r){const c=Mh(e.model.schema,n.getAttributes());return Aa(e,o.start),e.setSelectionAttribute(c),!0}else{const c=!(o.start.isAtStart&&o.end.isAtEnd),h=a==l;if(t.deleteContent(n,{leaveUnmerged:c}),c){if(h)return Aa(e,n.focus),!0;e.setSelection(l,0)}}return!1}}function Aa(i,e){i.split(e),i.setSelection(e.parent.nextSibling,0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const C2={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Fh extends nt{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(s,r)=>{n=r.shiftKey}),t.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;let o=r.inputType;A.isSafari&&n&&o=="insertParagraph"&&(o="insertLineBreak");const a=r.domEvent,l=C2[o];if(!l)return;const c=new sn(t,"enter",r.targetRanges[0]);t.fire(c,new Yt(e,a,{isSoft:l.isSoft})),c.stop.called&&s.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bi extends C{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document;t.addObserver(Fh),e.commands.add("enter",new k2(e)),this.listenTo(n,"enter",(s,r)=>{n.isComposing||r.preventDefault(),!r.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class T2 extends xe{execute(){const e=this.editor.model,t=e.document;e.change(n=>{E2(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=P2(e.schema,t.selection)}}function P2(i,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!i.checkChild(t,"softBreak"))return!1;const n=e.getFirstRange(),s=n.start.parent,r=n.end.parent;return!((Hs(s,i)||Hs(r,i))&&s!==r)}function E2(i,e,t){const n=t.isCollapsed,s=t.getFirstRange(),r=s.start.parent,o=s.end.parent,a=r==o;if(n){const l=Mh(i.schema,t.getAttributes());Ma(i,e,s.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(l)}else{const l=!(s.start.isAtStart&&s.end.isAtEnd);i.deleteContent(t,{leaveUnmerged:l}),a?Ma(i,e,t.focus):l&&e.setSelection(o,0)}}function Ma(i,e,t){const n=e.createElement("softBreak");i.insertContent(n,t),e.setSelection(n,"after")}function Hs(i,e){return i.is("rootElement")?!1:e.isLimit(i)||Hs(i.parent,e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rh extends C{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,s=e.editing.view,r=s.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(o,{writer:a})=>a.createEmptyElement("br")}),s.addObserver(Fh),e.commands.add("shiftEnter",new T2(e)),this.listenTo(r,"enter",(o,a)=>{r.isComposing||a.preventDefault(),a.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class j5 extends N(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,s=n[0];this._insertDescriptor(e);const r=n[0];s!==r&&!ns(s,r)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:r,writer:t})}remove(e,t){const n=this._stack,s=n[0];this._removeDescriptor(e);const r=n[0];s!==r&&!ns(s,r)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:r,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(r=>r.id===e.id);if(ns(e,t[n]))return;n>-1&&t.splice(n,1);let s=0;for(;t[s]&&S2(t[s],e);)s++;t.splice(s,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(s=>s.id===e);n>-1&&t.splice(n,1)}}function ns(i,e){return i&&e&&i.priority==e.priority&&Ci(i.classes)==Ci(e.classes)}function S2(i,e){return i.priority>e.priority?!0:i.priority<e.priority?!1:Ci(i.classes)>Ci(e.classes)}function Ci(i){return Array.isArray(i)?i.sort().join(","):i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Fa="ck-widget_selected";function oe(i){return i.is("element")?!!i.getCustomProperty("widget"):!1}function A2(i){return i.getCustomProperty("widgetLabel").reduce((t,n)=>typeof n=="function"?t?t+". "+n():n():t?t+". "+n:n,"")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const qe="widget-type-around";function wt(i,e,t){return!!i&&oe(i)&&!t.isInline(e)}function M2(i){return i.closest(".ck-widget__type-around__button")}function F2(i){return i.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function R2(i,e){const t=i.closest(".ck-widget");return e.mapDomToView(t)}function _t(i){return i.getAttribute(qe)}const O2='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Oh=["before","after"],I2=new DOMParser().parseFromString(O2,"image/svg+xml").firstChild,Ra="ck-widget__type-around_disabled";class B2 extends C{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Bi,jn]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,s,r)=>{t.change(o=>{for(const a of t.document.roots)r?o.removeClass(Ra,a):o.addClass(Ra,a)}),r||e.model.change(o=>{o.removeSelectionAttribute(qe)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,s=n.editing.view,r=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:r}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,t,n,s){this.listenTo(e,t,(...r)=>{this.isEnabled&&n(...r)},s)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,s=_t(n);if(!s)return!1;const r=n.getSelectedElement();return this._insertParagraph(r,s),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,s={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(r,o,a)=>{const l=a.mapper.toViewElement(o.item);l&&wt(l,o.item,t)&&(D2(a.writer,s,l),l.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,s=t.schema,r=e.editing.view;this._listenToIfEnabled(r.document,"arrowKey",(a,l)=>{this._handleArrowKeyPress(a,l)},{context:[oe,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(a,l)=>{l.directChange&&e.model.change(c=>{c.removeSelectionAttribute(qe)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const a=n.getSelectedElement();if(a){const l=e.editing.mapper.toViewElement(a);if(wt(l,a,s))return}e.model.change(l=>{l.removeSelectionAttribute(qe)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(a,l,c)=>{const h=c.writer;if(this._currentFakeCaretModelElement){const w=c.mapper.toViewElement(this._currentFakeCaretModelElement);w&&(h.removeClass(Oh.map(o),w),this._currentFakeCaretModelElement=null)}const u=l.selection.getSelectedElement();if(!u)return;const f=c.mapper.toViewElement(u);if(!wt(f,u,s))return;const g=_t(l.selection);g&&(h.addClass(o(g),f),this._currentFakeCaretModelElement=u)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(a,l,c)=>{c||e.model.change(h=>{h.removeSelectionAttribute(qe)})});function o(a){return`ck-widget_type-around_show-fake-caret_${a}`}}_handleArrowKeyPress(e,t){const n=this.editor,s=n.model,r=s.document.selection,o=s.schema,a=n.editing.view,l=t.keyCode,c=fp(l,n.locale.contentLanguageDirection),h=a.document.selection.getSelectedElement(),u=n.editing.mapper.toModelElement(h);let f;wt(h,u,o)?f=this._handleArrowKeyPressOnSelectedWidget(c):r.isCollapsed?f=this._handleArrowKeyPressWhenSelectionNextToAWidget(c):t.shiftKey||(f=this._handleArrowKeyPressWhenNonCollapsedSelection(c)),f&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const n=this.editor.model,s=n.document.selection,r=_t(s);return n.change(o=>{if(r){if(!(r===(e?"after":"before")))return o.removeSelectionAttribute(qe),!0}else return o.setSelectionAttribute(qe,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,s=n.schema,r=t.plugins.get("Widget"),o=r._getObjectElementNextToSelection(e),a=t.editing.mapper.toViewElement(o);return wt(a,o,s)?(n.change(l=>{r._setSelectionOverElement(o),l.setSelectionAttribute(qe,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,s=n.schema,r=t.editing.mapper,o=n.document.selection,a=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter,l=r.toViewElement(a);return wt(l,a,s)?(n.change(c=>{c.setSelection(a,"on"),c.setSelectionAttribute(qe,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,s)=>{const r=M2(s.domTarget);if(!r)return;const o=F2(r),a=R2(r,t.domConverter),l=e.editing.mapper.toModelElement(a);this._insertParagraph(l,o),s.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(s,r)=>{if(s.eventPhase!="atTarget")return;const o=t.getSelectedElement(),a=e.editing.mapper.toViewElement(o),l=e.model.schema;let c;this._insertParagraphAccordingToFakeCaretPosition()?c=!0:wt(a,o,l)&&(this._insertParagraph(o,r.isSoft?"before":"after"),c=!0),c&&(r.preventDefault(),s.stop())},{context:oe})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(n,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=t.selection)},{priority:"high"}),A.isAndroid?this._listenToIfEnabled(t,"keydown",(n,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,s=n.schema;this._listenToIfEnabled(t.document,"delete",(r,o)=>{if(r.eventPhase!="atTarget")return;const a=_t(n.document.selection);if(!a)return;const l=o.direction,c=n.document.selection.getSelectedElement(),h=a==="before",u=l=="forward";if(h===u)e.execute("delete",{selection:n.createSelection(c,"on")});else{const g=s.getNearestSelectionRange(n.createPositionAt(c,a),l);if(g)if(!g.isCollapsed)n.change(w=>{w.setSelection(g),e.execute(u?"deleteForward":"delete")});else{const w=n.createSelection(g.start);if(n.modifySelection(w,{direction:l}),!w.focus.isEqual(g.start))n.change(b=>{b.setSelection(g),e.execute(u?"deleteForward":"delete")});else{const b=L2(s,g.start.parent);n.deleteContent(n.createSelection(b,"on"),{doNotAutoparagraph:!0})}}}o.preventDefault(),r.stop()},{context:oe})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[r,o])=>{if(o&&!o.is("documentSelection"))return;const a=_t(n);if(a)return s.stop(),t.change(l=>{const c=n.getSelectedElement(),h=t.createPositionAt(c,a),u=l.createSelection(h),f=t.insertContent(r,u);return l.setSelection(u),f})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,r)=>{const[,o,a={}]=r;if(o&&!o.is("documentSelection"))return;const l=_t(n);l&&(a.findOptimalPosition=l,r[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[r])=>{if(r&&!r.is("documentSelection"))return;_t(n)&&s.stop()},{priority:"high"})}}function D2(i,e,t){const n=i.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(s){const r=this.toDomElement(s);return V2(r,e),N2(r),r});i.insert(i.createPositionAt(t,"end"),n)}function V2(i,e){for(const t of Oh){const n=new Be({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[i.ownerDocument.importNode(I2,!0)]});i.appendChild(n.render())}}function N2(i){const e=new Be({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});i.appendChild(e.render())}function L2(i,e){let t=e;for(const n of e.getAncestors({parentFirst:!0})){if(n.childCount>1||i.isLimit(n))break;t=n}return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function W2(i){const e=i.model;return(t,n)=>{const s=n.keyCode==R.arrowup,r=n.keyCode==R.arrowdown,o=n.shiftKey,a=e.document.selection;if(!s&&!r)return;const l=r;if(o&&z2(a,l))return;const c=H2(i,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(o)return}(c.isCollapsed||$2(i,c,l))&&(e.change(h=>{const u=l?c.end:c.start;if(o){const f=e.createSelection(a.anchor);f.setFocus(u),h.setSelection(f)}else h.setSelection(u)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function H2(i,e,t){const n=i.model;if(t){const s=e.isCollapsed?e.focus:e.getLastPosition(),r=Oa(n,s,"forward");if(!r)return null;const o=n.createRange(s,r),a=Ia(n.schema,o,"backward");return a?n.createRange(s,a):null}else{const s=e.isCollapsed?e.focus:e.getFirstPosition(),r=Oa(n,s,"backward");if(!r)return null;const o=n.createRange(r,s),a=Ia(n.schema,o,"forward");return a?n.createRange(a,s):null}}function Oa(i,e,t){const n=i.schema,s=i.createRangeIn(e.root),r=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:a,type:l}of s.getWalker({startPosition:e,direction:t})){if(n.isLimit(a)&&!n.isInline(a))return o;if(l==r&&n.isBlock(a))return null}return null}function Ia(i,e,t){const n=t=="backward"?e.end:e.start;if(i.checkChild(n,"$text"))return n;for(const{nextPosition:s}of e.getWalker({direction:t}))if(i.checkChild(s,"$text"))return s;return null}function $2(i,e,t){const n=i.model,s=i.view.domConverter;if(t){const c=n.createSelection(e.start);n.modifySelection(c),!c.focus.isAtEnd&&!e.start.isEqual(c.focus)&&(e=n.createRange(c.focus,e.end))}const r=i.mapper.toViewRange(e),o=s.viewRangeToDom(r),a=F.getDomRangeRects(o);let l;for(const c of a){if(l===void 0){l=Math.round(c.bottom);continue}if(Math.round(c.top)>=l)return!1;l=Math.max(l,Math.round(c.bottom))}return!0}function z2(i,e){return!i.isCollapsed&&i.isBackward==e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class U2 extends C{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[B2,jn]}init(){const e=this.editor,t=e.editing.view,n=t.document;this.editor.editing.downcastDispatcher.on("selection",(s,r,o)=>{const a=o.writer,l=r.selection;if(l.isCollapsed)return;const c=l.getSelectedElement();if(!c)return;const h=e.editing.mapper.toViewElement(c);oe(h)&&o.consumable.consume(l,"selection")&&a.setSelection(a.createRangeOn(h),{fake:!0,label:A2(h)})}),this.editor.editing.downcastDispatcher.on("selection",(s,r,o)=>{this._clearPreviouslySelectedWidgets(o.writer);const a=o.writer,l=a.document.selection;let c=null;for(const h of l.getRanges())for(const u of h){const f=u.item;oe(f)&&!G2(f,c)&&(a.addClass(Fa,f),this._previouslySelected.add(f),c=f)}},{priority:"low"}),t.addObserver(kr),this.listenTo(n,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(n,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[oe,"$text"]}),this.listenTo(n,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(n,"arrowKey",W2(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(s,r)=>{this._handleDelete(r.direction=="forward")&&(r.preventDefault(),s.stop())},{context:"$root"})}_onMousedown(e,t){const n=this.editor,s=n.editing.view,r=s.document;let o=t.target;if(t.domEvent.detail>=3){this._selectBlockContent(o)&&t.preventDefault();return}if(q2(o)||!oe(o)&&(o=o.findAncestor(oe),!o))return;A.isAndroid&&t.preventDefault(),r.isFocused||s.focus();const a=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(a)}_selectBlockContent(e){const t=this.editor,n=t.model,s=t.editing.mapper,r=n.schema,o=s.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),a=j2(s.toModelElement(o),n.schema);return a?(n.change(l=>{const c=r.isLimit(a)?null:K2(l.createPositionAfter(a),r),h=l.createPositionAt(a,0),u=c?l.createPositionAt(c,0):l.createPositionAt(a,"end");l.setSelection(l.createRange(h,u))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,s=this.editor.model,r=s.schema,o=s.document.selection,a=o.getSelectedElement(),l=ic(n,this.editor.locale.contentLanguageDirection),c=l=="down"||l=="right",h=l=="up"||l=="down";if(a&&r.isObject(a)){const f=c?o.getLastPosition():o.getFirstPosition(),g=r.getNearestSelectionRange(f,c?"forward":"backward");g&&(s.change(w=>{w.setSelection(g)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed&&!t.shiftKey){const f=o.getFirstPosition(),g=o.getLastPosition(),w=f.nodeAfter,b=g.nodeBefore;(w&&r.isObject(w)||b&&r.isObject(b))&&(s.change(T=>{T.setSelection(c?g:f)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed)return;const u=this._getObjectElementNextToSelection(c);if(u&&r.isObject(u)){if(r.isInline(u)&&h)return;this._setSelectionOverElement(u),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,s=n.schema,r=n.document.selection.getSelectedElement();r&&s.isObject(r)&&(t.preventDefault(),e.stop())}_handleDelete(e){const n=this.editor.model.document.selection;if(!this.editor.model.canEditAt(n)||!n.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);if(s)return this.editor.model.change(r=>{let o=n.anchor.parent;for(;o.isEmpty;){const a=o;o=a.parent,r.remove(a)}this._setSelectionOverElement(s)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,s=t.document.selection,r=t.createSelection(s);if(t.modifySelection(r,{direction:e?"forward":"backward"}),r.isEqual(s))return null;const o=e?r.focus.nodeBefore:r.focus.nodeAfter;return o&&n.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(Fa,t);this._previouslySelected.clear()}}function q2(i){let e=i;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(oe(e))return!1;e=e.parent}return!1}function G2(i,e){return e?Array.from(i.getAncestors()).includes(e):!1}function j2(i,e){for(const t of i.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(t,"$text"))return t;if(e.isLimit(t)&&!e.isObject(t))break}return null}function K2(i,e){const t=new je({startPosition:i});for(const{item:n}of t){if(e.isLimit(n)||!n.is("element"))return null;if(e.checkChild(n,"$text"))return n}return null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore file -- @preserve */const is=nn("px");class Z2 extends S{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>is(t)),top:e.to("top",t=>is(t)),width:e.to("width",t=>is(t))}}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ii extends C{constructor(){super(...arguments),this.removeDropMarkerDelayed=cr(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=mi(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=mi(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new Z2,this._domEmitter=new(Fe()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,s,r,o){this.removeDropMarkerDelayed.cancel();const a=Ba(this.editor,e,t,n,s,r,o);/* istanbul ignore next -- @preserve */if(a){if(o&&o.containsRange(a))return this.removeDropMarker();this._updateDropMarkerThrottled(a)}}getFinalDropRange(e,t,n,s,r,o){const a=Ba(this.editor,e,t,n,s,r,o);return this.removeDropMarker(),a}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(s=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const n=this.toDomElement(t);return n.append("⁠",t.createElement("span"),"⁠"),n})}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,s=e.start.nodeAfter,r=e.start.parent,o=n?t.mapper.toViewElement(n):null,a=o?t.view.domConverter.mapViewToDom(o):null,l=s?t.mapper.toViewElement(s):null,c=l?t.view.domConverter.mapViewToDom(l):null,h=t.mapper.toViewElement(r);if(!h)return;const u=t.view.domConverter.mapViewToDom(h),f=this._getScrollableRect(h),{scrollX:g,scrollY:w}=y.window,b=a?new F(a):null,T=c?new F(c):null,P=new F(u).excludeScrollbarsAndBorders(),j=b?b.bottom:P.top,X=T?T.top:P.bottom,ee=y.window.getComputedStyle(u),se=j<=X?(j+X)/2:X;if(f.top<se&&se<f.bottom){const v=P.left+parseFloat(ee.paddingLeft),E=P.right-parseFloat(ee.paddingRight),k=Math.max(v+g,f.left),H=Math.min(E+g,f.right);this._dropTargetLineView.set({isVisible:!0,left:k,top:se+w,width:H-k})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{const s=this.editor.editing.view.domConverter.mapViewToDom(e);n=X2(s),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const r=new W(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:r})}return new F(n).excludeScrollbarsAndBorders()}}function Ba(i,e,t,n,s,r,o){const a=i.model,l=i.editing.mapper;let h=Da(i,e);for(;h;){if(!r){if(a.schema.checkChild(h,"$text")){if(t){const u=t[0].start,f=l.toModelPosition(u);if(!o||Array.from(o.getItems()).every(w=>a.schema.checkChild(f,w))){if(a.schema.checkChild(f,"$text"))return a.createRange(f);if(u)return si(i,Da(i,u.parent),n,s)}}}else if(a.schema.isInline(h))return si(i,h,n,s)}if(a.schema.isBlock(h))return si(i,h,n,s);if(a.schema.checkChild(h,"$block")){const u=Array.from(h.getChildren()).filter(w=>w.is("element")&&!J2(i,w));let f=0,g=u.length;if(g==0)return a.createRange(a.createPositionAt(h,"end"));for(;f<g-1;){const w=Math.floor((f+g)/2);Ih(i,u[w],n,s)=="before"?g=w:f=w}return si(i,u[f],n,s)}h=h.parent}return null}function J2(i,e){const t=i.editing.mapper,n=i.editing.view.domConverter,s=t.toViewElement(e);if(!s)return!0;const r=n.mapViewToDom(s);return y.window.getComputedStyle(r).float!="none"}function si(i,e,t,n){const s=i.model;return s.createRange(s.createPositionAt(e,Ih(i,e,t,n)))}function Ih(i,e,t,n){const s=i.editing.mapper,r=i.editing.view.domConverter,o=s.toViewElement(e),a=r.mapViewToDom(o),l=new F(a);return i.model.schema.isInline(e)?t<(l.left+l.right)/2?"before":"after":n<(l.top+l.bottom)/2?"before":"after"}function Da(i,e){const t=i.editing.mapper,n=i.editing.view,s=t.toModelElement(e);if(s)return s;const r=n.createPositionBefore(e),o=t.findMappedViewAncestor(r);return t.toModelElement(o)}function X2(i){let e=i;do{e=e.parentElement;const t=y.window.getComputedStyle(e).overflowY;if(t=="auto"||t=="scroll")break}while(e.tagName!="BODY");return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Y2 extends C{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Fe())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,n,s)=>{s?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),A.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const n=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(n,"dragstart",(s,r)=>this._handleBlockDragStart(r)),this._domEmitter.listenTo(y.document,"dragover",(s,r)=>this._handleBlockDragging(r)),this._domEmitter.listenTo(y.document,"drop",(s,r)=>this._handleBlockDragging(r)),this._domEmitter.listenTo(y.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&n.setAttribute("draggable","true"),this.on("change:isEnabled",(s,r,o)=>{n.setAttribute("draggable",o?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,s=this.editor.editing.view,r=Array.from(n.getSelectedBlocks()),o=t.createRange(t.createPositionBefore(r[0]),t.createPositionAfter(r[r.length-1]));t.change(a=>a.setSelection(o)),this._isBlockDragging=!0,s.focus(),s.getObserver(zn).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),n=e.clientY,s=document.elementFromPoint(t,n),r=this.editor.editing.view;!s||!s.closest(".ck-editor__editable")||r.getObserver(zn).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:s,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Q2 extends C{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=cr(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Fe())}static get pluginName(){return"DragDrop"}static get requires(){return[Qt,U2,ii,Y2]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(zn),t.addObserver(kr),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,s,r)=>{r?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,s,r)=>{r||this._finalizeDragging(!1)}),A.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document,r=e.plugins.get(ii);this.listenTo(s,"dragstart",(o,a)=>{if(a.target&&a.target.is("editableElement")){a.preventDefault();return}if(this._prepareDraggedRange(a.target),!this._draggedRange){a.preventDefault();return}this._draggingUid=Je(),a.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const l=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(a.dataTransfer,l,"dragstart");const{dataTransfer:h,domTarget:u,domEvent:f}=a,{clientX:g}=f;this._updatePreview({dataTransfer:h,domTarget:u,clientX:g}),a.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(o,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(y.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&n.focus()}),this.listenTo(s,"dragleave",()=>{r.removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(o,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}const{clientX:l,clientY:c}=a.domEvent;r.updateDropMarker(a.target,a.targetRanges,l,c,this._blockMode,this._draggedRange),this._draggedRange||(a.dataTransfer.dropEffect="copy"),A.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move")),o.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,n=e.editing.view.document,s=e.plugins.get(ii);this.listenTo(n,"clipboardInput",(r,o)=>{if(o.method!="drop")return;const{clientX:a,clientY:l}=o.domEvent,c=s.getFinalDropRange(o.target,o.targetRanges,a,l,this._blockMode,this._draggedRange);if(!c){this._finalizeDragging(!1),r.stop();return}if(this._draggedRange&&this._draggingUid!=o.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),Va(o.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(c,!0)){this._finalizeDragging(!1),r.stop();return}o.targetRanges=[e.editing.mapper.toViewRange(c)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Qt);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const s=n.targetRanges.map(r=>this.editor.editing.mapper.toModelRange(r));this.editor.model.change(r=>r.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const s=Va(n.dataTransfer)=="move",r=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(r&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(s,r)=>{if(A.isAndroid||!r)return;this._clearDraggableAttributesDelayed.cancel();let o=Na(r.target);if(A.isBlink&&!e.isReadOnly&&!o&&!n.selection.isCollapsed){const a=n.selection.getSelectedElement();(!a||!oe(a))&&(o=n.selection.editableElement)}o&&(t.change(a=>{a.setAttribute("draggable","true",o)}),this._draggableElement=e.editing.mapper.toModelElement(o))}),this.listenTo(n,"mouseup",()=>{A.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(ii).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change(r=>{const o=n.createSelection(this._draggedRange);n.deleteContent(o,{doNotAutoparagraph:!0});const a=o.getFirstPosition().parent;a.isEmpty&&!n.schema.checkChild(a,"$text")&&n.schema.checkChild(a,"paragraph")&&r.insertElement("paragraph",a,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,s=n.document.selection,r=e?Na(e):null;if(r){const c=t.editing.mapper.toModelElement(r);this._draggedRange=Se.fromRange(n.createRangeOn(c)),this._blockMode=n.schema.isBlock(c),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(s.isCollapsed&&!s.getFirstPosition().parent.isEmpty)return;const o=Array.from(s.getSelectedBlocks()),a=s.getFirstRange();if(o.length==0){this._draggedRange=Se.fromRange(a);return}const l=Bh(n,o);if(o.length>1)this._draggedRange=Se.fromRange(l),this._blockMode=!0;else if(o.length==1){const c=a.start.isTouching(l.start)&&a.end.isTouching(l.end);this._draggedRange=Se.fromRange(c?l:a),this._blockMode=c}n.change(c=>c.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:n}){const s=this.editor.editing.view,r=s.document.selection.editableElement,o=s.domConverter.mapViewToDom(r),a=y.window.getComputedStyle(o);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Fn(y.document,"div",{style:"position: fixed; left: -999999px;"}),y.document.body.appendChild(this._previewContainer));const l=new F(o);if(o.contains(t))return;const c=parseFloat(a.paddingLeft),h=Fn(y.document,"div");h.className="ck ck-content",h.style.width=a.width,h.style.paddingLeft=`${l.left-n+c}px`,A.isiOS&&(h.style.backgroundColor="white"),h.innerHTML=e.getData("text/html"),e.setDragImage(h,0,0),this._previewContainer.appendChild(h)}}function Va(i){return A.isGecko?i.dropEffect:["all","copyMove"].includes(i.effectAllowed)?"move":"copy"}function Na(i){if(i.is("editableElement"))return null;if(i.hasClass("ck-widget__selection-handle"))return i.findAncestor(oe);if(oe(i))return i;const e=i.findAncestor(t=>oe(t)||t.is("editableElement"));return oe(e)?e:null}function Bh(i,e){const t=e[0],n=e[e.length-1],s=t.getCommonAncestor(n),r=i.createPositionBefore(t),o=i.createPositionAfter(n);if(s&&s.is("element")&&!i.schema.isLimit(s)){const a=i.createRangeOn(s),l=r.isTouching(a.start),c=o.isTouching(a.end);if(l&&c)return Bh(i,[s])}return i.createRange(r,o)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ev extends C{static get pluginName(){return"PastePlainText"}static get requires(){return[Qt]}init(){const e=this.editor,t=e.model,n=e.editing.view,s=n.document,r=t.document.selection;let o=!1;n.addObserver(zn),this.listenTo(s,"keydown",(a,l)=>{o=l.shiftKey}),e.plugins.get(Qt).on("contentInsertion",(a,l)=>{!o&&!tv(l.content,t.schema)||t.change(c=>{const h=Array.from(r.getAttributes()).filter(([f])=>t.schema.getAttributeProperties(f).isFormatting);r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0}),h.push(...r.getAttributes());const u=c.createRangeIn(l.content);for(const f of u.getItems())f.is("$textProxy")&&c.setAttributes(h,f)})})}}function tv(i,e){if(i.childCount>1)return!1;const t=i.getChild(0);return e.isObject(t)?!1:Array.from(t.getAttributeKeys()).length==0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nv extends C{static get pluginName(){return"Clipboard"}static get requires(){return[Qt,Q2,ev]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iv extends xe{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!La(e.schema,n))do if(n=n.parent,!n)return;while(!La(e.schema,n));e.change(s=>{s.setSelection(n,"in")})}}function La(i,e){return i.isLimit(e)&&(i.checkChild(e,"$text")||i.checkChild(e,"paragraph"))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const sv=lr("Ctrl+A");class rv extends C{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,n=e.editing.view.document;e.commands.add("selectAll",new iv(e)),this.listenTo(n,"keydown",(s,r)=>{Zt(r)===sv&&(e.execute("selectAll"),r.preventDefault())})}}const ov='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class av extends C{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const n=e.commands.get("selectAll"),s=new z(t),r=t.t;return s.set({label:r("Select all"),icon:ov,keystroke:"Ctrl+A",tooltip:!0}),s.bind("isEnabled").to(n,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),s})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lv extends C{static get requires(){return[rv,av]}static get pluginName(){return"SelectAll"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dh extends xe{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,n)=>{n[1]={...n[1]};const s=n[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const s=this.editor.model,r=s.document,o=[],a=e.map(c=>c.getTransformedByOperations(n)),l=a.flat();for(const c of a){const h=c.filter(u=>u.root!=r.graveyard).filter(u=>!hv(u,l));h.length&&(cv(h),o.push(h[0]))}o.length&&s.change(c=>{c.setSelection(o,{backward:t})})}_undo(e,t){const n=this.editor.model,s=n.document;this._createdBatches.add(t);const r=e.operations.slice().filter(o=>o.isDocumentOperation);r.reverse();for(const o of r){const a=o.baseVersion+1,l=Array.from(s.history.getOperations(a)),h=eb([o.getReversed()],l,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let u of h){const f=u.affectedSelectable;f&&!n.canEditAt(f)&&(u=new Q(u.baseVersion)),t.addOperation(u),n.applyOperation(u),s.history.setOperationAsUndone(o,u)}}}}function cv(i){i.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<i.length;e++){const n=i[e-1].getJoined(i[e],!0);n&&(e--,i.splice(e,2,n))}}function hv(i,e){return e.some(t=>t!==i&&t.containsRange(i,!0))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uv extends Dh{execute(e=null){const t=e?this._stack.findIndex(r=>r.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(n.batch,s);const r=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,r)}),this.fire("revert",n.batch,s),this.refresh()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dv extends Dh{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,r),this._undo(e.batch,t)}),this.refresh()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fv extends C{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new uv(e),this._redoCommand=new dv(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,n)=>{const s=n[0];if(!s.isDocumentOperation)return;const r=s.batch,o=this._redoCommand.createdBatches.has(r),a=this._undoCommand.createdBatches.has(r);this._batchRegistry.has(r)||(this._batchRegistry.add(r),r.isUndoable&&(o?this._undoCommand.addBatch(r):a||(this._undoCommand.addBatch(r),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,n,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mv extends C{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,s=t.uiLanguageDirection=="ltr"?U.undo:U.redo,r=t.uiLanguageDirection=="ltr"?U.redo:U.undo;this._addButton("undo",n("Undo"),"CTRL+Z",s),this._addButton("redo",n("Redo"),"CTRL+Y",r)}_addButton(e,t,n,s){const r=this.editor;r.ui.componentFactory.add(e,o=>{const a=r.commands.get(e),l=new z(o);return l.set({label:t,icon:s,keystroke:n,tooltip:!0}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",()=>{r.execute(e),r.editing.view.focus()}),l})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gv extends C{static get requires(){return[fv,mv]}static get pluginName(){return"Undo"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pv extends C{static get requires(){return[nv,Bi,lv,Rh,g2,gv]}static get pluginName(){return"Essentials"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wv(i){const e=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],t=e.map(r=>r.name).join("|"),n=i.replace(new RegExp(`</?(${t})( .*?)?>`,"g"),`
$&
`).replace(/<br[^>]*>/g,`$&
`).split(`
`);let s=0;return n.filter(r=>r.length).map(r=>_v(r,e)?ss(r,s++):bv(r,e)?ss(r,--s):ss(r,s)).join(`
`)}function _v(i,e){return e.some(t=>!(t.isVoid||!new RegExp(`<${t.name}( .*?)?>`).test(i)))}function bv(i,e){return e.some(t=>new RegExp(`</${t.name}>`).test(i))}function ss(i,e,t="    "){return`${t.repeat(Math.max(0,e))}${i}`}const xv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Wa="SourceEditingMode";class yv extends C{static get pluginName(){return"SourceEditing"}static get requires(){return[ua]}constructor(e){super(e),this.set("isSourceEditingMode",!1),this._elementReplacer=new Ul,this._replacedRoots=new Map,this._dataFromRoots=new Map,e.config.define("sourceEditing.allowCollaborationFeatures",!1)}init(){this._checkCompatibility();const e=this.editor,t=e.t;e.ui.componentFactory.add("sourceEditing",n=>{const s=new z(n);return s.set({label:t("Source"),icon:xv,tooltip:!0,withText:!0,class:"ck-source-editing-button"}),s.bind("isOn").to(this,"isSourceEditingMode"),s.bind("isEnabled").to(this,"isEnabled",e,"isReadOnly",e.plugins.get(ua),"hasAny",(r,o,a)=>!(!r||o||a)),this.listenTo(s,"execute",()=>{this.isSourceEditingMode=!this.isSourceEditingMode}),s}),this._isAllowedToHandleSourceEditingMode()&&(this.on("change:isSourceEditingMode",(n,s,r)=>{r?(this._hideVisibleDialog(),this._showSourceEditing(),this._disableCommands()):(this._hideSourceEditing(),this._enableCommands())}),this.on("change:isEnabled",(n,s,r)=>this._handleReadOnlyMode(!r)),this.listenTo(e,"change:isReadOnly",(n,s,r)=>this._handleReadOnlyMode(r))),e.data.on("get",()=>{this.isSourceEditingMode&&this.updateEditorData()},{priority:"high"})}updateEditorData(){const e=this.editor,t={};for(const[n,s]of this._replacedRoots){const r=this._dataFromRoots.get(n),o=s.dataset.value;r!==o&&(t[n]=o,this._dataFromRoots.set(n,o))}Object.keys(t).length&&e.data.set(t,{batchType:{isUndoable:!0},suppressErrorInCollaboration:!0})}_checkCompatibility(){const e=this.editor,t=e.config.get("sourceEditing.allowCollaborationFeatures");if(!t&&e.plugins.has("RealTimeCollaborativeEditing"))throw new d("source-editing-incompatible-with-real-time-collaboration",null);!t&&["CommentsEditing","TrackChangesEditing","RevisionHistory"].some(s=>e.plugins.has(s))&&console.warn("You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features."),e.plugins.has("RestrictedEditingModeEditing")&&console.warn("You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.")}_showSourceEditing(){const e=this.editor,t=e.editing.view,n=e.model;n.change(s=>{s.setSelection(null),s.removeSelectionAttribute(n.document.selection.getAttributeKeys())});for(const[s,r]of t.domRoots){const o=vv(e.data.get({rootName:s})),a=Fn(r.ownerDocument,"textarea",{rows:"1","aria-label":"Source code editing area"}),l=Fn(r.ownerDocument,"div",{class:"ck-source-editing-area","data-value":o},[a]);a.value=o,a.setSelectionRange(0,0),a.addEventListener("input",()=>{l.dataset.value=a.value,e.ui.update()}),t.change(c=>{const h=t.document.getRoot(s);c.addClass("ck-hidden",h)}),e.ui.setEditableElement("sourceEditing:"+s,a),this._replacedRoots.set(s,l),this._elementReplacer.replace(r,l),this._dataFromRoots.set(s,o)}this._focusSourceEditing()}_hideSourceEditing(){const t=this.editor.editing.view;this.updateEditorData(),t.change(n=>{for(const[s]of this._replacedRoots)n.removeClass("ck-hidden",t.document.getRoot(s))}),this._elementReplacer.restore(),this._replacedRoots.clear(),this._dataFromRoots.clear(),t.focus()}_focusSourceEditing(){const e=this.editor,[t]=this._replacedRoots.values(),n=t.querySelector("textarea");e.editing.view.document.isFocused=!1,n.focus()}_disableCommands(){const e=this.editor;for(const t of e.commands.commands())t.forceDisabled(Wa)}_enableCommands(){const e=this.editor;for(const t of e.commands.commands())t.clearForceDisabled(Wa)}_handleReadOnlyMode(e){if(this.isSourceEditingMode)for(const[,t]of this._replacedRoots)t.querySelector("textarea").readOnly=e}_isAllowedToHandleSourceEditingMode(){const t=this.editor.ui.view.editable;return t&&!t.hasExternalElement}_hideVisibleDialog(){if(this.editor.plugins.has("Dialog")){const e=this.editor.plugins.get("Dialog");e.isOpen&&e.hide()}}}function vv(i){return kv(i)?wv(i):i}function kv(i){return i.startsWith("<")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rn extends xe{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,s=t.document.selection,r=e.forceValue===void 0?!this.value:e.forceValue;t.change(o=>{if(s.isCollapsed)r?o.setSelectionAttribute(this.attributeKey,!0):o.removeSelectionAttribute(this.attributeKey);else{const a=t.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const l of a)r?o.setAttribute(this.attributeKey,r,l):o.removeAttribute(this.attributeKey,l)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const s of n.getRanges())for(const r of s.getItems())if(t.checkAttribute(r,this.attributeKey))return r.hasAttribute(this.attributeKey);return!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Wt="bold";class Cv extends C{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Wt}),e.model.schema.setAttributeProperties(Wt,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Wt,view:"strong",upcastAlso:["b",t=>{const n=t.getStyle("font-weight");return n&&(n=="bold"||Number(n)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Wt,new rn(e,Wt)),e.keystrokes.set("CTRL+B",Wt)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const rs="bold";class Tv extends C{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(rs,n=>{const s=e.commands.get(rs),r=new z(n);return r.set({label:t("Bold"),icon:U.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute(rs),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pv extends C{static get requires(){return[Cv,Tv]}static get pluginName(){return"Bold"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const bt="code",Ev="ck-code_selected";class Sv extends C{static get pluginName(){return"CodeEditing"}static get requires(){return[ki]}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:bt}),e.model.schema.setAttributeProperties(bt,{isFormatting:!0,copyOnEnter:!1}),e.conversion.attributeToElement({model:bt,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),e.commands.add(bt,new rn(e,bt)),e.plugins.get(ki).registerAttribute(bt),Ah(e,bt,"code",Ev)}}const Av='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const os="code";class Mv extends C{static get pluginName(){return"CodeUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(os,n=>{const s=e.commands.get(os),r=new z(n);return r.set({label:t("Code"),icon:Av,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute(os),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fv extends C{static get requires(){return[Sv,Mv]}static get pluginName(){return"Code"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ht="italic";class Rv extends C{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Ht}),e.model.schema.setAttributeProperties(Ht,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Ht,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Ht,new rn(e,Ht)),e.keystrokes.set("CTRL+I",Ht)}}const Ov='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const as="italic";class Iv extends C{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(as,n=>{const s=e.commands.get(as),r=new z(n);return r.set({label:t("Italic"),icon:Ov,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute(as),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bv extends C{static get requires(){return[Rv,Iv]}static get pluginName(){return"Italic"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const mn="strikethrough";class Dv extends C{static get pluginName(){return"StrikethroughEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:mn}),e.model.schema.setAttributeProperties(mn,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:mn,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add(mn,new rn(e,mn)),e.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const Vv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ls="strikethrough";class Nv extends C{static get pluginName(){return"StrikethroughUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(ls,n=>{const s=e.commands.get(ls),r=new z(n);return r.set({label:t("Strikethrough"),icon:Vv,keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute(ls),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Lv extends C{static get requires(){return[Dv,Nv]}static get pluginName(){return"Strikethrough"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gn="subscript";class Wv extends C{static get pluginName(){return"SubscriptEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:gn}),e.model.schema.setAttributeProperties(gn,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:gn,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),e.commands.add(gn,new rn(e,gn))}}const Hv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const cs="subscript";class $v extends C{static get pluginName(){return"SubscriptUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(cs,n=>{const s=e.commands.get(cs),r=new z(n);return r.set({label:t("Subscript"),icon:Hv,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute(cs),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zv extends C{static get requires(){return[Wv,$v]}static get pluginName(){return"Subscript"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const pn="underline";class Uv extends C{static get pluginName(){return"UnderlineEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:pn}),e.model.schema.setAttributeProperties(pn,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:pn,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(pn,new rn(e,pn)),e.keystrokes.set("CTRL+U","underline")}}const qv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const hs="underline";class Gv extends C{static get pluginName(){return"UnderlineUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(hs,n=>{const s=e.commands.get(hs),r=new z(n);return r.set({label:t("Underline"),icon:qv,keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute(hs),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jv extends C{static get requires(){return[Uv,Gv]}static get pluginName(){return"Underline"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kv extends xe{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,s=t.document.selection,r=Array.from(s.getSelectedBlocks()),o=e.forceValue===void 0?!this.value:e.forceValue;t.change(a=>{if(!o)this._removeQuote(a,r.filter(ri));else{const l=r.filter(c=>ri(c)||$a(n,c));this._applyQuote(a,l)}})}_getValue(){const e=this.editor.model.document.selection,t=Ne(e.getSelectedBlocks());return!!(t&&ri(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Ne(e.getSelectedBlocks());return n?$a(t,n):!1}_removeQuote(e,t){Ha(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd){e.unwrap(n.start.parent);return}if(n.start.isAtStart){const r=e.createPositionBefore(n.start.parent);e.move(n,r);return}n.end.isAtEnd||e.split(n.end);const s=e.createPositionAfter(n.end.parent);e.move(n,s)})}_applyQuote(e,t){const n=[];Ha(e,t).reverse().forEach(s=>{let r=ri(s.start);r||(r=e.createElement("blockQuote"),e.wrap(s,r)),n.push(r)}),n.reverse().reduce((s,r)=>s.nextSibling==r?(e.merge(e.createPositionAfter(s)),s):r)}}function ri(i){return i.parent.name=="blockQuote"?i.parent:null}function Ha(i,e){let t,n=0;const s=[];for(;n<e.length;){const r=e[n],o=e[n+1];t||(t=i.createPositionBefore(r)),(!o||r.nextSibling!=o)&&(s.push(i.createRange(t,i.createPositionAfter(r))),t=null),n++}return s}function $a(i,e){const t=i.checkChild(e.parent,"blockQuote"),n=i.checkChild(["$root","blockQuote"],e);return t&&n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zv extends C{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Bi,jn]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Kv(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(o=>{const a=e.model.document.differ.getChanges();for(const l of a)if(l.type=="insert"){const c=l.position.nodeAfter;if(!c)continue;if(c.is("element","blockQuote")&&c.isEmpty)return o.remove(c),!0;if(c.is("element","blockQuote")&&!t.checkChild(l.position,c))return o.unwrap(c),!0;if(c.is("element")){const h=o.createRangeIn(c);for(const u of h.getItems())if(u.is("element","blockQuote")&&!t.checkChild(o.createPositionBefore(u),u))return o.unwrap(u),!0}}else if(l.type=="remove"){const c=l.position.parent;if(c.is("element","blockQuote")&&c.isEmpty)return o.remove(c),!0}return!1});const n=this.editor.editing.view.document,s=e.model.document.selection,r=e.commands.get("blockQuote");this.listenTo(n,"enter",(o,a)=>{if(!s.isCollapsed||!r.value)return;s.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(o,a)=>{if(a.direction!="backward"||!s.isCollapsed||!r.value)return;const l=s.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jv extends C{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",n=>{const s=e.commands.get("blockQuote"),r=new z(n);return r.set({label:t("Block quote"),icon:U.quote,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),r})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xv extends C{static get requires(){return[Zv,Jv]}static get pluginName(){return"BlockQuote"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yv{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,s)=>{if(!s.consumable.test(n.item,"attribute:linkHref")||!(n.item.is("selection")||s.schema.isInline(n.item)))return;const r=s.writer,o=r.document.selection;for(const a of this._definitions){const l=r.createAttributeElement("a",a.attributes,{priority:5});a.classes&&r.addClass(a.classes,l);for(const c in a.styles)r.setStyle(c,a.styles[c],l);r.setCustomProperty("link",!0,l),a.callback(n.attributeNewValue)?n.item.is("selection")?r.wrap(o.getFirstRange(),l):r.wrap(s.mapper.toViewRange(n.range),l):r.unwrap(s.mapper.toViewRange(n.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:s,mapper:r})=>{const o=r.toViewElement(n.item),a=Array.from(o.getChildren()).find(l=>l.is("element","a"));for(const l of this._definitions){const c=Xe(l.attributes);if(l.callback(n.attributeNewValue)){for(const[h,u]of c)h==="class"?s.addClass(u,a):s.setAttribute(h,u,a);l.classes&&s.addClass(l.classes,a);for(const h in l.styles)s.setStyle(h,l.styles[h],a)}else{for(const[h,u]of c)h==="class"?s.removeClass(u,a):s.removeAttribute(h,a);l.classes&&s.removeClass(l.classes,a);for(const h in l.styles)s.removeStyle(h,a)}}})}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Qv=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,e5=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,t5=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,n5=/^((\w+:(\/{2,})?)|(\W))/i,us="Ctrl+K";function i5(i){return i.is("attributeElement")&&!!i.getCustomProperty("link")}function za(i,{writer:e}){const t=e.createAttributeElement("a",{href:i},{priority:5});return e.setCustomProperty("link",!0,t),t}function Vh(i){const e=String(i);return s5(e)?e:"#"}function s5(i){return!!i.replace(Qv,"").match(e5)}function r5(i,e){const t={"Open in a new tab":i("Open in a new tab"),Downloadable:i("Downloadable")};return e.forEach(n=>("label"in n&&t[n.label]&&(n.label=t[n.label]),n)),e}function o5(i){const e=[];if(i)for(const[t,n]of Object.entries(i)){const s=Object.assign({},n,{id:`link${mm(t)}`});e.push(s)}return e}function $s(i,e){return i?e.checkAttribute(i.name,"linkHref"):!1}function a5(i){return t5.test(i)}function Cr(i,e){const t=a5(i)?"mailto:":e,n=!!t&&!Nh(i);return i&&n?t+i:i}function Nh(i){return n5.test(i)}function Ua(i){window.open(i,"_blank","noopener")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class l5 extends xe{constructor(){super(...arguments),this.manualDecorators=new ht,this.automaticDecorators=new Yv}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||Ne(t.getSelectedBlocks());$s(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,t={}){const n=this.editor.model,s=n.document.selection,r=[],o=[];for(const a in t)t[a]?r.push(a):o.push(a);n.change(a=>{if(s.isCollapsed){const l=s.getFirstPosition();if(s.hasAttribute("linkHref")){const c=qa(s);let h=Ii(l,"linkHref",s.getAttribute("linkHref"),n);s.getAttribute("linkHref")===c&&(h=this._updateLinkContent(n,a,h,e)),a.setAttribute("linkHref",e,h),r.forEach(u=>{a.setAttribute(u,!0,h)}),o.forEach(u=>{a.removeAttribute(u,h)}),a.setSelection(a.createPositionAfter(h.end.nodeBefore))}else if(e!==""){const c=Xe(s.getAttributes());c.set("linkHref",e),r.forEach(u=>{c.set(u,!0)});const{end:h}=n.insertContent(a.createText(e,c),l);a.setSelection(h)}["linkHref",...r,...o].forEach(c=>{a.removeSelectionAttribute(c)})}else{const l=n.schema.getValidRanges(s.getRanges(),"linkHref"),c=[];for(const u of s.getSelectedBlocks())n.schema.checkAttribute(u,"linkHref")&&c.push(a.createRangeOn(u));const h=c.slice();for(const u of l)this._isRangeToUpdate(u,c)&&h.push(u);for(const u of h){let f=u;if(h.length===1){const g=qa(s);s.getAttribute("linkHref")===g&&(f=this._updateLinkContent(n,a,u,e),a.setSelection(a.createSelection(f)))}a.setAttribute("linkHref",e,f),r.forEach(g=>{a.setAttribute(g,!0,f)}),o.forEach(g=>{a.removeAttribute(g,f)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,s=n.getSelectedElement();return $s(s,t.schema)?s.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,s){const r=t.createText(s,{linkHref:s});return e.insertContent(r,n)}}function qa(i){if(i.isCollapsed){const e=i.getFirstPosition();return e.textNode&&e.textNode.data}else{const e=Array.from(i.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class c5 extends xe{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();$s(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,s=e.commands.get("link");t.change(r=>{const o=n.isCollapsed?[Ii(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const a of o)if(r.removeAttribute("linkHref",a),s)for(const l of s.manualDecorators)r.removeAttribute(l.id,a)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class h5 extends q(){constructor({id:e,label:t,attributes:n,classes:s,styles:r,defaultValue:o}){super(),this.id=e,this.set("value",void 0),this.defaultValue=o,this.label=t,this.attributes=n,this.classes=s,this.styles=r}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const u5="ck-link_selected",Ga="automatic",d5="manual",f5=/^(https?:)?\/\//;class Lh extends C{static get pluginName(){return"LinkEditing"}static get requires(){return[ki,Th,Qt]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:za}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,r)=>za(Vh(s),r)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),e.commands.add("link",new l5(e)),e.commands.add("unlink",new c5(e));const t=r5(e.t,o5(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(s=>s.mode===Ga)),this._enableManualDecorators(t.filter(s=>s.mode===d5)),e.plugins.get(ki).registerAttribute("linkHref"),Ah(e,"linkHref","a",u5),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,s=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:Ga,callback:r=>!!r&&f5.test(r),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&t.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,s=t.commands.get("link").manualDecorators;e.forEach(r=>{t.model.schema.extend("$text",{allowAttributes:r.id});const o=new h5(r);s.add(o),t.conversion.for("downcast").attributeToElement({model:o.id,view:(a,{writer:l,schema:c},{item:h})=>{if((h.is("selection")||c.isInline(h))&&a){const u=l.createAttributeElement("a",o.attributes,{priority:5});o.classes&&l.addClass(o.classes,u);for(const f in o.styles)l.setStyle(f,o.styles[f],u);return l.setCustomProperty("link",!0,u),u}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"click",(s,r)=>{if(!(A.isMac?r.domEvent.metaKey:r.domEvent.ctrlKey))return;let a=r.domTarget;if(a.tagName.toLowerCase()!="a"&&(a=a.closest("a")),!a)return;const l=a.getAttribute("href");l&&(s.stop(),r.preventDefault(),Ua(l))},{context:"$capture"}),this.listenTo(n,"keydown",(s,r)=>{const a=e.commands.get("link").value;a&&r.keyCode===R.enter&&r.altKey&&(s.stop(),Ua(a))})}_enableSelectionAttributesFixer(){const t=this.editor.model,n=t.document.selection;this.listenTo(n,"change:attribute",(s,{attributeKeys:r})=>{!r.includes("linkHref")||n.hasAttribute("linkHref")||t.change(o=>{m5(o,g5(t.schema))})})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(s,r)=>{t.change(o=>{const a=o.createRangeIn(r.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const c=Cr(l.getAttribute("linkHref"),n);o.setAttribute("linkHref",c,l)}})})}}function m5(i,e){i.removeSelectionAttribute("linkHref");for(const t of e)i.removeSelectionAttribute(t)}function g5(i){return i.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class p5 extends S{constructor(e,t){super(e),this.focusTracker=new be,this.keystrokes=new We,this._focusables=new Le;const n=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),U.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),U.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new tt({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),Za({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new gc(this.locale,gh);return t.label=e("Link URL"),t}_createButton(e,t,n,s){const r=new z(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),s&&r.delegate("execute").to(this,s),r}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const s=new hc(this.locale);s.set({name:n.id,label:n.label,withText:!0}),s.bind("isOn").toMany([n,e],"value",(r,o)=>o===void 0&&r===void 0?!!n.defaultValue:!!r),s.on("execute",()=>{n.set("value",!s.isOn)}),t.add(s)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new S;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}const w5='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _5 extends S{constructor(e){super(e),this.focusTracker=new be,this.keystrokes=new We,this._focusables=new Le;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),w5,"unlink"),this.editButtonView=this._createButton(t("Edit link"),U.pencil,"edit"),this.set("href",void 0),this._focusCycler=new tt({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const s=new z(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.delegate("execute").to(this,n),s}_createPreviewButton(){const e=new z(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",s=>s&&Vh(s)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",s=>s||n("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e.template.eventListeners={},e}}const b5='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Re="link-ui";class x5 extends C{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[vi]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(hh),this._balloon=e.plugins.get(vi),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Re,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Re,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new _5(e.locale),n=e.commands.get("link"),s=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(r,o)=>{this._hideUI(),o()}),t.keystrokes.set(us,(r,o)=>{this._addFormView(),o()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),s=e.config.get("link.allowCreatingEmptyLinks"),r=new(zh(p5))(e.locale,t);return r.urlInputView.fieldView.bind("value").to(t,"value"),r.urlInputView.bind("isEnabled").to(t,"isEnabled"),r.saveButtonView.bind("isEnabled").to(t,"isEnabled",r.urlInputView,"isEmpty",(o,a)=>o&&(s||!a)),this.listenTo(r,"submit",()=>{const{value:o}=r.urlInputView.fieldView.element,a=Cr(o,n);e.execute("link",a,r.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(r,"cancel",()=>{this._closeFormView()}),r.keystrokes.set("Esc",(o,a)=>{this._closeFormView(),a()}),r}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),n=e.t;e.ui.componentFactory.add("link",s=>{const r=new z(s);return r.isEnabled=!0,r.label=n("Link"),r.icon=b5,r.keystroke=us,r.tooltip=!0,r.isToggleable=!0,r.bind("isEnabled").to(t,"isEnabled"),r.bind("isOn").to(t,"value",o=>!!o),this.listenTo(r,"execute",()=>this._showUI(!0)),r})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(us,(n,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),zs({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=t.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),s=o();const r=()=>{const a=this._getSelectedLinkElement(),l=o();n&&!a||!n&&l!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=a,s=l};function o(){return t.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(e.ui,"update",r),this.listenTo(this._balloon,"change:visibleView",r)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let s;if(t.markers.has(Re)){const r=Array.from(this.editor.editing.mapper.markerNameToElements(Re)),o=e.createRange(e.createPositionBefore(r[0]),e.createPositionAfter(r[r.length-1]));s=e.domConverter.viewRangeToDom(o)}else s=()=>{const r=this._getSelectedLinkElement();return r?e.domConverter.mapViewToDom(r):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&oe(n))return ds(t.getFirstPosition());{const s=t.getFirstRange().getTrimmed(),r=ds(s.start),o=ds(s.end);return!r||r!=o?null:e.createRangeIn(r).getTrimmed().isEqual(s)?r:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(Re))t.updateMarker(Re,{range:n});else if(n.start.isAtEnd){const s=n.start.getLastMatchingPosition(({item:r})=>!e.schema.isContent(r),{boundaries:n});t.addMarker(Re,{usingOperation:!1,affectsData:!1,range:t.createRange(s,n.end)})}else t.addMarker(Re,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Re)&&e.change(t=>{t.removeMarker(Re)})}}function ds(i){return i.getAncestors().find(e=>i5(e))||null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const y5=4,Wh=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),v5=2;class Hh extends C{static get requires(){return[jn,Lh]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?Ii(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const s=this.editor.model,r=s.document.selection,o=r.getFirstPosition(),a=r.getLastPosition();let l=t.getJoined(this._expandLinkRange(s,o)||t);l&&(l=l.getJoined(this._expandLinkRange(s,a)||t)),l&&(l.start.isBefore(o)||l.end.isAfter(a))&&e.setSelection(l)}_enablePasteLinking(){const e=this.editor,t=e.model,n=t.document.selection,s=e.plugins.get("ClipboardPipeline"),r=e.commands.get("link");s.on("inputTransformation",(o,a)=>{if(!this.isEnabled||!r.isEnabled||n.isCollapsed||a.method!=="paste"||n.rangeCount>1)return;const l=n.getFirstRange(),c=a.dataTransfer.getData("text/plain");if(!c)return;const h=c.match(Wh);h&&h[2]===c&&(t.change(u=>{this._selectEntireLinks(u,l),r.execute(c)}),o.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new Sh(e.model,n=>{if(!k5(n))return;const s=ja(n.substr(0,n.length-1));if(s)return{url:s}});t.on("matched:data",(n,s)=>{const{batch:r,range:o,url:a}=s;if(!r.isTyping)return;const l=o.end.getShiftedBy(-1),c=l.getShiftedBy(-a.length),h=e.model.createRange(c,l);this._applyAutoLink(a,h)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const s=t.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const r=t.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(r)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const s=t.document.selection.getFirstPosition(),r=t.createRange(t.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(r)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:s}=Eh(e,t),r=ja(n);if(r){const o=t.createRange(s.end.getShiftedBy(-r.length),s.end);this._applyAutoLink(r,o)}}_applyAutoLink(e,t){const n=this.editor.model,s=this.editor.config.get("link.defaultProtocol"),r=Cr(e,s);!this.isEnabled||!C5(t,n)||!Nh(r)||T5(t)||this._persistAutoLink(r,t)}_persistAutoLink(e,t){const n=this.editor.model,s=this.editor.plugins.get("Delete");n.enqueueChange(r=>{r.setAttribute("linkHref",e,t),n.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function k5(i){return i.length>y5&&i[i.length-1]===" "&&i[i.length-2]!==" "}function ja(i){const e=Wh.exec(i);return e?e[v5]:null}function C5(i,e){return e.schema.checkAttributeInSelection(e.createSelection(i),"linkHref")}function T5(i){const e=i.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class P5 extends C{static get requires(){return[Lh,x5,Hh]}static get pluginName(){return"Link"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class E5 extends xe{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document,n=Ne(t.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph"),this.isEnabled=!!n&&Ka(n,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,s=e.selection||n.selection;t.canEditAt(s)&&t.change(r=>{const o=s.getSelectedBlocks();for(const a of o)!a.is("element","paragraph")&&Ka(a,t.schema)&&r.rename(a,"paragraph")})}}function Ka(i,e){return e.checkChild(i.parent,"paragraph")&&!e.isObject(i)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class S5 extends xe{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let s=e.position;t.canEditAt(s)&&t.change(r=>{if(s=this._findPositionToInsertParagraph(s,r),!s)return;const o=r.createElement("paragraph");n&&t.schema.setAllowedAttributes(o,n,r),t.insertContent(o,s),r.setSelection(o,"in")})}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const s=n.schema.findAllowedParent(e,"paragraph");if(!s)return null;const r=e.parent,o=n.schema.checkChild(r,"$text");return r.isEmpty||o&&e.isAtEnd?n.createPositionAfter(r):!r.isEmpty&&o&&e.isAtStart?n.createPositionBefore(r):t.split(e,s).position}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Di extends C{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new E5(e)),e.commands.add("insertParagraph",new S5(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:null}),e.conversion.for("upcast").elementToElement({model:(n,{writer:s})=>!Di.paragraphLikeElements.has(n.name)||n.isEmpty?null:s.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}Di.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th","textarea"]);const A5=`<svg width="128" height="128" style="enable-background:new 0 0 128 128;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
	<symbol id="Grid" viewBox="-64.5 -64.5 129 129">
		<g id="XMLID_102_">
			<rect id="XMLID_110_" height="128" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;" width="128" x="-64" y="-64"/>
			<path id="XMLID_109_" d="M36.95,37.82C27.32,46.32,14.2,51,0,51 c-14.27,0-27.39-4.62-36.96-13.01C-47.45,28.79-53,15.65-53,0c0-15.58,5.55-28.69,16.04-37.92C-27.36-46.35-14.24-51,0-51 c14.17,0,27.29,4.71,36.95,13.25C47.45-28.45,53-15.4,53,0C53,15.47,47.45,28.55,36.95,37.82z" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;"/>
			<path id="XMLID_108_" d="M0,55L0,55L0,55c-29.59,0-57-19.01-57-55 c0-35.8,27.41-55,57-55h0h0c29.59,0,57,19.69,57,55C57,35.51,29.59,55,0,55z" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;"/>
			<path id="XMLID_107_" d="M0-43c-12.29,0-23.54,3.94-31.68,11.09 C-40.39-24.25-45-13.21-45,0c0,29.7,22.6,43,45,43c21.67,0,45-13.46,45-43S21.67-43,0-43L0-43z" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;"/>
			<line id="XMLID_106_" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;" x1="-0.01" x2="-0.01" y1="51" y2="-51"/>
			<line id="XMLID_105_" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;" x1="-16" x2="-16" y1="48.95" y2="-48.93"/>
			<line id="XMLID_104_" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;" x1="15.99" x2="15.99" y1="48.91" y2="-48.93"/>
			<line id="XMLID_103_" style="fill:none;stroke:#4285F4;stroke-miterlimit:10;" x1="53" x2="-53" y1="0.08" y2="0.08"/>
		</g>
	</symbol>
	<g id="Layer_1">
		<g>
			<g>
				<linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="64" x2="64" y1="19.7166" y2="107.7021">
					<stop offset="0.5" style="stop-color:#FEE133"/>
					<stop offset="0.6118" style="stop-color:#FEDE32"/>
					<stop offset="0.7076" style="stop-color:#FCD32F"/>
					<stop offset="0.7975" style="stop-color:#FAC12B"/>
					<stop offset="0.8834" style="stop-color:#F7A924"/>
					<stop offset="0.9" style="stop-color:#F6A323"/>
				</linearGradient>
				<path d="M64,119.89C36.07,119.89,6,102.4,6,64S36.07,8.11,64,8.11c15.48,0,29.81,5.12,40.36,14.43 C115.9,32.72,122,47.06,122,64c0,16.86-6.1,31.17-17.64,41.39C93.78,114.74,79.45,119.89,64,119.89z" style="fill:url(#SVGID_1_);"/>
				<path d="M64,10.11L64,10.11c14.99,0,28.86,4.95,39.03,13.93C114.13,33.83,120,47.65,120,64 c0,16.27-5.87,30.07-16.97,39.89c-10.21,9.03-24.07,14-39.03,14c-15.04,0-28.9-4.91-39.04-13.82C13.86,94.32,8,80.46,8,64 c0-16.54,5.86-30.42,16.96-40.15C35.07,14.99,48.93,10.11,64,10.11 M64,6.11L64,6.11L64,6.11L64,6.11C32.85,6.11,4,26.11,4,64 c0,37.68,28.85,57.89,60,57.89h0h0h0c31.15,0,60-20.73,60-57.89C124,26.63,95.15,6.11,64,6.11L64,6.11z" style="fill:#EB8F00;"/>
			</g>
			<g>
				<defs>
					<path id="SVGID_3_" d="M63.47,62.53c-15.71,0-30.31-1.32-42.49-3.57c-3.02-0.56-5.69,2.1-5.08,5.11 c4.04,19.81,23.55,36.08,47.55,36.08c26.27,0,43.94-16.8,47.61-36.15c0.57-2.99-2.1-5.6-5.09-5.04 C93.79,61.21,79.19,62.53,63.47,62.53z"/>
				</defs>
				<clipPath id="SVGID_4_">
					<use style="overflow:visible;" xlink:href="#SVGID_3_"/>
				</clipPath>
				<path d="M63.47,62.53c-15.71,0-30.31-1.32-42.49-3.57 c-3.02-0.56-5.69,2.1-5.08,5.11c4.04,19.81,23.55,36.08,47.55,36.08c26.27,0,43.94-16.8,47.61-36.15c0.57-2.99-2.1-5.6-5.09-5.04 C93.79,61.21,79.19,62.53,63.47,62.53z" style="clip-path:url(#SVGID_4_);fill:#242424;"/>
				<path d="M116.72,61.38V46.49H10.24v14.89C26.61,71,44.6,76.35,63.48,76.35 S100.34,71,116.72,61.38z" style="clip-path:url(#SVGID_4_);fill:#FFFFFF;"/>
				<path d="M63.48,86.42c-11.78,0-22.05,6.42-27.53,15.95 c7.12,3.89,16.83,6.29,27.53,6.29s20.41-2.4,27.53-6.29C85.53,92.84,75.26,86.42,63.48,86.42z" style="clip-path:url(#SVGID_4_);fill:#ED7770;"/>
				<g style="clip-path:url(#SVGID_4_);">
					<defs>
						<path id="SVGID_5_" d="M10.24,46.49v14.89C26.62,71,44.6,76.35,63.48,76.35c18.88,0,36.86-5.35,53.24-14.97V46.49H10.24z M63.48,86.42c-11.78,0-22.05,6.42-27.53,15.95c7.12,3.89,16.83,6.29,27.53,6.29c10.71,0,20.41-2.4,27.53-6.29 C85.53,92.84,75.26,86.42,63.48,86.42z"/>
					</defs>
					<clipPath id="SVGID_6_">
						<use style="overflow:visible;" xlink:href="#SVGID_5_"/>
					</clipPath>
					<g style="clip-path:url(#SVGID_6_);">
						<path d="M106.79,62.88c0.16,0,0.26,0.11,0.29,0.14c0.08,0.1,0.07,0.18,0.06,0.23 c-1.69,8.9-6.63,17.06-13.92,22.97c-8.01,6.49-18.3,9.92-29.76,9.92c-10.51,0-20.73-3.47-28.8-9.76 c-7.76-6.06-13.03-14.27-14.83-23.11c-0.01-0.05-0.03-0.13,0.06-0.23c0.03-0.03,0.13-0.15,0.29-0.15c0.03,0,0.05,0,0.08,0.01 c12.85,2.38,27.8,3.64,43.22,3.64c15.43,0,30.38-1.26,43.24-3.64C106.74,62.88,106.76,62.88,106.79,62.88 M106.79,58.88 c-0.27,0-0.54,0.02-0.81,0.08c-12.18,2.26-26.79,3.58-42.51,3.58c-15.71,0-30.31-1.32-42.49-3.57 c-0.27-0.05-0.54-0.08-0.81-0.08c-2.67,0-4.83,2.44-4.27,5.18c4.04,19.81,23.55,36.08,47.55,36.08 c26.27,0,43.94-16.8,47.61-36.15C111.58,61.28,109.43,58.88,106.79,58.88L106.79,58.88z" style="fill:#EB8F00;"/>
					</g>
				</g>
			</g>
			<path d="M82.74,30.19L82.74,30.19c4.19,0,8,3.54,8,9.42s-3.81,9.42-8,9.42l0,0c-4.19,0-8-3.54-8-9.42 S78.55,30.19,82.74,30.19z" style="fill:#242424;"/>
			<path d="M45.2,30.19L45.2,30.19c-4.19,0-8,3.54-8,9.42s3.81,9.42,8,9.42l0,0c4.19,0,8-3.54,8-9.42 S49.39,30.19,45.2,30.19z" style="fill:#242424;"/>
		</g>
	</g>
	<g id="Layer_2" style="display:none;">
		<g style="display:inline;">
			<g style="opacity:0.6;">
				<circle cx="64" cy="64" r="28" style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.2625;stroke-miterlimit:10;"/>
				<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="84" x2="84" y1="0" y2="128"/>
				<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="44" x2="44" y1="0" y2="128"/>
				<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="64" x2="64" y1="0" y2="128"/>
				<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="64" y2="64"/>
				<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="44" y2="44"/>
				<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="83.75" y2="83.75"/>
				<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="128" y2="0"/>
				<line style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="0" x2="128" y1="128" y2="0"/>
				<g style="opacity:0.61;">
					<path d="M64,4.26c32.94,0,59.74,26.8,59.74,59.74S96.94,123.74,64,123.74S4.26,96.94,4.26,64S31.06,4.26,64,4.26 M64,4 C30.86,4,4,30.86,4,64s26.86,60,60,60s60-26.86,60-60S97.14,4,64,4L64,4z"/>
				</g>
				<path d="M107.97,115.97H20.03 c-4.42,0-8.03-3.61-8.03-8.03V20.03c0-4.42,3.61-8.03,8.03-8.03h87.94c4.42,0,8.03,3.61,8.03,8.03v87.91 C116,112.36,112.39,115.97,107.97,115.97z" style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.2578;stroke-miterlimit:10;"/>
				<path d="M100,124H28c-4.4,0-8-3.6-8-8 V12c0-4.4,3.6-8,8-8h72c4.4,0,8,3.6,8,8v104C108,120.4,104.4,124,100,124z" style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.2628;stroke-miterlimit:10;"/>
				<path d="M113.77,108H14.23 C8.6,108,4,103.4,4,97.77V30.28c0-5.63,4.6-10.23,10.23-10.23h99.54c5.63,0,10.23,4.6,10.23,10.23v67.48 C124,103.4,119.4,108,113.77,108z" style="opacity:0.61;fill:none;stroke:#000000;stroke-width:0.2627;stroke-miterlimit:10;"/>
			</g>
			<g>
				<g style="opacity:0.2;">
					<defs>
						<rect id="SVGID_2_" height="128" style="opacity:0.2;" width="128" x="0" y="0"/>
					</defs>
					<clipPath id="SVGID_7_">
						<use style="overflow:visible;" xlink:href="#SVGID_2_"/>
					</clipPath>
					<g style="clip-path:url(#SVGID_7_);">
						<g>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-28" x2="-28" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-24" x2="-24" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-20" x2="-20" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-16" x2="-16" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-12" x2="-12" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-8" x2="-8" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-4" x2="-4" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="0" x2="0" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="4" x2="4" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="8" x2="8" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="12" x2="12" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="16" x2="16" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="20" x2="20" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="24" x2="24" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="28" x2="28" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="32" x2="32" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="36" x2="36" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="40" x2="40" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="44" x2="44" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="48" x2="48" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="52" x2="52" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="56" x2="56" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="60" x2="60" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="64" x2="64" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="68" x2="68" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="72" x2="72" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="76" x2="76" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="80" x2="80" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="84" x2="84" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="88" x2="88" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="92" x2="92" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="96" x2="96" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="100" x2="100" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="104" x2="104" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="108" x2="108" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="112" x2="112" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="116" x2="116" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="120" x2="120" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="124" x2="124" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="128" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="132" x2="132" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="136" x2="136" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="137" x2="137" y1="166.05" y2="-25.95"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="144" x2="144" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="148" x2="148" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="152" x2="152" y1="160" y2="-32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="156" x2="156" y1="160" y2="-32"/>
						</g>
						<g>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-28" y2="-28"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-24" y2="-24"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-20" y2="-20"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-16" y2="-16"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-12" y2="-12"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-8" y2="-8"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="-4" y2="-4"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="0" y2="0"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="4" y2="4"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="8" y2="8"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="12" y2="12"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="16" y2="16"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="20" y2="20"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="24" y2="24"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="28" y2="28"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="32" y2="32"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="36" y2="36"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="40" y2="40"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="44" y2="44"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="48" y2="48"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="52" y2="52"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="56" y2="56"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="60" y2="60"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="64" y2="64"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="68" y2="68"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="72" y2="72"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="76" y2="76"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="80" y2="80"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="84" y2="84"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="88" y2="88"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="92" y2="92"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="96" y2="96"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="100" y2="100"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="104" y2="104"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="108" y2="108"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="112" y2="112"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="116" y2="116"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="120" y2="120"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="124" y2="124"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="128" y2="128"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="132" y2="132"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="136" y2="136"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="140" y2="140"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="144" y2="144"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="148" y2="148"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="152" y2="152"/>
							<line style="fill:none;stroke:#000000;stroke-width:0.25;stroke-miterlimit:10;" x1="-32" x2="160" y1="156" y2="156"/>
						</g>
						<path d="M159.75-31.75v191.5h-191.5v-191.5H159.75 M160-32H-32v192h192V-32L160-32z"/>
					</g>
				</g>
				<g>
					<rect height="128" style="opacity:0.3;fill:#F44336;" width="4" x="0" y="0"/>
					<rect height="128" style="opacity:0.3;fill:#F44336;" width="4" x="124" y="0"/>
					<rect height="120" style="opacity:0.3;fill:#F44336;" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 66 -62)" width="4" x="62" y="-58"/>
					<rect height="120" style="opacity:0.3;fill:#F44336;" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 190 62)" width="4" x="62" y="66"/>
				</g>
			</g>
		</g>
	</g>
	<g id="Layer_3" style="display:none;">
		<rect id="XMLID_46_" height="128" style="display:inline;fill:none;stroke:#616161;stroke-width:0.25;stroke-miterlimit:10;" transform="matrix(-1.346904e-10 -1 1 -1.346904e-10 8.631098e-09 128)" width="128" x="0"/>
		<g id="XMLID_9_" style="display:inline;">
			<rect id="XMLID_45_" height="128" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" width="128" x="0"/>
			<line id="XMLID_44_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="8" x2="8" y1="0" y2="128"/>
			<line id="XMLID_43_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="16" x2="16" y1="0" y2="128"/>
			<line id="XMLID_42_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="24" x2="24" y1="0" y2="128"/>
			<line id="XMLID_41_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="32" x2="32" y1="0" y2="128"/>
			<line id="XMLID_40_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="40" x2="40" y1="0" y2="128"/>
			<line id="XMLID_39_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="48" x2="48" y1="0" y2="128"/>
			<line id="XMLID_38_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="56" x2="56" y1="0" y2="128"/>
			<line id="XMLID_37_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="63.99" x2="63.99" y1="0" y2="128"/>
			<line id="XMLID_36_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="71.99" x2="71.99" y1="0" y2="128"/>
			<line id="XMLID_35_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="79.99" x2="79.99" y1="0" y2="128"/>
			<line id="XMLID_34_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="87.99" x2="87.99" y1="0" y2="128"/>
			<line id="XMLID_33_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="95.99" x2="95.99" y1="0" y2="128"/>
			<line id="XMLID_32_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="103.99" x2="103.99" y1="0" y2="128"/>
			<line id="XMLID_47_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="111.99" x2="111.99" y1="0" y2="128"/>
			<line id="XMLID_48_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="119.99" x2="119.99" y1="0" y2="128"/>
			<line id="XMLID_49_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="120" y2="120"/>
			<line id="XMLID_50_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="112" y2="112"/>
			<line id="XMLID_51_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="104" y2="104"/>
			<line id="XMLID_52_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="96" y2="96"/>
			<line id="XMLID_53_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="88" y2="88"/>
			<line id="XMLID_54_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="80" y2="80"/>
			<line id="XMLID_55_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="72" y2="72"/>
			<line id="XMLID_56_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="64.01" y2="64.01"/>
			<line id="XMLID_57_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="56.01" y2="56.01"/>
			<line id="XMLID_58_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="48.01" y2="48.01"/>
			<line id="XMLID_60_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="40.01" y2="40.01"/>
			<line id="XMLID_61_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="32.01" y2="32.01"/>
			<line id="XMLID_62_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="24.01" y2="24.01"/>
			<line id="XMLID_63_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="16.01" y2="16.01"/>
			<line id="XMLID_64_" style="fill:none;stroke:#999999;stroke-width:0.25;stroke-miterlimit:10;" x1="128" x2="0" y1="8.01" y2="8.01"/>
		</g>
		<use id="XMLID_31_" height="129" style="display:inline;overflow:visible;" transform="matrix(1 0 0 -1 64 64)" width="129" x="-64.5" xlink:href="#Grid" y="-64.5"/>
	</g>
</svg>`;/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class M5 extends S{constructor(e){super(e.locale),this.focusTracker=new be,this.keystrokes=new We,this.emojiButtonViews=new Le(e.locale),e.config.get("emoji").forEach(t=>{this.emojiButtonViews.add(this._createButton(t.text,"emoji:"+t.name))}),this._focusables=new Le,this._focusCycler=new tt({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck-emoji"],tabindex:"-1"},children:[{tag:"div",attributes:{class:["ck-emoji__actions"]},children:this.emojiButtonViews}]})}render(){super.render(),Za({view:this}),this.emojiButtonViews.map(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(e,t){const n=new z(this.locale);return n.label=e,n.withText=!0,t&&n.delegate("execute").to(this,t),n}}class F5 extends C{static get requires(){return[vi]}static get pluginName(){return"Emoji"}init(){const e=this.editor;e.editing.view.addObserver(hh),e.config.define("emoji",[{name:"smile",text:"😀"},{name:"wink",text:"😉"},{name:"cool",text:"😎"},{name:"surprise",text:"😮"},{name:"confusion",text:"😕"},{name:"crying",text:"😢"}]),this._balloon=e.plugins.get(vi),this.formView=this._createForm(),e.ui.componentFactory.add("emoji",t=>{const n=new z(t);return n.isEnabled=!0,n.label=e.t("Emoji"),n.icon=A5,n.tooltip=!0,setTimeout(function(){n.iconView.set("viewBox","0 0 128 128")},0),this.listenTo(n,"execute",()=>this._showPanel(!0)),n}),this._attachActions()}_createForm(){const e=this.editor,t=new M5(e);return e.config.get("emoji").forEach(n=>{this.listenTo(t,"emoji:"+n.name,()=>{e.model.change(s=>{s.insertText(n.text,e.model.document.selection.getFirstPosition()),this._hidePanel()})})}),t.keystrokes.set("Esc",(n,s)=>{this._hidePanel(!0),s()}),t}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document;return{target:e.domConverter.viewRangeToDom(t.selection.getFirstRange())}}_showPanel(){this._balloon.add({view:this.formView,position:this._getBalloonPositionData()})}_attachActions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._balloon.visibleView===this.formView&&!this.formView.focusTracker.isFocused&&(this.formView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._balloon.visibleView===this.formView&&(this._hidePanel(),t())}),zs({emitter:this.formView,activator:()=>this._balloon.hasView(this.formView),contextElements:[this._balloon.view.element],callback:()=>this._hidePanel()})}_hidePanel(e){this.stopListening(this.editor.editing.view,"render"),this._balloon.hasView(this.formView)&&(e&&this.editor.editing.view.focus(),this.stopListening(this.editor.editing.view,"render"),this._balloon.remove(this.formView))}}const R5=document.querySelector("#app");function O5(i){i.model.schema.addChildCheck((e,t)=>{if(e.endsWith("blockQuote")&&t.name=="blockQuote")return!1})}const rt=Oi.create(R5,{plugins:[w2,Di,yv,i2,pv,Xv,P5,Hh,Bi,Rh,Pv,Fv,Bv,zv,jv,Lv,F5],extraPlugins:[O5],toolbar:{items:["removeFormat","|","undo","redo","link","|","bold","code","italic","subscript","underline","|","blockquote","strikethrough","|","sourceEditing","|","emoji"]},typing:{transformations:{include:["quotes","typography","arrowLeft","arrowRight",{from:":)",to:"🙂"},{from:/(^|\s)(")([^"]*)(")$/,to:[null,"«",null,"»"]}]}},emoji:[{name:"smile",text:"😀"},{name:"wink",text:"😉"},{name:"cool",text:"😎"},{name:"surprise",text:"😮"},{name:"confusion",text:"😕"},{name:"crying",text:"😢"},{name:"Grinning Face",text:"😀"},{name:"Grinning Face with Big Eyes",text:"😃"},{name:"Grinning Face with Smiling Eyes",text:"😄"},{name:"Beaming Face with Smiling Eyes",text:"😁"},{name:"Grinning Squinting Face",text:"😆"},{name:"Grinning Face with Sweat",text:"😅"},{name:"Rolling on the Floor Laughing",text:"🤣"},{name:"Face with Tears of Joy",text:"😂"},{name:"Slightly Smiling Face",text:"🙂"},{name:"Upside-Down Face",text:"🙃"},{name:"Winking Face",text:"😉"},{name:"Smiling Face with Smiling Eyes",text:"😊"},{name:"Smiling Face with Halo",text:"😇"},{name:"Smiling Face with Hearts",text:"🥰"},{name:"Smiling Face with Heart-Eyes",text:"😍"},{name:"Star-Struck",text:"🤩"},{name:"Face Blowing a Kiss",text:"😘"},{name:"Kissing Face",text:"😗"},{name:"Smiling Face",text:"☺️"},{name:"Kissing Face with Closed Eyes",text:"😚"},{name:"Kissing Face with Smiling Eyes",text:"😙"},{name:"Smiling Face with Tear",text:"🥲"},{name:"Face Savoring Food",text:"😋"},{name:"Face with Tongue",text:"😛"},{name:"Winking Face with Tongue",text:"😜"},{name:"Zany Face",text:"🤪"},{name:"Squinting Face with Tongue",text:"😝"},{name:"Money-Mouth Face",text:"🤑"},{name:"Hugging Face",text:"🤗"},{name:"Face with Hand Over Mouth",text:"🤭"},{name:"Shushing Face",text:"🤫"},{name:"Thinking Face",text:"🤔"},{name:"Zipper-Mouth Face",text:"🤐"},{name:"Face with Raised Eyebrow",text:"🤨"},{name:"Neutral Face",text:"😐"},{name:"Expressionless Face",text:"😑"},{name:"Face Without Mouth",text:"😶"},{name:"Smirking Face",text:"😏"},{name:"Unamused Face",text:"😒"},{name:"Face with Rolling Eyes",text:"🙄"},{name:"Grimacing Face",text:"😬"},{name:"Lying Face",text:"🤥"},{name:"Relieved Face",text:"😌"},{name:"Pensive Face",text:"😔"},{name:"Sleepy Face",text:"😪"},{name:"Drooling Face",text:"🤤"},{name:"Sleeping Face",text:"😴"},{name:"Face with Medical Mask",text:"😷"},{name:"Face with Thermometer",text:"🤒"},{name:"Face with Head-Bandage",text:"🤕"},{name:"Nauseated Face",text:"🤢"},{name:"Face Vomiting",text:"🤮"},{name:"Sneezing Face",text:"🤧"},{name:"Hot Face",text:"🥵"},{name:"Cold Face",text:"🥶"},{name:"Woozy Face",text:"🥴"},{name:"Dizzy Face",text:"😵"},{name:"Exploding Head",text:"🤯"},{name:"Cowboy Hat Face",text:"🤠"},{name:"Partying Face",text:"🥳"},{name:"Disguised Face",text:"🥸"},{name:"Smiling Face with Sunglasses",text:"😎"},{name:"Nerd Face",text:"🤓"},{name:"Face with Monocle",text:"🧐"},{name:"Confused Face",text:"😕"},{name:"Worried Face",text:"😟"},{name:"Slightly Frowning Face",text:"🙁"},{name:"Frowning Face",text:"☹️"},{name:"Face with Open Mouth",text:"😮"},{name:"Hushed Face",text:"😯"},{name:"Astonished Face",text:"😲"},{name:"Flushed Face",text:"😳"},{name:"Pleading Face",text:"🥺"},{name:"Frowning Face with Open Mouth",text:"😦"},{name:"Anguished Face",text:"😧"},{name:"Fearful Face",text:"😨"},{name:"Anxious Face with Sweat",text:"😰"},{name:"Sad but Relieved Face",text:"😥"},{name:"Crying Face",text:"😢"},{name:"Loudly Crying Face",text:"😭"},{name:"Face Screaming in Fear",text:"😱"},{name:"Confounded Face",text:"😖"},{name:"Persevering Face",text:"😣"},{name:"Disappointed Face",text:"😞"},{name:"Downcast Face with Sweat",text:"😓"},{name:"Weary Face",text:"😩"},{name:"Tired Face",text:"😫"},{name:"Yawning Face",text:"🥱"},{name:"Face with Steam From Nose",text:"😤"},{name:"Pouting Face",text:"😡"},{name:"Angry Face",text:"😠"},{name:"Face with Symbols on Mouth",text:"🤬"},{name:"Smiling Face with Horns",text:"😈"},{name:"Angry Face with Horns",text:"👿"},{name:"Skull",text:"💀"},{name:"Skull and Crossbones",text:"☠️"},{name:"Pile of Poo",text:"💩"},{name:"Clown Face",text:"🤡"},{name:"Ogre",text:"👹"},{name:"Goblin",text:"👺"},{name:"Ghost",text:"👻"},{name:"Alien",text:"👽"},{name:"Alien Monster",text:"👾"},{name:"Robot",text:"🤖"},{name:"Grinning Cat",text:"😺"},{name:"Grinning Cat with Smiling Eyes",text:"😸"},{name:"Cat with Tears of Joy",text:"😹"},{name:"Smiling Cat with Heart-Eyes",text:"😻"},{name:"Cat with Wry Smile",text:"😼"},{name:"Kissing Cat",text:"😽"},{name:"Weary Cat",text:"🙀"},{name:"Crying Cat",text:"😿"},{name:"Pouting Cat",text:"😾"},{name:"Kiss Mark",text:"💋"},{name:"Waving Hand",text:"👋"},{name:"Raised Back of Hand",text:"🤚"},{name:"Hand with Fingers Splayed",text:"🖐️"},{name:"Raised Hand",text:"✋"},{name:"Vulcan Salute",text:"🖖"},{name:"OK Hand",text:"👌"},{name:"Pinched Fingers",text:"🤌"},{name:"Pinching Hand",text:"🤏"},{name:"Victory Hand",text:"✌️"},{name:"Crossed Fingers",text:"🤞"},{name:"Love-You Gesture",text:"🤟"},{name:"Sign of the Horns",text:"🤘"},{name:"Call Me Hand",text:"🤙"},{name:"Backhand Index Pointing Left",text:"👈"},{name:"Backhand Index Pointing Right",text:"👉"},{name:"Backhand Index Pointing Up",text:"👆"},{name:"Middle Finger",text:"🖕"},{name:"Backhand Index Pointing Down",text:"👇"},{name:"Index Pointing Up",text:"☝️"},{name:"Thumbs Up",text:"👍"},{name:"Thumbs Down",text:"👎"},{name:"Raised Fist",text:"✊"},{name:"Oncoming Fist",text:"👊"},{name:"Left-Facing Fist",text:"🤛"},{name:"Right-Facing Fist",text:"🤜"},{name:"Clapping Hands",text:"👏"},{name:"Raising Hands",text:"🙌"},{name:"Open Hands",text:"👐"},{name:"Palms Up Together",text:"🤲"},{name:"Handshake",text:"🤝"},{name:"Folded Hands",text:"🙏"},{name:"Writing Hand",text:"✍️"},{name:"Nail Polish",text:"💅"},{name:"Selfie",text:"🤳"},{name:"Flexed Biceps",text:"💪"},{name:"Mechanical Arm",text:"🦾"},{name:"Mechanical Leg",text:"🦿"},{name:"Leg",text:"🦵"},{name:"Foot",text:"🦶"},{name:"Ear",text:"👂"},{name:"Ear with Hearing Aid",text:"🦻"},{name:"Nose",text:"👃"},{name:"Brain",text:"🧠"},{name:"Anatomical Heart",text:"🫀"},{name:"Lungs",text:"🫁"},{name:"Tooth",text:"🦷"},{name:"Bone",text:"🦴"},{name:"Eyes",text:"👀"},{name:"Eye",text:"👁️"},{name:"Tongue",text:"👅"},{name:"Mouth",text:"👄"},{name:"Baby",text:"👶"},{name:"Child",text:"🧒"},{name:"Boy",text:"👦"},{name:"Girl",text:"👧"},{name:"Person",text:"🧑"},{name:"Person: Blond Hair",text:"👱"},{name:"Man",text:"👨"},{name:"Person: Beard",text:"🧔"},{name:"Man: Red Hair",text:"👨‍🦰"},{name:"Man: Curly Hair",text:"👨‍🦱"},{name:"Man: White Hair",text:"👨‍🦳"},{name:"Man: Bald",text:"👨‍🦲"},{name:"Woman",text:"👩"},{name:"Woman: Red Hair",text:"👩‍🦰"},{name:"Person: Red Hair",text:"🧑‍🦰"},{name:"Woman: Curly Hair",text:"👩‍🦱"},{name:"Person: Curly Hair",text:"🧑‍🦱"},{name:"Woman: White Hair",text:"👩‍🦳"},{name:"Person: White Hair",text:"🧑‍🦳"},{name:"Woman: Bald",text:"👩‍🦲"},{name:"Person: Bald",text:"🧑‍🦲"},{name:"Woman: Blond Hair",text:"👱‍♀️"},{name:"Man: Blond Hair",text:"👱‍♂️"},{name:"Older Person",text:"🧓"},{name:"Old Man",text:"👴"},{name:"Old Woman",text:"👵"},{name:"Person Frowning",text:"🙍"},{name:"Man Frowning",text:"🙍‍♂️"},{name:"Woman Frowning",text:"🙍‍♀️"},{name:"Person Pouting",text:"🙎"},{name:"Man Pouting",text:"🙎‍♂️"},{name:"Woman Pouting",text:"🙎‍♀️"},{name:"Person Gesturing No",text:"🙅"},{name:"Man Gesturing No",text:"🙅‍♂️"},{name:"Woman Gesturing No",text:"🙅‍♀️"},{name:"Person Gesturing OK",text:"🙆"},{name:"Man Gesturing OK",text:"🙆‍♂️"},{name:"Woman Gesturing OK",text:"🙆‍♀️"},{name:"Person Tipping Hand",text:"💁"},{name:"Man Tipping Hand",text:"💁‍♂️"},{name:"Woman Tipping Hand",text:"💁‍♀️"},{name:"Person Raising Hand",text:"🙋"},{name:"Man Raising Hand",text:"🙋‍♂️"},{name:"Woman Raising Hand",text:"🙋‍♀️"},{name:"Deaf Person",text:"🧏"},{name:"Deaf Man",text:"🧏‍♂️"},{name:"Deaf Woman",text:"🧏‍♀️"},{name:"Person Bowing",text:"🙇"},{name:"Man Bowing",text:"🙇‍♂️"},{name:"Woman Bowing",text:"🙇‍♀️"},{name:"Person Facepalming",text:"🤦"},{name:"Man Facepalming",text:"🤦‍♂️"},{name:"Woman Facepalming",text:"🤦‍♀️"},{name:"Person Shrugging",text:"🤷"},{name:"Man Shrugging",text:"🤷‍♂️"},{name:"Woman Shrugging",text:"🤷‍♀️"},{name:"Health Worker",text:"🧑‍⚕️"},{name:"Man Health Worker",text:"👨‍⚕️"},{name:"Woman Health Worker",text:"👩‍⚕️"},{name:"Student",text:"🧑‍🎓"},{name:"Man Student",text:"👨‍🎓"},{name:"Woman Student",text:"👩‍🎓"},{name:"Teacher",text:"🧑‍🏫"},{name:"Man Teacher",text:"👨‍🏫"},{name:"Woman Teacher",text:"👩‍🏫"},{name:"Judge",text:"🧑‍⚖️"},{name:"Man Judge",text:"👨‍⚖️"},{name:"Woman Judge",text:"👩‍⚖️"},{name:"Farmer",text:"🧑‍🌾"},{name:"Man Farmer",text:"👨‍🌾"},{name:"Woman Farmer",text:"👩‍🌾"},{name:"Cook",text:"🧑‍🍳"},{name:"Man Cook",text:"👨‍🍳"},{name:"Woman Cook",text:"👩‍🍳"},{name:"Mechanic",text:"🧑‍🔧"},{name:"Man Mechanic",text:"👨‍🔧"},{name:"Woman Mechanic",text:"👩‍🔧"},{name:"Factory Worker",text:"🧑‍🏭"},{name:"Man Factory Worker",text:"👨‍🏭"},{name:"Woman Factory Worker",text:"👩‍🏭"},{name:"Office Worker",text:"🧑‍💼"},{name:"Man Office Worker",text:"👨‍💼"},{name:"Woman Office Worker",text:"👩‍💼"},{name:"Scientist",text:"🧑‍🔬"},{name:"Man Scientist",text:"👨‍🔬"},{name:"Woman Scientist",text:"👩‍🔬"},{name:"Technologist",text:"🧑‍💻"},{name:"Man Technologist",text:"👨‍💻"},{name:"Woman Technologist",text:"👩‍💻"},{name:"Singer",text:"🧑‍🎤"},{name:"Man Singer",text:"👨‍🎤"},{name:"Woman Singer",text:"👩‍🎤"},{name:"Artist",text:"🧑‍🎨"},{name:"Man Artist",text:"👨‍🎨"},{name:"Woman Artist",text:"👩‍🎨"},{name:"Pilot",text:"🧑‍✈️"},{name:"Man Pilot",text:"👨‍✈️"},{name:"Woman Pilot",text:"👩‍✈️"},{name:"Astronaut",text:"🧑‍🚀"},{name:"Man Astronaut",text:"👨‍🚀"},{name:"Woman Astronaut",text:"👩‍🚀"},{name:"Firefighter",text:"🧑‍🚒"},{name:"Man Firefighter",text:"👨‍🚒"},{name:"Woman Firefighter",text:"👩‍🚒"},{name:"Police Officer",text:"👮"},{name:"Man Police Officer",text:"👮‍♂️"},{name:"Woman Police Officer",text:"👮‍♀️"},{name:"Detective",text:"🕵️"},{name:"Man Detective",text:"🕵️‍♂️"},{name:"Woman Detective",text:"🕵️‍♀️"},{name:"Guard",text:"💂"},{name:"Man Guard",text:"💂‍♂️"},{name:"Woman Guard",text:"💂‍♀️"},{name:"Ninja",text:"🥷"},{name:"Construction Worker",text:"👷"},{name:"Man Construction Worker",text:"👷‍♂️"},{name:"Woman Construction Worker",text:"👷‍♀️"},{name:"Prince",text:"🤴"},{name:"Princess",text:"👸"},{name:"Person Wearing Turban",text:"👳"},{name:"Man Wearing Turban",text:"👳‍♂️"},{name:"Woman Wearing Turban",text:"👳‍♀️"},{name:"Person With Skullcap",text:"👲"},{name:"Woman with Headscarf",text:"🧕"},{name:"Person in Tuxedo",text:"🤵"},{name:"Man in Tuxedo",text:"🤵‍♂️"},{name:"Woman in Tuxedo",text:"🤵‍♀️"},{name:"Person With Veil",text:"👰"},{name:"Man with Veil",text:"👰‍♂️"},{name:"Woman with Veil",text:"👰‍♀️"},{name:"Pregnant Woman",text:"🤰"},{name:"Breast-Feeding",text:"🤱"},{name:"Woman Feeding Baby",text:"👩‍🍼"},{name:"Man Feeding Baby",text:"👨‍🍼"},{name:"Person Feeding Baby",text:"🧑‍🍼"},{name:"Baby Angel",text:"👼"},{name:"Santa Claus",text:"🎅"},{name:"Mrs. Claus",text:"🤶"},{name:"Mx Claus",text:"🧑‍🎄"},{name:"Superhero",text:"🦸"},{name:"Man Superhero",text:"🦸‍♂️"},{name:"Woman Superhero",text:"🦸‍♀️"},{name:"Supervillain",text:"🦹"},{name:"Man Supervillain",text:"🦹‍♂️"},{name:"Woman Supervillain",text:"🦹‍♀️"},{name:"Mage",text:"🧙"},{name:"Man Mage",text:"🧙‍♂️"},{name:"Woman Mage",text:"🧙‍♀️"},{name:"Fairy",text:"🧚"},{name:"Man Fairy",text:"🧚‍♂️"},{name:"Woman Fairy",text:"🧚‍♀️"},{name:"Vampire",text:"🧛"},{name:"Man Vampire",text:"🧛‍♂️"},{name:"Woman Vampire",text:"🧛‍♀️"},{name:"Merperson",text:"🧜"},{name:"Merman",text:"🧜‍♂️"},{name:"Mermaid",text:"🧜‍♀️"},{name:"Elf",text:"🧝"},{name:"Man Elf",text:"🧝‍♂️"},{name:"Woman Elf",text:"🧝‍♀️"},{name:"Genie",text:"🧞"},{name:"Man Genie",text:"🧞‍♂️"},{name:"Woman Genie",text:"🧞‍♀️"},{name:"Zombie",text:"🧟"},{name:"Man Zombie",text:"🧟‍♂️"},{name:"Woman Zombie",text:"🧟‍♀️"},{name:"Person Getting Massage",text:"💆"},{name:"Man Getting Massage",text:"💆‍♂️"},{name:"Woman Getting Massage",text:"💆‍♀️"},{name:"Person Getting Haircut",text:"💇"},{name:"Man Getting Haircut",text:"💇‍♂️"},{name:"Woman Getting Haircut",text:"💇‍♀️"},{name:"Person Walking",text:"🚶"},{name:"Man Walking",text:"🚶‍♂️"},{name:"Woman Walking",text:"🚶‍♀️"},{name:"Person Standing",text:"🧍"},{name:"Man Standing",text:"🧍‍♂️"},{name:"Woman Standing",text:"🧍‍♀️"},{name:"Person Kneeling",text:"🧎"},{name:"Man Kneeling",text:"🧎‍♂️"},{name:"Woman Kneeling",text:"🧎‍♀️"},{name:"Person with White Cane",text:"🧑‍🦯"},{name:"Man with White Cane",text:"👨‍🦯"},{name:"Woman with White Cane",text:"👩‍🦯"},{name:"Person in Motorized Wheelchair",text:"🧑‍🦼"},{name:"Man in Motorized Wheelchair",text:"👨‍🦼"},{name:"Woman in Motorized Wheelchair",text:"👩‍🦼"},{name:"Person in Manual Wheelchair",text:"🧑‍🦽"},{name:"Man in Manual Wheelchair",text:"👨‍🦽"},{name:"Woman in Manual Wheelchair",text:"👩‍🦽"},{name:"Person Running",text:"🏃"},{name:"Man Running",text:"🏃‍♂️"},{name:"Woman Running",text:"🏃‍♀️"},{name:"Woman Dancing",text:"💃"},{name:"Man Dancing",text:"🕺"},{name:"Person in Suit Levitating",text:"🕴️"},{name:"People with Bunny Ears",text:"👯"},{name:"Men with Bunny Ears",text:"👯‍♂️"},{name:"Women with Bunny Ears",text:"👯‍♀️"},{name:"Person in Steamy Room",text:"🧖"},{name:"Man in Steamy Room",text:"🧖‍♂️"},{name:"Woman in Steamy Room",text:"🧖‍♀️"},{name:"Person in Lotus Position",text:"🧘"},{name:"People Holding Hands",text:"🧑‍🤝‍🧑"},{name:"Women Holding Hands",text:"👭"},{name:"Woman and Man Holding Hands",text:"👫"},{name:"Men Holding Hands",text:"👬"},{name:"Kiss",text:"💏"},{name:"Kiss: Woman, Man",text:"👩‍❤️‍💋‍👨"},{name:"Kiss: Man, Man",text:"👨‍❤️‍💋‍👨"},{name:"Kiss: Woman, Woman",text:"👩‍❤️‍💋‍👩"},{name:"Couple with Heart",text:"💑"},{name:"Couple with Heart: Woman, Man",text:"👩‍❤️‍👨"},{name:"Couple with Heart: Man, Man",text:"👨‍❤️‍👨"},{name:"Couple with Heart: Woman, Woman",text:"👩‍❤️‍👩"},{name:"Family",text:"👪"},{name:"Family: Man, Woman, Boy",text:"👨‍👩‍👦"},{name:"Family: Man, Woman, Girl",text:"👨‍👩‍👧"},{name:"Family: Man, Woman, Girl, Boy",text:"👨‍👩‍👧‍👦"},{name:"Family: Man, Woman, Boy, Boy",text:"👨‍👩‍👦‍👦"},{name:"Family: Man, Woman, Girl, Girl",text:"👨‍👩‍👧‍👧"},{name:"Family: Man, Man, Boy",text:"👨‍👨‍👦"},{name:"Family: Man, Man, Girl",text:"👨‍👨‍👧"},{name:"Family: Man, Man, Girl, Boy",text:"👨‍👨‍👧‍👦"},{name:"Family: Man, Man, Boy, Boy",text:"👨‍👨‍👦‍👦"},{name:"Family: Man, Man, Girl, Girl",text:"👨‍👨‍👧‍👧"},{name:"Family: Woman, Woman, Boy",text:"👩‍👩‍👦"},{name:"Family: Woman, Woman, Girl",text:"👩‍👩‍👧"},{name:"Family: Woman, Woman, Girl, Boy",text:"👩‍👩‍👧‍👦"},{name:"Family: Woman, Woman, Boy, Boy",text:"👩‍👩‍👦‍👦"},{name:"Family: Woman, Woman, Girl, Girl",text:"👩‍👩‍👧‍👧"},{name:"Family: Man, Boy",text:"👨‍👦"},{name:"Family: Man, Boy, Boy",text:"👨‍👦‍👦"},{name:"Family: Man, Girl",text:"👨‍👧"},{name:"Family: Man, Girl, Boy",text:"👨‍👧‍👦"},{name:"Family: Man, Girl, Girl",text:"👨‍👧‍👧"},{name:"Family: Woman, Boy",text:"👩‍👦"},{name:"Family: Woman, Boy, Boy",text:"👩‍👦‍👦"},{name:"Family: Woman, Girl",text:"👩‍👧"},{name:"Family: Woman, Girl, Boy",text:"👩‍👧‍👦"},{name:"Family: Woman, Girl, Girl",text:"👩‍👧‍👧"},{name:"Speaking Head",text:"🗣️"},{name:"Bust in Silhouette",text:"👤"},{name:"Busts in Silhouette",text:"👥"},{name:"People Hugging",text:"🫂"},{name:"Footprints",text:"👣"},{name:"Luggage",text:"🧳"},{name:"Closed Umbrella",text:"🌂"},{name:"Umbrella",text:"☂️"},{name:"Jack-O-Lantern",text:"🎃"},{name:"Thread",text:"🧵"},{name:"Yarn",text:"🧶"},{name:"Glasses",text:"👓"},{name:"Sunglasses",text:"🕶️"},{name:"Goggles",text:"🥽"},{name:"Lab Coat",text:"🥼"},{name:"Safety Vest",text:"🦺"},{name:"Necktie",text:"👔"},{name:"T-Shirt",text:"👕"},{name:"Jeans",text:"👖"},{name:"Scarf",text:"🧣"},{name:"Gloves",text:"🧤"},{name:"Coat",text:"🧥"},{name:"Socks",text:"🧦"},{name:"Dress",text:"👗"},{name:"Kimono",text:"👘"},{name:"Sari",text:"🥻"},{name:"One-Piece Swimsuit",text:"🩱"},{name:"Briefs",text:"🩲"},{name:"Shorts",text:"🩳"},{name:"Bikini",text:"👙"},{name:"Woman’s Clothes",text:"👚"},{name:"Purse",text:"👛"},{name:"Handbag",text:"👜"},{name:"Clutch Bag",text:"👝"},{name:"Backpack",text:"🎒"},{name:"Thong Sandal",text:"🩴"},{name:"Man’s Shoe",text:"👞"},{name:"Running Shoe",text:"👟"},{name:"Hiking Boot",text:"🥾"},{name:"Flat Shoe",text:"🥿"},{name:"High-Heeled Shoe",text:"👠"},{name:"Woman’s Sandal",text:"👡"},{name:"Ballet Shoes",text:"🩰"},{name:"Woman’s Boot",text:"👢"},{name:"Crown",text:"👑"},{name:"Woman’s Hat",text:"👒"},{name:"Top Hat",text:"🎩"},{name:"Graduation Cap",text:"🎓"},{name:"Billed Cap",text:"🧢"},{name:"Military Helmet",text:"🪖"},{name:"Rescue Worker’s Helmet",text:"⛑️"},{name:"Lipstick",text:"💄"},{name:"Ring",text:"💍"},{name:"Briefcase",text:"💼"},{name:"Drop of Blood",text:"🩸"},{name:"Heart with Arrow",text:"💘"},{name:"Heart with Ribbon",text:"💝"},{name:"Sparkling Heart",text:"💖"},{name:"Growing Heart",text:"💗"},{name:"Beating Heart",text:"💓"},{name:"Revolving Hearts",text:"💞"},{name:"Two Hearts",text:"💕"},{name:"Heart Decoration",text:"💟"},{name:"Heart Exclamation",text:"❣️"},{name:"Broken Heart",text:"💔"},{name:"Red Heart",text:"❤️"},{name:"Orange Heart",text:"🧡"},{name:"Yellow Heart",text:"💛"},{name:"Green Heart",text:"💚"},{name:"Blue Heart",text:"💙"},{name:"Purple Heart",text:"💜"},{name:"Brown Heart",text:"🤎"},{name:"Black Heart",text:"🖤"},{name:"White Heart",text:"🤍"},{name:"Hundred Points",text:"💯"},{name:"Anger Symbol",text:"💢"},{name:"Speech Balloon",text:"💬"},{name:"Eye in Speech Bubble",text:"👁️‍🗨️"},{name:"Left Speech Bubble",text:"🗨️"},{name:"Right Anger Bubble",text:"🗯️"},{name:"Thought Balloon",text:"💭"},{name:"Zzz",text:"💤"},{name:"White Flower",text:"💮"},{name:"Hot Springs",text:"♨️"},{name:"Barber Pole",text:"💈"},{name:"Stop Sign",text:"🛑"},{name:"Twelve O’Clock",text:"🕛"},{name:"Twelve-Thirty",text:"🕧"},{name:"One O’Clock",text:"🕐"},{name:"One-Thirty",text:"🕜"},{name:"Two O’Clock",text:"🕑"},{name:"Two-Thirty",text:"🕝"},{name:"Three O’Clock",text:"🕒"},{name:"Three-Thirty",text:"🕞"},{name:"Four O’Clock",text:"🕓"},{name:"Four-Thirty",text:"🕟"},{name:"Five O’Clock",text:"🕔"},{name:"Five-Thirty",text:"🕠"},{name:"Six O’Clock",text:"🕕"},{name:"Six-Thirty",text:"🕡"},{name:"Seven O’Clock",text:"🕖"},{name:"Seven-Thirty",text:"🕢"},{name:"Eight O’Clock",text:"🕗"},{name:"Eight-Thirty",text:"🕣"},{name:"Nine O’Clock",text:"🕘"},{name:"Nine-Thirty",text:"🕤"},{name:"Ten O’Clock",text:"🕙"},{name:"Ten-Thirty",text:"🕥"},{name:"Eleven O’Clock",text:"🕚"},{name:"Eleven-Thirty",text:"🕦"},{name:"Cyclone",text:"🌀"},{name:"Spade Suit",text:"♠️"},{name:"Heart Suit",text:"♥️"},{name:"Diamond Suit",text:"♦️"},{name:"Club Suit",text:"♣️"},{name:"Joker",text:"🃏"},{name:"Mahjong Red Dragon",text:"🀄"},{name:"Flower Playing Cards",text:"🎴"},{name:"Muted Speaker",text:"🔇"},{name:"Speaker Low Volume",text:"🔈"},{name:"Speaker Medium Volume",text:"🔉"},{name:"Speaker High Volume",text:"🔊"},{name:"Loudspeaker",text:"📢"},{name:"Megaphone",text:"📣"},{name:"Postal Horn",text:"📯"},{name:"Bell",text:"🔔"},{name:"Bell with Slash",text:"🔕"},{name:"Musical Note",text:"🎵"},{name:"Musical Notes",text:"🎶"},{name:"Chart Increasing with Yen",text:"💹"},{name:"Elevator",text:"🛗"},{name:"ATM Sign",text:"🏧"},{name:"Litter in Bin Sign",text:"🚮"},{name:"Potable Water",text:"🚰"},{name:"Wheelchair Symbol",text:"♿"},{name:"Men’s Room",text:"🚹"},{name:"Women’s Room",text:"🚺"},{name:"Restroom",text:"🚻"},{name:"Baby Symbol",text:"🚼"},{name:"Water Closet",text:"🚾"},{name:"Warning",text:"⚠️"},{name:"Children Crossing",text:"🚸"},{name:"No Entry",text:"⛔"},{name:"Prohibited",text:"🚫"},{name:"No Bicycles",text:"🚳"},{name:"No Smoking",text:"🚭"},{name:"No Littering",text:"🚯"},{name:"Non-Potable Water",text:"🚱"},{name:"No Pedestrians",text:"🚷"},{name:"No Mobile Phones",text:"📵"},{name:"No One Under Eighteen",text:"🔞"},{name:"Radioactive",text:"☢️"},{name:"Biohazard",text:"☣️"},{name:"Up Arrow",text:"⬆️"},{name:"Up-Right Arrow",text:"↗️"},{name:"Right Arrow",text:"➡️"},{name:"Down-Right Arrow",text:"↘️"},{name:"Down Arrow",text:"⬇️"},{name:"Down-Left Arrow",text:"↙️"},{name:"Left Arrow",text:"⬅️"},{name:"Up-Left Arrow",text:"↖️"},{name:"Up-Down Arrow",text:"↕️"},{name:"Left-Right Arrow",text:"↔️"},{name:"Right Arrow Curving Left",text:"↩️"},{name:"Left Arrow Curving Right",text:"↪️"},{name:"Right Arrow Curving Up",text:"⤴️"},{name:"Right Arrow Curving Down",text:"⤵️"},{name:"Clockwise Vertical Arrows",text:"🔃"},{name:"Counterclockwise Arrows Button",text:"🔄"},{name:"Back Arrow",text:"🔙"},{name:"End Arrow",text:"🔚"},{name:"On! Arrow",text:"🔛"},{name:"Soon Arrow",text:"🔜"},{name:"Top Arrow",text:"🔝"},{name:"Place of Worship",text:"🛐"},{name:"Atom Symbol",text:"⚛️"},{name:"Om",text:"🕉️"},{name:"Star of David",text:"✡️"},{name:"Wheel of Dharma",text:"☸️"},{name:"Yin Yang",text:"☯️"},{name:"Latin Cross",text:"✝️"},{name:"Orthodox Cross",text:"☦️"},{name:"Star and Crescent",text:"☪️"},{name:"Peace Symbol",text:"☮️"},{name:"Menorah",text:"🕎"},{name:"Dotted Six-Pointed Star",text:"🔯"},{name:"Aries",text:"♈"},{name:"Taurus",text:"♉"},{name:"Gemini",text:"♊"},{name:"Cancer",text:"♋"},{name:"Leo",text:"♌"},{name:"Virgo",text:"♍"},{name:"Libra",text:"♎"},{name:"Scorpio",text:"♏"},{name:"Sagittarius",text:"♐"},{name:"Capricorn",text:"♑"},{name:"Aquarius",text:"♒"},{name:"Pisces",text:"♓"},{name:"Ophiuchus",text:"⛎"},{name:"Shuffle Tracks Button",text:"🔀"},{name:"Repeat Button",text:"🔁"},{name:"Repeat Single Button",text:"🔂"},{name:"Play Button",text:"▶️"},{name:"Fast-Forward Button",text:"⏩"},{name:"Next Track Button",text:"⏭️"},{name:"Play or Pause Button",text:"⏯️"},{name:"Reverse Button",text:"◀️"},{name:"Fast Reverse Button",text:"⏪"},{name:"Last Track Button",text:"⏮️"},{name:"Upwards Button",text:"🔼"},{name:"Fast Up Button",text:"⏫"},{name:"Downwards Button",text:"🔽"},{name:"Fast Down Button",text:"⏬"},{name:"Pause Button",text:"⏸️"},{name:"Stop Button",text:"⏹️"},{name:"Record Button",text:"⏺️"},{name:"Eject Button",text:"⏏️"},{name:"Cinema",text:"🎦"},{name:"Dim Button",text:"🔅"},{name:"Bright Button",text:"🔆"},{name:"Antenna Bars",text:"📶"},{name:"Vibration Mode",text:"📳"},{name:"Mobile Phone Off",text:"📴"},{name:"Female Sign",text:"♀️"},{name:"Male Sign",text:"♂️"},{name:"Multiply",text:"✖️"},{name:"Plus",text:"➕"},{name:"Minus",text:"➖"},{name:"Divide",text:"➗"},{name:"Infinity",text:"♾️"},{name:"Double Exclamation Mark",text:"‼️"},{name:"Exclamation Question Mark",text:"⁉️"},{name:"Question Mark",text:"❓"},{name:"White Question Mark",text:"❔"},{name:"White Exclamation Mark",text:"❕"},{name:"Exclamation Mark",text:"❗"},{name:"Wavy Dash",text:"〰️"},{name:"Currency Exchange",text:"💱"},{name:"Heavy Dollar Sign",text:"💲"},{name:"Medical Symbol",text:"⚕️"},{name:"Recycling Symbol",text:"♻️"},{name:"Fleur-de-lis",text:"⚜️"},{name:"Trident Emblem",text:"🔱"},{name:"Name Badge",text:"📛"},{name:"Japanese Symbol for Beginner",text:"🔰"},{name:"Hollow Red Circle",text:"⭕"},{name:"Check Mark Button",text:"✅"},{name:"Check Box with Check",text:"☑️"},{name:"Check Mark",text:"✔️"},{name:"Cross Mark",text:"❌"},{name:"Cross Mark Button",text:"❎"},{name:"Curly Loop",text:"➰"},{name:"Double Curly Loop",text:"➿"},{name:"Part Alternation Mark",text:"〽️"},{name:"Eight-Spoked Asterisk",text:"✳️"},{name:"Eight-Pointed Star",text:"✴️"},{name:"Sparkle",text:"❇️"},{name:"Copyright",text:"©️"},{name:"Registered",text:"®️"},{name:"Trade Mark",text:"™️"},{name:"Keycap Number Sign",text:"#️⃣"},{name:"Keycap Asterisk",text:"*️⃣"},{name:"Keycap Digit Zero",text:"0️⃣"},{name:"Keycap Digit One",text:"1️⃣"},{name:"Keycap Digit Two",text:"2️⃣"},{name:"Keycap Digit Three",text:"3️⃣"},{name:"Keycap Digit Four",text:"4️⃣"},{name:"Keycap Digit Five",text:"5️⃣"},{name:"Keycap Digit Six",text:"6️⃣"},{name:"Keycap Digit Seven",text:"7️⃣"},{name:"Keycap Digit Eight",text:"8️⃣"},{name:"Keycap Digit Nine",text:"9️⃣"},{name:"Keycap: 10",text:"🔟"},{name:"Input Latin Uppercase",text:"🔠"},{name:"Input Latin Lowercase",text:"🔡"},{name:"Input Numbers",text:"🔢"},{name:"Input Symbols",text:"🔣"},{name:"Input Latin Letters",text:"🔤"},{name:"A Button (Blood Type)",text:"🅰️"},{name:"AB Button (Blood Type)",text:"🆎"},{name:"B Button (Blood Type)",text:"🅱️"},{name:"CL Button",text:"🆑"},{name:"Cool Button",text:"🆒"},{name:"Free Button",text:"🆓"},{name:"Information",text:"ℹ️"},{name:"ID Button",text:"🆔"},{name:"Circled M",text:"Ⓜ️"},{name:"New Button",text:"🆕"},{name:"NG Button",text:"🆖"},{name:"O Button (Blood Type)",text:"🅾️"},{name:"OK Button",text:"🆗"},{name:"P Button",text:"🅿️"},{name:"SOS Button",text:"🆘"},{name:"Up! Button",text:"🆙"},{name:"Vs Button",text:"🆚"},{name:"Japanese “Here” Button",text:"🈁"},{name:"Japanese “Service Charge” Button",text:"🈂️"},{name:"Japanese “Monthly Amount” Button",text:"🈷️"},{name:"Japanese “Not Free of Charge” Button",text:"🈶"},{name:"Japanese “Reserved” Button",text:"🈯"},{name:"Japanese “Bargain” Button",text:"🉐"},{name:"Japanese “Discount” Button",text:"🈹"},{name:"Japanese “Free of Charge” Button",text:"🈚"},{name:"Japanese “Prohibited” Button",text:"🈲"},{name:"Japanese “Acceptable” Button",text:"🉑"},{name:"Japanese “Application” Button",text:"🈸"},{name:"Japanese “Passing Grade” Button",text:"🈴"},{name:"Japanese “Vacancy” Button",text:"🈳"},{name:"Japanese “Congratulations” Button",text:"㊗️"},{name:"Japanese “Secret” Button",text:"㊙️"},{name:"Japanese “Open for Business” Button",text:"🈺"},{name:"Japanese “No Vacancy” Button",text:"🈵"},{name:"Red Circle",text:"🔴"},{name:"Orange Circle",text:"🟠"},{name:"Yellow Circle",text:"🟡"},{name:"Green Circle",text:"🟢"},{name:"Blue Circle",text:"🔵"},{name:"Purple Circle",text:"🟣"},{name:"Brown Circle",text:"🟤"},{name:"Black Circle",text:"⚫"},{name:"White Circle",text:"⚪"},{name:"Red Square",text:"🟥"},{name:"Orange Square",text:"🟧"},{name:"Yellow Square",text:"🟨"},{name:"Green Square",text:"🟩"},{name:"Blue Square",text:"🟦"},{name:"Purple Square",text:"🟪"},{name:"Brown Square",text:"🟫"},{name:"Black Large Square",text:"⬛"},{name:"White Large Square",text:"⬜"},{name:"Black Medium Square",text:"◼️"},{name:"White Medium Square",text:"◻️"},{name:"Black Medium-Small Square",text:"◾"},{name:"White Medium-Small Square",text:"◽"},{name:"Black Small Square",text:"▪️"},{name:"White Small Square",text:"▫️"},{name:"Large Orange Diamond",text:"🔶"},{name:"Large Blue Diamond",text:"🔷"},{name:"Small Orange Diamond",text:"🔸"},{name:"Small Blue Diamond",text:"🔹"},{name:"Red Triangle Pointed Up",text:"🔺"},{name:"Red Triangle Pointed Down",text:"🔻"},{name:"Diamond with a Dot",text:"💠"},{name:"Radio Button",text:"🔘"},{name:"White Square Button",text:"🔳"},{name:"Black Square Button",text:"🔲"},{name:"Person in Suit Levitating",text:"🕴️"},{name:"Person Climbing",text:"🧗"},{name:"Man Climbing",text:"🧗‍♂️"},{name:"Woman Climbing",text:"🧗‍♀️"},{name:"Person Fencing",text:"🤺"},{name:"Horse Racing",text:"🏇"},{name:"Skier",text:"⛷️"},{name:"Snowboarder",text:"🏂"},{name:"Person Golfing",text:"🏌️"},{name:"Man Golfing",text:"🏌️‍♂️"},{name:"Woman Golfing",text:"🏌️‍♀️"},{name:"Person Surfing",text:"🏄"},{name:"Man Surfing",text:"🏄‍♂️"},{name:"Woman Surfing",text:"🏄‍♀️"},{name:"Person Rowing Boat",text:"🚣"},{name:"Man Rowing Boat",text:"🚣‍♂️"},{name:"Woman Rowing Boat",text:"🚣‍♀️"},{name:"Person Swimming",text:"🏊"},{name:"Man Swimming",text:"🏊‍♂️"},{name:"Woman Swimming",text:"🏊‍♀️"},{name:"Person Bouncing Ball",text:"⛹️"},{name:"Man Bouncing Ball",text:"⛹️‍♂️"},{name:"Woman Bouncing Ball",text:"⛹️‍♀️"},{name:"Person Lifting Weights",text:"🏋️"},{name:"Man Lifting Weights",text:"🏋️‍♂️"},{name:"Woman Lifting Weights",text:"🏋️‍♀️"},{name:"Person Biking",text:"🚴"},{name:"Man Biking",text:"🚴‍♂️"},{name:"Woman Biking",text:"🚴‍♀️"},{name:"Person Mountain Biking",text:"🚵"},{name:"Man Mountain Biking",text:"🚵‍♂️"},{name:"Woman Mountain Biking",text:"🚵‍♀️"},{name:"Person Cartwheeling",text:"🤸"},{name:"Man Cartwheeling",text:"🤸‍♂️"},{name:"Woman Cartwheeling",text:"🤸‍♀️"},{name:"People Wrestling",text:"🤼"},{name:"Men Wrestling",text:"🤼‍♂️"},{name:"Women Wrestling",text:"🤼‍♀️"},{name:"Person Playing Water Polo",text:"🤽"},{name:"Man Playing Water Polo",text:"🤽‍♂️"},{name:"Woman Playing Water Polo",text:"🤽‍♀️"},{name:"Person Playing Handball",text:"🤾"},{name:"Man Playing Handball",text:"🤾‍♂️"},{name:"Woman Playing Handball",text:"🤾‍♀️"},{name:"Person Juggling",text:"🤹"},{name:"Man Juggling",text:"🤹‍♂️"},{name:"Woman Juggling",text:"🤹‍♀️"},{name:"Person in Lotus Position",text:"🧘"},{name:"Man in Lotus Position",text:"🧘‍♂️"},{name:"Woman in Lotus Position",text:"🧘‍♀️"},{name:"Circus Tent",text:"🎪"},{name:"Skateboard",text:"🛹"},{name:"Roller Skate",text:"🛼"},{name:"Canoe",text:"🛶"},{name:"Reminder Ribbon",text:"🎗️"},{name:"Admission Tickets",text:"🎟️"},{name:"Ticket",text:"🎫"},{name:"Military Medal",text:"🎖️"},{name:"Trophy",text:"🏆"},{name:"Sports Medal",text:"🏅"},{name:"1st Place Medal",text:"🥇"},{name:"2nd Place Medal",text:"🥈"},{name:"3rd Place Medal",text:"🥉"},{name:"Soccer Ball",text:"⚽"},{name:"Baseball",text:"⚾"},{name:"Softball",text:"🥎"},{name:"Basketball",text:"🏀"},{name:"Volleyball",text:"🏐"},{name:"American Football",text:"🏈"},{name:"Rugby Football",text:"🏉"},{name:"Tennis",text:"🎾"},{name:"Flying Disc",text:"🥏"},{name:"Bowling",text:"🎳"},{name:"Cricket Game",text:"🏏"},{name:"Field Hockey",text:"🏑"},{name:"Ice Hockey",text:"🏒"},{name:"Lacrosse",text:"🥍"},{name:"Ping Pong",text:"🏓"},{name:"Badminton",text:"🏸"},{name:"Boxing Glove",text:"🥊"},{name:"Martial Arts Uniform",text:"🥋"},{name:"Goal Net",text:"🥅"},{name:"Flag in Hole",text:"⛳"},{name:"Ice Skate",text:"⛸️"},{name:"Fishing Pole",text:"🎣"},{name:"Running Shirt",text:"🎽"},{name:"Skis",text:"🎿"},{name:"Sled",text:"🛷"},{name:"Curling Stone",text:"🥌"},{name:"Direct Hit",text:"🎯"},{name:"Pool 8 Ball",text:"🎱"},{name:"Video Game",text:"🎮"},{name:"Slot Machine",text:"🎰"},{name:"Game Die",text:"🎲"},{name:"Puzzle Piece",text:"🧩"},{name:"Chess Pawn",text:"♟️"},{name:"Performing Arts",text:"🎭"},{name:"Artist Palette",text:"🎨"},{name:"Thread",text:"🧵"},{name:"Yarn",text:"🧶"},{name:"Musical Score",text:"🎼"},{name:"Microphone",text:"🎤"},{name:"Headphone",text:"🎧"},{name:"Saxophone",text:"🎷"},{name:"Accordion",text:"🪗"},{name:"Guitar",text:"🎸"},{name:"Musical Keyboard",text:"🎹"},{name:"Trumpet",text:"🎺"},{name:"Violin",text:"🎻"},{name:"Drum",text:"🥁"},{name:"Long Drum",text:"🪘"},{name:"Clapper Board",text:"🎬"},{name:"Bow and Arrow",text:"🏹"},{name:"Chequered Flag",text:"🏁"},{name:"Triangular Flag",text:"🚩"},{name:"Crossed Flags",text:"🎌"},{name:"Black Flag",text:"🏴"},{name:"White Flag",text:"🏳️"},{name:"Rainbow Flag",text:"🏳️‍🌈"},{name:"Transgender Flag",text:"🏳️‍⚧️"},{name:"Pirate Flag",text:"🏴‍☠️"},{name:"Flag: Ascension Island",text:"🇦🇨"},{name:"Flag: Andorra",text:"🇦🇩"},{name:"Flag: United Arab Emirates",text:"🇦🇪"},{name:"Flag: Afghanistan",text:"🇦🇫"},{name:"Flag: Antigua & Barbuda",text:"🇦🇬"},{name:"Flag: Anguilla",text:"🇦🇮"},{name:"Flag: Albania",text:"🇦🇱"},{name:"Flag: Armenia",text:"🇦🇲"},{name:"Flag: Angola",text:"🇦🇴"},{name:"Flag: Antarctica",text:"🇦🇶"},{name:"Flag: Argentina",text:"🇦🇷"},{name:"Flag: American Samoa",text:"🇦🇸"},{name:"Flag: Austria",text:"🇦🇹"},{name:"Flag: Australia",text:"🇦🇺"},{name:"Flag: Aruba",text:"🇦🇼"},{name:"Flag: Åland Islands",text:"🇦🇽"},{name:"Flag: Azerbaijan",text:"🇦🇿"},{name:"Flag: Bosnia & Herzegovina",text:"🇧🇦"},{name:"Flag: Barbados",text:"🇧🇧"},{name:"Flag: Bangladesh",text:"🇧🇩"},{name:"Flag: Belgium",text:"🇧🇪"},{name:"Flag: Burkina Faso",text:"🇧🇫"},{name:"Flag: Bulgaria",text:"🇧🇬"},{name:"Flag: Bahrain",text:"🇧🇭"},{name:"Flag: Burundi",text:"🇧🇮"},{name:"Flag: Benin",text:"🇧🇯"},{name:"Flag: St. Barthélemy",text:"🇧🇱"},{name:"Flag: Bermuda",text:"🇧🇲"},{name:"Flag: Brunei",text:"🇧🇳"},{name:"Flag: Bolivia",text:"🇧🇴"},{name:"Flag: Caribbean Netherlands",text:"🇧🇶"},{name:"Flag: Brazil",text:"🇧🇷"},{name:"Flag: Bahamas",text:"🇧🇸"},{name:"Flag: Bhutan",text:"🇧🇹"},{name:"Flag: Bouvet Island",text:"🇧🇻"},{name:"Flag: Botswana",text:"🇧🇼"},{name:"Flag: Belarus",text:"🇧🇾"},{name:"Flag: Belize",text:"🇧🇿"},{name:"Flag: Canada",text:"🇨🇦"},{name:"Flag: Cocos (Keeling) Islands",text:"🇨🇨"},{name:"Flag: Congo - Kinshasa",text:"🇨🇩"},{name:"Flag: Central African Republic",text:"🇨🇫"},{name:"Flag: Congo - Brazzaville",text:"🇨🇬"},{name:"Flag: Switzerland",text:"🇨🇭"},{name:"Flag: Côte d’Ivoire",text:"🇨🇮"},{name:"Flag: Cook Islands",text:"🇨🇰"},{name:"Flag: Chile",text:"🇨🇱"},{name:"Flag: Cameroon",text:"🇨🇲"},{name:"Flag: China",text:"🇨🇳"},{name:"Flag: Colombia",text:"🇨🇴"},{name:"Flag: Clipperton Island",text:"🇨🇵"},{name:"Flag: Costa Rica",text:"🇨🇷"},{name:"Flag: Cuba",text:"🇨🇺"},{name:"Flag: Cape Verde",text:"🇨🇻"},{name:"Flag: Curaçao",text:"🇨🇼"},{name:"Flag: Christmas Island",text:"🇨🇽"},{name:"Flag: Cyprus",text:"🇨🇾"},{name:"Flag: Czechia",text:"🇨🇿"},{name:"Flag: Germany",text:"🇩🇪"},{name:"Flag: Diego Garcia",text:"🇩🇬"},{name:"Flag: Djibouti",text:"🇩🇯"},{name:"Flag: Denmark",text:"🇩🇰"},{name:"Flag: Dominica",text:"🇩🇲"},{name:"Flag: Dominican Republic",text:"🇩🇴"},{name:"Flag: Algeria",text:"🇩🇿"},{name:"Flag: Ceuta & Melilla",text:"🇪🇦"},{name:"Flag: Ecuador",text:"🇪🇨"},{name:"Flag: Estonia",text:"🇪🇪"},{name:"Flag: Egypt",text:"🇪🇬"},{name:"Flag: Western Sahara",text:"🇪🇭"},{name:"Flag: Eritrea",text:"🇪🇷"},{name:"Flag: Spain",text:"🇪🇸"},{name:"Flag: Ethiopia",text:"🇪🇹"},{name:"Flag: European Union",text:"🇪🇺"},{name:"Flag: Finland",text:"🇫🇮"},{name:"Flag: Fiji",text:"🇫🇯"},{name:"Flag: Falkland Islands",text:"🇫🇰"},{name:"Flag: Micronesia",text:"🇫🇲"},{name:"Flag: Faroe Islands",text:"🇫🇴"},{name:"Flag: France",text:"🇫🇷"},{name:"Flag: Gabon",text:"🇬🇦"},{name:"Flag: United Kingdom",text:"🇬🇧"},{name:"Flag: Grenada",text:"🇬🇩"},{name:"Flag: Georgia",text:"🇬🇪"},{name:"Flag: French Guiana",text:"🇬🇫"},{name:"Flag: Guernsey",text:"🇬🇬"},{name:"Flag: Ghana",text:"🇬🇭"},{name:"Flag: Gibraltar",text:"🇬🇮"},{name:"Flag: Greenland",text:"🇬🇱"},{name:"Flag: Gambia",text:"🇬🇲"},{name:"Flag: Guinea",text:"🇬🇳"},{name:"Flag: Guadeloupe",text:"🇬🇵"},{name:"Flag: Equatorial Guinea",text:"🇬🇶"},{name:"Flag: Greece",text:"🇬🇷"},{name:"Flag: South Georgia & South Sandwich Islands",text:"🇬🇸"},{name:"Flag: Guatemala",text:"🇬🇹"},{name:"Flag: Guam",text:"🇬🇺"},{name:"Flag: Guinea-Bissau",text:"🇬🇼"},{name:"Flag: Guyana",text:"🇬🇾"},{name:"Flag: Hong Kong SAR China",text:"🇭🇰"},{name:"Flag: Heard & McDonald Islands",text:"🇭🇲"},{name:"Flag: Honduras",text:"🇭🇳"},{name:"Flag: Croatia",text:"🇭🇷"},{name:"Flag: Haiti",text:"🇭🇹"},{name:"Flag: Hungary",text:"🇭🇺"},{name:"Flag: Canary Islands",text:"🇮🇨"},{name:"Flag: Indonesia",text:"🇮🇩"},{name:"Flag: Ireland",text:"🇮🇪"},{name:"Flag: Israel",text:"🇮🇱"},{name:"Flag: Isle of Man",text:"🇮🇲"},{name:"Flag: India",text:"🇮🇳"},{name:"Flag: British Indian Ocean Territory",text:"🇮🇴"},{name:"Flag: Iraq",text:"🇮🇶"},{name:"Flag: Iran",text:"🇮🇷"},{name:"Flag: Iceland",text:"🇮🇸"},{name:"Flag: Italy",text:"🇮🇹"},{name:"Flag: Jersey",text:"🇯🇪"},{name:"Flag: Jamaica",text:"🇯🇲"},{name:"Flag: Jordan",text:"🇯🇴"},{name:"Flag: Japan",text:"🇯🇵"},{name:"Flag: Kenya",text:"🇰🇪"},{name:"Flag: Kyrgyzstan",text:"🇰🇬"},{name:"Flag: Cambodia",text:"🇰🇭"},{name:"Flag: Kiribati",text:"🇰🇮"},{name:"Flag: Comoros",text:"🇰🇲"},{name:"Flag: St. Kitts & Nevis",text:"🇰🇳"},{name:"Flag: North Korea",text:"🇰🇵"},{name:"Flag: South Korea",text:"🇰🇷"},{name:"Flag: Kuwait",text:"🇰🇼"},{name:"Flag: Cayman Islands",text:"🇰🇾"},{name:"Flag: Kazakhstan",text:"🇰🇿"},{name:"Flag: Laos",text:"🇱🇦"},{name:"Flag: Lebanon",text:"🇱🇧"},{name:"Flag: St. Lucia",text:"🇱🇨"},{name:"Flag: Liechtenstein",text:"🇱🇮"},{name:"Flag: Sri Lanka",text:"🇱🇰"},{name:"Flag: Liberia",text:"🇱🇷"},{name:"Flag: Lesotho",text:"🇱🇸"},{name:"Flag: Lithuania",text:"🇱🇹"},{name:"Flag: Luxembourg",text:"🇱🇺"},{name:"Flag: Latvia",text:"🇱🇻"},{name:"Flag: Libya",text:"🇱🇾"},{name:"Flag: Morocco",text:"🇲🇦"},{name:"Flag: Monaco",text:"🇲🇨"},{name:"Flag: Moldova",text:"🇲🇩"},{name:"Flag: Montenegro",text:"🇲🇪"},{name:"Flag: St. Martin",text:"🇲🇫"},{name:"Flag: Madagascar",text:"🇲🇬"},{name:"Flag: Marshall Islands",text:"🇲🇭"},{name:"Flag: North Macedonia",text:"🇲🇰"},{name:"Flag: Mali",text:"🇲🇱"},{name:"Flag: Myanmar (Burma)",text:"🇲🇲"},{name:"Flag: Mongolia",text:"🇲🇳"},{name:"Flag: Macao Sar China",text:"🇲🇴"},{name:"Flag: Northern Mariana Islands",text:"🇲🇵"},{name:"Flag: Martinique",text:"🇲🇶"},{name:"Flag: Mauritania",text:"🇲🇷"},{name:"Flag: Montserrat",text:"🇲🇸"},{name:"Flag: Malta",text:"🇲🇹"},{name:"Flag: Mauritius",text:"🇲🇺"},{name:"Flag: Maldives",text:"🇲🇻"},{name:"Flag: Malawi",text:"🇲🇼"},{name:"Flag: Mexico",text:"🇲🇽"},{name:"Flag: Malaysia",text:"🇲🇾"},{name:"Flag: Mozambique",text:"🇲🇿"},{name:"Flag: Namibia",text:"🇳🇦"},{name:"Flag: New Caledonia",text:"🇳🇨"},{name:"Flag: Niger",text:"🇳🇪"},{name:"Flag: Norfolk Island",text:"🇳🇫"},{name:"Flag: Nigeria",text:"🇳🇬"},{name:"Flag: Nicaragua",text:"🇳🇮"},{name:"Flag: Netherlands",text:"🇳🇱"},{name:"Flag: Norway",text:"🇳🇴"},{name:"Flag: Nepal",text:"🇳🇵"},{name:"Flag: Nauru",text:"🇳🇷"},{name:"Flag: Niue",text:"🇳🇺"},{name:"Flag: New Zealand",text:"🇳🇿"},{name:"Flag: Oman",text:"🇴🇲"},{name:"Flag: Panama",text:"🇵🇦"},{name:"Flag: Peru",text:"🇵🇪"},{name:"Flag: French Polynesia",text:"🇵🇫"},{name:"Flag: Papua New Guinea",text:"🇵🇬"},{name:"Flag: Philippines",text:"🇵🇭"},{name:"Flag: Pakistan",text:"🇵🇰"},{name:"Flag: Poland",text:"🇵🇱"},{name:"Flag: St. Pierre & Miquelon",text:"🇵🇲"},{name:"Flag: Pitcairn Islands",text:"🇵🇳"},{name:"Flag: Puerto Rico",text:"🇵🇷"},{name:"Flag: Palestinian Territories",text:"🇵🇸"},{name:"Flag: Portugal",text:"🇵🇹"},{name:"Flag: Palau",text:"🇵🇼"},{name:"Flag: Paraguay",text:"🇵🇾"},{name:"Flag: Qatar",text:"🇶🇦"},{name:"Flag: Réunion",text:"🇷🇪"},{name:"Flag: Romania",text:"🇷🇴"},{name:"Flag: Serbia",text:"🇷🇸"},{name:"Flag: Russia",text:"🇷🇺"},{name:"Flag: Rwanda",text:"🇷🇼"},{name:"Flag: Saudi Arabia",text:"🇸🇦"},{name:"Flag: Solomon Islands",text:"🇸🇧"},{name:"Flag: Seychelles",text:"🇸🇨"},{name:"Flag: Sudan",text:"🇸🇩"},{name:"Flag: Sweden",text:"🇸🇪"},{name:"Flag: Singapore",text:"🇸🇬"},{name:"Flag: St. Helena",text:"🇸🇭"},{name:"Flag: Slovenia",text:"🇸🇮"},{name:"Flag: Svalbard & Jan Mayen",text:"🇸🇯"},{name:"Flag: Slovakia",text:"🇸🇰"},{name:"Flag: Sierra Leone",text:"🇸🇱"},{name:"Flag: San Marino",text:"🇸🇲"},{name:"Flag: Senegal",text:"🇸🇳"},{name:"Flag: Somalia",text:"🇸🇴"},{name:"Flag: Suriname",text:"🇸🇷"},{name:"Flag: South Sudan",text:"🇸🇸"},{name:"Flag: São Tomé & Príncipe",text:"🇸🇹"},{name:"Flag: El Salvador",text:"🇸🇻"},{name:"Flag: Sint Maarten",text:"🇸🇽"},{name:"Flag: Syria",text:"🇸🇾"},{name:"Flag: Eswatini",text:"🇸🇿"},{name:"Flag: Tristan Da Cunha",text:"🇹🇦"},{name:"Flag: Turks & Caicos Islands",text:"🇹🇨"},{name:"Flag: Chad",text:"🇹🇩"},{name:"Flag: French Southern Territories",text:"🇹🇫"},{name:"Flag: Togo",text:"🇹🇬"},{name:"Flag: Thailand",text:"🇹🇭"},{name:"Flag: Tajikistan",text:"🇹🇯"},{name:"Flag: Tokelau",text:"🇹🇰"},{name:"Flag: Timor-Leste",text:"🇹🇱"},{name:"Flag: Turkmenistan",text:"🇹🇲"},{name:"Flag: Tunisia",text:"🇹🇳"},{name:"Flag: Tonga",text:"🇹🇴"},{name:"Flag: Turkey",text:"🇹🇷"},{name:"Flag: Trinidad & Tobago",text:"🇹🇹"},{name:"Flag: Tuvalu",text:"🇹🇻"},{name:"Flag: Taiwan",text:"🇹🇼"},{name:"Flag: Tanzania",text:"🇹🇿"},{name:"Flag: Ukraine",text:"🇺🇦"},{name:"Flag: Uganda",text:"🇺🇬"},{name:"Flag: U.S. Outlying Islands",text:"🇺🇲"},{name:"Flag: United Nations",text:"🇺🇳"},{name:"Flag: United States",text:"🇺🇸"},{name:"Flag: Uruguay",text:"🇺🇾"},{name:"Flag: Uzbekistan",text:"🇺🇿"},{name:"Flag: Vatican City",text:"🇻🇦"},{name:"Flag: St. Vincent & Grenadines",text:"🇻🇨"},{name:"Flag: Venezuela",text:"🇻🇪"},{name:"Flag: British Virgin Islands",text:"🇻🇬"},{name:"Flag: U.S. Virgin Islands",text:"🇻🇮"},{name:"Flag: Vietnam",text:"🇻🇳"},{name:"Flag: Vanuatu",text:"🇻🇺"},{name:"Flag: Wallis & Futuna",text:"🇼🇫"},{name:"Flag: Samoa",text:"🇼🇸"},{name:"Flag: Kosovo",text:"🇽🇰"},{name:"Flag: Yemen",text:"🇾🇪"},{name:"Flag: Mayotte",text:"🇾🇹"},{name:"Flag: South Africa",text:"🇿🇦"},{name:"Flag: Zambia",text:"🇿🇲"},{name:"Flag: Zimbabwe",text:"🇿🇼"},{name:"Flag: England",text:"🏴󠁧󠁢󠁥󠁮󠁧󠁿"},{name:"Flag: Scotland",text:"🏴󠁧󠁢󠁳󠁣󠁴󠁿"},{name:"Flag: Wales",text:"🏴󠁧󠁢󠁷󠁬󠁳󠁿"},{name:"Flag for Texas (US-TX)",text:"🏴󠁵󠁳󠁴󠁸󠁿"},{name:"Grapes",text:"🍇"},{name:"Melon",text:"🍈"},{name:"Watermelon",text:"🍉"},{name:"Tangerine",text:"🍊"},{name:"Lemon",text:"🍋"},{name:"Banana",text:"🍌"},{name:"Pineapple",text:"🍍"},{name:"Mango",text:"🥭"},{name:"Red Apple",text:"🍎"},{name:"Green Apple",text:"🍏"},{name:"Pear",text:"🍐"},{name:"Peach",text:"🍑"},{name:"Cherries",text:"🍒"},{name:"Strawberry",text:"🍓"},{name:"Blueberries",text:"🫐"},{name:"Kiwi Fruit",text:"🥝"},{name:"Tomato",text:"🍅"},{name:"Olive",text:"🫒"},{name:"Coconut",text:"🥥"},{name:"Avocado",text:"🥑"},{name:"Eggplant",text:"🍆"},{name:"Potato",text:"🥔"},{name:"Carrot",text:"🥕"},{name:"Ear of Corn",text:"🌽"},{name:"Hot Pepper",text:"🌶️"},{name:"Bell Pepper",text:"🫑"},{name:"Cucumber",text:"🥒"},{name:"Leafy Green",text:"🥬"},{name:"Broccoli",text:"🥦"},{name:"Garlic",text:"🧄"},{name:"Onion",text:"🧅"},{name:"Mushroom",text:"🍄"},{name:"Peanuts",text:"🥜"},{name:"Chestnut",text:"🌰"},{name:"Bread",text:"🍞"},{name:"Croissant",text:"🥐"},{name:"Baguette Bread",text:"🥖"},{name:"Flatbread",text:"🫓"},{name:"Pretzel",text:"🥨"},{name:"Bagel",text:"🥯"},{name:"Pancakes",text:"🥞"},{name:"Waffle",text:"🧇"},{name:"Cheese Wedge",text:"🧀"},{name:"Meat on Bone",text:"🍖"},{name:"Poultry Leg",text:"🍗"},{name:"Cut of Meat",text:"🥩"},{name:"Bacon",text:"🥓"},{name:"Hamburger",text:"🍔"},{name:"French Fries",text:"🍟"},{name:"Pizza",text:"🍕"},{name:"Hot Dog",text:"🌭"},{name:"Sandwich",text:"🥪"},{name:"Taco",text:"🌮"},{name:"Burrito",text:"🌯"},{name:"Tamale",text:"🫔"},{name:"Stuffed Flatbread",text:"🥙"},{name:"Falafel",text:"🧆"},{name:"Egg",text:"🥚"},{name:"Cooking",text:"🍳"},{name:"Shallow Pan of Food",text:"🥘"},{name:"Pot of Food",text:"🍲"},{name:"Fondue",text:"🫕"},{name:"Bowl with Spoon",text:"🥣"},{name:"Green Salad",text:"🥗"},{name:"Popcorn",text:"🍿"},{name:"Butter",text:"🧈"},{name:"Salt",text:"🧂"},{name:"Canned Food",text:"🥫"},{name:"Bento Box",text:"🍱"},{name:"Rice Cracker",text:"🍘"},{name:"Rice Ball",text:"🍙"},{name:"Cooked Rice",text:"🍚"},{name:"Curry Rice",text:"🍛"},{name:"Steaming Bowl",text:"🍜"},{name:"Spaghetti",text:"🍝"},{name:"Roasted Sweet Potato",text:"🍠"},{name:"Oden",text:"🍢"},{name:"Sushi",text:"🍣"},{name:"Fried Shrimp",text:"🍤"},{name:"Fish Cake with Swirl",text:"🍥"},{name:"Moon Cake",text:"🥮"},{name:"Dango",text:"🍡"},{name:"Dumpling",text:"🥟"},{name:"Fortune Cookie",text:"🥠"},{name:"Takeout Box",text:"🥡"},{name:"Oyster",text:"🦪"},{name:"Soft Ice Cream",text:"🍦"},{name:"Shaved Ice",text:"🍧"},{name:"Ice Cream",text:"🍨"},{name:"Doughnut",text:"🍩"},{name:"Cookie",text:"🍪"},{name:"Birthday Cake",text:"🎂"},{name:"Shortcake",text:"🍰"},{name:"Cupcake",text:"🧁"},{name:"Pie",text:"🥧"},{name:"Chocolate Bar",text:"🍫"},{name:"Candy",text:"🍬"},{name:"Lollipop",text:"🍭"},{name:"Custard",text:"🍮"},{name:"Honey Pot",text:"🍯"},{name:"Baby Bottle",text:"🍼"},{name:"Glass of Milk",text:"🥛"},{name:"Hot Beverage",text:"☕"},{name:"Teapot",text:"🫖"},{name:"Teacup Without Handle",text:"🍵"},{name:"Sake",text:"🍶"},{name:"Bottle with Popping Cork",text:"🍾"},{name:"Wine Glass",text:"🍷"},{name:"Cocktail Glass",text:"🍸"},{name:"Tropical Drink",text:"🍹"},{name:"Beer Mug",text:"🍺"},{name:"Clinking Beer Mugs",text:"🍻"},{name:"Clinking Glasses",text:"🥂"},{name:"Tumbler Glass",text:"🥃"},{name:"Cup with Straw",text:"🥤"},{name:"Bubble Tea",text:"🧋"},{name:"Beverage Box",text:"🧃"},{name:"Mate",text:"🧉"},{name:"Ice",text:"🧊"},{name:"Chopsticks",text:"🥢"},{name:"Fork and Knife with Plate",text:"🍽️"},{name:"Fork and Knife",text:"🍴"},{name:"Spoon",text:"🥄"},{name:"See-No-Evil Monkey",text:"🙈"},{name:"Hear-No-Evil Monkey",text:"🙉"},{name:"Speak-No-Evil Monkey",text:"🙊"},{name:"Collision",text:"💥"},{name:"Dizzy",text:"💫"},{name:"Sweat Droplets",text:"💦"},{name:"Dashing Away",text:"💨"},{name:"Monkey Face",text:"🐵"},{name:"Monkey",text:"🐒"},{name:"Gorilla",text:"🦍"},{name:"Orangutan",text:"🦧"},{name:"Dog Face",text:"🐶"},{name:"Dog",text:"🐕"},{name:"Guide Dog",text:"🦮"},{name:"Service Dog",text:"🐕‍🦺"},{name:"Poodle",text:"🐩"},{name:"Wolf",text:"🐺"},{name:"Fox",text:"🦊"},{name:"Raccoon",text:"🦝"},{name:"Cat Face",text:"🐱"},{name:"Cat",text:"🐈"},{name:"Black Cat",text:"🐈‍⬛"},{name:"Lion",text:"🦁"},{name:"Tiger Face",text:"🐯"},{name:"Tiger",text:"🐅"},{name:"Leopard",text:"🐆"},{name:"Horse Face",text:"🐴"},{name:"Horse",text:"🐎"},{name:"Unicorn",text:"🦄"},{name:"Zebra",text:"🦓"},{name:"Deer",text:"🦌"},{name:"Bison",text:"🦬"},{name:"Cow Face",text:"🐮"},{name:"Ox",text:"🐂"},{name:"Water Buffalo",text:"🐃"},{name:"Cow",text:"🐄"},{name:"Pig Face",text:"🐷"},{name:"Pig",text:"🐖"},{name:"Boar",text:"🐗"},{name:"Pig Nose",text:"🐽"},{name:"Ram",text:"🐏"},{name:"Ewe",text:"🐑"},{name:"Goat",text:"🐐"},{name:"Camel",text:"🐪"},{name:"Two-Hump Camel",text:"🐫"},{name:"Llama",text:"🦙"},{name:"Giraffe",text:"🦒"},{name:"Elephant",text:"🐘"},{name:"Mammoth",text:"🦣"},{name:"Rhinoceros",text:"🦏"},{name:"Hippopotamus",text:"🦛"},{name:"Mouse Face",text:"🐭"},{name:"Mouse",text:"🐁"},{name:"Rat",text:"🐀"},{name:"Hamster",text:"🐹"},{name:"Rabbit Face",text:"🐰"},{name:"Rabbit",text:"🐇"},{name:"Chipmunk",text:"🐿️"},{name:"Beaver",text:"🦫"},{name:"Hedgehog",text:"🦔"},{name:"Bat",text:"🦇"},{name:"Bear",text:"🐻"},{name:"Polar Bear",text:"🐻‍❄️"},{name:"Koala",text:"🐨"},{name:"Panda",text:"🐼"},{name:"Sloth",text:"🦥"},{name:"Otter",text:"🦦"},{name:"Skunk",text:"🦨"},{name:"Kangaroo",text:"🦘"},{name:"Badger",text:"🦡"},{name:"Paw Prints",text:"🐾"},{name:"Turkey",text:"🦃"},{name:"Chicken",text:"🐔"},{name:"Rooster",text:"🐓"},{name:"Hatching Chick",text:"🐣"},{name:"Baby Chick",text:"🐤"},{name:"Front-Facing Baby Chick",text:"🐥"},{name:"Bird",text:"🐦"},{name:"Penguin",text:"🐧"},{name:"Dove",text:"🕊️"},{name:"Eagle",text:"🦅"},{name:"Duck",text:"🦆"},{name:"Swan",text:"🦢"},{name:"Owl",text:"🦉"},{name:"Dodo",text:"🦤"},{name:"Feather",text:"🪶"},{name:"Flamingo",text:"🦩"},{name:"Peacock",text:"🦚"},{name:"Parrot",text:"🦜"},{name:"Frog",text:"🐸"},{name:"Crocodile",text:"🐊"},{name:"Turtle",text:"🐢"},{name:"Lizard",text:"🦎"},{name:"Snake",text:"🐍"},{name:"Dragon Face",text:"🐲"},{name:"Dragon",text:"🐉"},{name:"Sauropod",text:"🦕"},{name:"T-Rex",text:"🦖"},{name:"Spouting Whale",text:"🐳"},{name:"Whale",text:"🐋"},{name:"Dolphin",text:"🐬"},{name:"Seal",text:"🦭"},{name:"Fish",text:"🐟"},{name:"Tropical Fish",text:"🐠"},{name:"Blowfish",text:"🐡"},{name:"Shark",text:"🦈"},{name:"Octopus",text:"🐙"},{name:"Spiral Shell",text:"🐚"},{name:"Snail",text:"🐌"},{name:"Butterfly",text:"🦋"},{name:"Bug",text:"🐛"},{name:"Ant",text:"🐜"},{name:"Honeybee",text:"🐝"},{name:"Beetle",text:"🪲"},{name:"Lady Beetle",text:"🐞"},{name:"Cricket",text:"🦗"},{name:"Cockroach",text:"🪳"},{name:"Spider",text:"🕷️"},{name:"Spider Web",text:"🕸️"},{name:"Scorpion",text:"🦂"},{name:"Mosquito",text:"🦟"},{name:"Fly",text:"🪰"},{name:"Worm",text:"🪱"},{name:"Microbe",text:"🦠"},{name:"Bouquet",text:"💐"},{name:"Cherry Blossom",text:"🌸"},{name:"White Flower",text:"💮"},{name:"Rosette",text:"🏵️"},{name:"Rose",text:"🌹"},{name:"Wilted Flower",text:"🥀"},{name:"Hibiscus",text:"🌺"},{name:"Sunflower",text:"🌻"},{name:"Blossom",text:"🌼"},{name:"Tulip",text:"🌷"},{name:"Seedling",text:"🌱"},{name:"Potted Plant",text:"🪴"},{name:"Evergreen Tree",text:"🌲"},{name:"Deciduous Tree",text:"🌳"},{name:"Palm Tree",text:"🌴"},{name:"Cactus",text:"🌵"},{name:"Sheaf of Rice",text:"🌾"},{name:"Herb",text:"🌿"},{name:"Shamrock",text:"☘️"},{name:"Four Leaf Clover",text:"🍀"},{name:"Maple Leaf",text:"🍁"},{name:"Fallen Leaf",text:"🍂"},{name:"Leaf Fluttering in Wind",text:"🍃"},{name:"Mushroom",text:"🍄"},{name:"Chestnut",text:"🌰"},{name:"Crab",text:"🦀"},{name:"Lobster",text:"🦞"},{name:"Shrimp",text:"🦐"},{name:"Squid",text:"🦑"},{name:"Globe Showing Europe-Africa",text:"🌍"},{name:"Globe Showing Americas",text:"🌎"},{name:"Globe Showing Asia-Australia",text:"🌏"},{name:"Globe with Meridians",text:"🌐"},{name:"Rock",text:"🪨"},{name:"New Moon",text:"🌑"},{name:"Waxing Crescent Moon",text:"🌒"},{name:"Waxing Gibbous Moon",text:"🌔"},{name:"Full Moon",text:"🌕"},{name:"Waning Gibbous Moon",text:"🌖"},{name:"Last Quarter Moon",text:"🌗"},{name:"Waning Crescent Moon",text:"🌘"},{name:"Crescent Moon",text:"🌙"},{name:"New Moon Face",text:"🌚"},{name:"First Quarter Moon Face",text:"🌛"},{name:"Last Quarter Moon Face",text:"🌜"},{name:"Sun",text:"☀️"},{name:"Full Moon Face",text:"🌝"},{name:"Sun with Face",text:"🌞"},{name:"Star",text:"⭐"},{name:"Glowing Star",text:"🌟"},{name:"Shooting Star",text:"🌠"},{name:"Cloud",text:"☁️"},{name:"Sun Behind Cloud",text:"⛅"},{name:"Cloud with Lightning and Rain",text:"⛈️"},{name:"Sun Behind Small Cloud",text:"🌤️"},{name:"Sun Behind Large Cloud",text:"🌥️"},{name:"Sun Behind Rain Cloud",text:"🌦️"},{name:"Cloud with Rain",text:"🌧️"},{name:"Cloud with Snow",text:"🌨️"},{name:"Cloud with Lightning",text:"🌩️"},{name:"Tornado",text:"🌪️"},{name:"Fog",text:"🌫️"},{name:"Wind Face",text:"🌬️"},{name:"Rainbow",text:"🌈"},{name:"Umbrella",text:"☂️"},{name:"Umbrella with Rain Drops",text:"☔"},{name:"High Voltage",text:"⚡"},{name:"Snowflake",text:"❄️"},{name:"Snowman",text:"☃️"},{name:"Snowman Without Snow",text:"⛄"},{name:"Comet",text:"☄️"},{name:"Fire",text:"🔥"},{name:"Droplet",text:"💧"},{name:"Water Wave",text:"🌊"},{name:"Christmas Tree",text:"🎄"},{name:"Sparkles",text:"✨"},{name:"Tanabata Tree",text:"🎋"},{name:"Pine Decoration",text:"🎍"},{name:"Love Letter",text:"💌"},{name:"Hole",text:"🕳️"},{name:"Bomb",text:"💣"},{name:"Person Taking Bath",text:"🛀"},{name:"Person in Bed",text:"🛌"},{name:"Kitchen Knife",text:"🔪"},{name:"Amphora",text:"🏺"},{name:"World Map",text:"🗺️"},{name:"Compass",text:"🧭"},{name:"Brick",text:"🧱"},{name:"Barber Pole",text:"💈"},{name:"Manual Wheelchair",text:"🦽"},{name:"Motorized Wheelchair",text:"🦼"},{name:"Oil Drum",text:"🛢️"},{name:"Bellhop Bell",text:"🛎️"},{name:"Luggage",text:"🧳"},{name:"Hourglass Done",text:"⌛"},{name:"Hourglass Not Done",text:"⏳"},{name:"Watch",text:"⌚"},{name:"Alarm Clock",text:"⏰"},{name:"Stopwatch",text:"⏱️"},{name:"Timer Clock",text:"⏲️"},{name:"Mantelpiece Clock",text:"🕰️"},{name:"Thermometer",text:"🌡️"},{name:"Umbrella on Ground",text:"⛱️"},{name:"Firecracker",text:"🧨"},{name:"Balloon",text:"🎈"},{name:"Party Popper",text:"🎉"},{name:"Confetti Ball",text:"🎊"},{name:"Japanese Dolls",text:"🎎"},{name:"Carp Streamer",text:"🎏"},{name:"Wind Chime",text:"🎐"},{name:"Red Envelope",text:"🧧"},{name:"Ribbon",text:"🎀"},{name:"Wrapped Gift",text:"🎁"},{name:"Diving Mask",text:"🤿"},{name:"Yo-Yo",text:"🪀"},{name:"Kite",text:"🪁"},{name:"Crystal Ball",text:"🔮"},{name:"Magic Wand",text:"🪄"},{name:"Nazar Amulet",text:"🧿"},{name:"Joystick",text:"🕹️"},{name:"Teddy Bear",text:"🧸"},{name:"Piñata",text:"🪅"},{name:"Nesting Dolls",text:"🪆"},{name:"Framed Picture",text:"🖼️"},{name:"Thread",text:"🧵"},{name:"Sewing Needle",text:"🪡"},{name:"Yarn",text:"🧶"},{name:"Knot",text:"🪢"},{name:"Shopping Bags",text:"🛍️"},{name:"Prayer Beads",text:"📿"},{name:"Gem Stone",text:"💎"},{name:"Postal Horn",text:"📯"},{name:"Studio Microphone",text:"🎙️"},{name:"Level Slider",text:"🎚️"},{name:"Control Knobs",text:"🎛️"},{name:"Radio",text:"📻"},{name:"Banjo",text:"🪕"},{name:"Mobile Phone",text:"📱"},{name:"Mobile Phone with Arrow",text:"📲"},{name:"Telephone",text:"☎️"},{name:"Telephone Receiver",text:"📞"},{name:"Pager",text:"📟"},{name:"Fax Machine",text:"📠"},{name:"Battery",text:"🔋"},{name:"Electric Plug",text:"🔌"},{name:"Laptop",text:"💻"},{name:"Desktop Computer",text:"🖥️"},{name:"Printer",text:"🖨️"},{name:"Keyboard",text:"⌨️"},{name:"Computer Mouse",text:"🖱️"},{name:"Trackball",text:"🖲️"},{name:"Computer Disk",text:"💽"},{name:"Floppy Disk",text:"💾"},{name:"Optical Disk",text:"💿"},{name:"DVD",text:"📀"},{name:"Abacus",text:"🧮"},{name:"Movie Camera",text:"🎥"},{name:"Film Frames",text:"🎞️"},{name:"Film Projector",text:"📽️"},{name:"Television",text:"📺"},{name:"Camera",text:"📷"},{name:"Camera with Flash",text:"📸"},{name:"Video Camera",text:"📹"},{name:"Videocassette",text:"📼"},{name:"Magnifying Glass Tilted Left",text:"🔍"},{name:"Magnifying Glass Tilted Right",text:"🔎"},{name:"Candle",text:"🕯️"},{name:"Light Bulb",text:"💡"},{name:"Flashlight",text:"🔦"},{name:"Red Paper Lantern",text:"🏮"},{name:"Diya Lamp",text:"🪔"},{name:"Notebook with Decorative Cover",text:"📔"},{name:"Closed Book",text:"📕"},{name:"Open Book",text:"📖"},{name:"Green Book",text:"📗"},{name:"Blue Book",text:"📘"},{name:"Orange Book",text:"📙"},{name:"Books",text:"📚"},{name:"Notebook",text:"📓"},{name:"Ledger",text:"📒"},{name:"Page with Curl",text:"📃"},{name:"Scroll",text:"📜"},{name:"Page Facing Up",text:"📄"},{name:"Newspaper",text:"📰"},{name:"Rolled-Up Newspaper",text:"🗞️"},{name:"Bookmark Tabs",text:"📑"},{name:"Bookmark",text:"🔖"},{name:"Label",text:"🏷️"},{name:"Money Bag",text:"💰"},{name:"Coin",text:"🪙"},{name:"Yen Banknote",text:"💴"},{name:"Dollar Banknote",text:"💵"},{name:"Euro Banknote",text:"💶"},{name:"Pound Banknote",text:"💷"},{name:"Money with Wings",text:"💸"},{name:"Credit Card",text:"💳"},{name:"Receipt",text:"🧾"},{name:"Envelope",text:"✉️"},{name:"E-Mail",text:"📧"},{name:"Incoming Envelope",text:"📨"},{name:"Envelope with Arrow",text:"📩"},{name:"Outbox Tray",text:"📤"},{name:"Inbox Tray",text:"📥"},{name:"Package",text:"📦"},{name:"Closed Mailbox with Raised Flag",text:"📫"},{name:"Closed Mailbox with Lowered Flag",text:"📪"},{name:"Open Mailbox with Raised Flag",text:"📬"},{name:"Open Mailbox with Lowered Flag",text:"📭"},{name:"Postbox",text:"📮"},{name:"Ballot Box with Ballot",text:"🗳️"},{name:"Pencil",text:"✏️"},{name:"Black Nib",text:"✒️"},{name:"Fountain Pen",text:"🖋️"},{name:"Pen",text:"🖊️"},{name:"Paintbrush",text:"🖌️"},{name:"Crayon",text:"🖍️"},{name:"Memo",text:"📝"},{name:"File Folder",text:"📁"},{name:"Open File Folder",text:"📂"},{name:"Card Index Dividers",text:"🗂️"},{name:"Calendar",text:"📅"},{name:"Tear-Off Calendar",text:"📆"},{name:"Spiral Notepad",text:"🗒️"},{name:"Spiral Calendar",text:"🗓️"},{name:"Card Index",text:"📇"},{name:"Chart Increasing",text:"📈"},{name:"Chart Decreasing",text:"📉"},{name:"Bar Chart",text:"📊"},{name:"Clipboard",text:"📋"},{name:"Pushpin",text:"📌"},{name:"Round Pushpin",text:"📍"},{name:"Paperclip",text:"📎"},{name:"Linked Paperclips",text:"🖇️"},{name:"Straight Ruler",text:"📏"},{name:"Triangular Ruler",text:"📐"},{name:"Scissors",text:"✂️"},{name:"Card File Box",text:"🗃️"},{name:"File Cabinet",text:"🗄️"},{name:"Wastebasket",text:"🗑️"},{name:"Locked",text:"🔒"},{name:"Unlocked",text:"🔓"},{name:"Locked with Pen",text:"🔏"},{name:"Locked with Key",text:"🔐"},{name:"Key",text:"🔑"},{name:"Old Key",text:"🗝️"},{name:"Hammer",text:"🔨"},{name:"Axe",text:"🪓"},{name:"Pick",text:"⛏️"},{name:"Hammer and Pick",text:"⚒️"},{name:"Hammer and Wrench",text:"🛠️"},{name:"Dagger",text:"🗡️"},{name:"Crossed Swords",text:"⚔️"},{name:"Pistol",text:"🔫"},{name:"Boomerang",text:"🪃"},{name:"Shield",text:"🛡️"},{name:"Carpentry Saw",text:"🪚"},{name:"Wrench",text:"🔧"},{name:"Screwdriver",text:"🪛"},{name:"Nut and Bolt",text:"🔩"},{name:"Gear",text:"⚙️"},{name:"Clamp",text:"🗜️"},{name:"Balance Scale",text:"⚖️"},{name:"White Cane",text:"🦯"},{name:"Link",text:"🔗"},{name:"Chains",text:"⛓️"},{name:"Hook",text:"🪝"},{name:"Toolbox",text:"🧰"},{name:"Magnet",text:"🧲"},{name:"Ladder",text:"🪜"},{name:"Alembic",text:"⚗️"},{name:"Test Tube",text:"🧪"},{name:"Petri Dish",text:"🧫"},{name:"DNA",text:"🧬"},{name:"Microscope",text:"🔬"},{name:"Telescope",text:"🔭"},{name:"Satellite Antenna",text:"📡"},{name:"Syringe",text:"💉"},{name:"Drop of Blood",text:"🩸"},{name:"Pill",text:"💊"},{name:"Adhesive Bandage",text:"🩹"},{name:"Stethoscope",text:"🩺"},{name:"Door",text:"🚪"},{name:"Mirror",text:"🪞"},{name:"Window",text:"🪟"},{name:"Bed",text:"🛏️"},{name:"Couch and Lamp",text:"🛋️"},{name:"Chair",text:"🪑"},{name:"Toilet",text:"🚽"},{name:"Plunger",text:"🪠"},{name:"Shower",text:"🚿"},{name:"Bathtub",text:"🛁"},{name:"Mouse Trap",text:"🪤"},{name:"Razor",text:"🪒"},{name:"Lotion Bottle",text:"🧴"},{name:"Safety Pin",text:"🧷"},{name:"Broom",text:"🧹"},{name:"Basket",text:"🧺"},{name:"Roll of Paper",text:"🧻"},{name:"Bucket",text:"🪣"},{name:"Soap",text:"🧼"},{name:"Toothbrush",text:"🪥"},{name:"Sponge",text:"🧽"},{name:"Fire Extinguisher",text:"🧯"},{name:"Shopping Cart",text:"🛒"},{name:"Cigarette",text:"🚬"},{name:"Coffin",text:"⚰️"},{name:"Headstone",text:"🪦"},{name:"Funeral Urn",text:"⚱️"},{name:"Moai",text:"🗿"},{name:"Placard",text:"🪧"},{name:"Potable Water",text:"🚰"},{name:"Person Rowing Boat",text:"🚣"},{name:"Map of Japan",text:"🗾"},{name:"Snow-Capped Mountain",text:"🏔️"},{name:"Mountain",text:"⛰️"},{name:"Volcano",text:"🌋"},{name:"Mount Fuji",text:"🗻"},{name:"Camping",text:"🏕️"},{name:"Beach with Umbrella",text:"🏖️"},{name:"Desert",text:"🏜️"},{name:"Desert Island",text:"🏝️"},{name:"National Park",text:"🏞️"},{name:"Stadium",text:"🏟️"},{name:"Classical Building",text:"🏛️"},{name:"Building Construction",text:"🏗️"},{name:"Hut",text:"🛖"},{name:"Houses",text:"🏘️"},{name:"Derelict House",text:"🏚️"},{name:"House",text:"🏠"},{name:"House with Garden",text:"🏡"},{name:"Office Building",text:"🏢"},{name:"Japanese Post Office",text:"🏣"},{name:"Post Office",text:"🏤"},{name:"Hospital",text:"🏥"},{name:"Bank",text:"🏦"},{name:"Hotel",text:"🏨"},{name:"Love Hotel",text:"🏩"},{name:"Convenience Store",text:"🏪"},{name:"School",text:"🏫"},{name:"Department Store",text:"🏬"},{name:"Factory",text:"🏭"},{name:"Japanese Castle",text:"🏯"},{name:"Castle",text:"🏰"},{name:"Wedding",text:"💒"},{name:"Tokyo Tower",text:"🗼"},{name:"Statue of Liberty",text:"🗽"},{name:"Church",text:"⛪"},{name:"Mosque",text:"🕌"},{name:"Hindu Temple",text:"🛕"},{name:"Synagogue",text:"🕍"},{name:"Shinto Shrine",text:"⛩️"},{name:"Kaaba",text:"🕋"},{name:"Fountain",text:"⛲"},{name:"Tent",text:"⛺"},{name:"Foggy",text:"🌁"},{name:"Night with Stars",text:"🌃"},{name:"Cityscape",text:"🏙️"},{name:"Sunrise Over Mountains",text:"🌄"},{name:"Sunrise",text:"🌅"},{name:"Cityscape at Dusk",text:"🌆"},{name:"Sunset",text:"🌇"},{name:"Bridge at Night",text:"🌉"},{name:"Carousel Horse",text:"🎠"},{name:"Ferris Wheel",text:"🎡"},{name:"Roller Coaster",text:"🎢"},{name:"Locomotive",text:"🚂"},{name:"Railway Car",text:"🚃"},{name:"High-Speed Train",text:"🚄"},{name:"Bullet Train",text:"🚅"},{name:"Train",text:"🚆"},{name:"Metro",text:"🚇"},{name:"Light Rail",text:"🚈"},{name:"Station",text:"🚉"},{name:"Tram",text:"🚊"},{name:"Monorail",text:"🚝"},{name:"Mountain Railway",text:"🚞"},{name:"Tram Car",text:"🚋"},{name:"Bus",text:"🚌"},{name:"Oncoming Bus",text:"🚍"},{name:"Trolleybus",text:"🚎"},{name:"Minibus",text:"🚐"},{name:"Ambulance",text:"🚑"},{name:"Fire Engine",text:"🚒"},{name:"Police Car",text:"🚓"},{name:"Oncoming Police Car",text:"🚔"},{name:"Taxi",text:"🚕"},{name:"Oncoming Taxi",text:"🚖"},{name:"Automobile",text:"🚗"},{name:"Oncoming Automobile",text:"🚘"},{name:"Sport Utility Vehicle",text:"🚙"},{name:"Pickup Truck",text:"🛻"},{name:"Delivery Truck",text:"🚚"},{name:"Articulated Lorry",text:"🚛"},{name:"Tractor",text:"🚜"},{name:"Racing Car",text:"🏎️"},{name:"Motorcycle",text:"🏍️"},{name:"Motor Scooter",text:"🛵"},{name:"Auto Rickshaw",text:"🛺"},{name:"Bicycle",text:"🚲"},{name:"Kick Scooter",text:"🛴"},{name:"Bus Stop",text:"🚏"},{name:"Motorway",text:"🛣️"},{name:"Railway Track",text:"🛤️"},{name:"Fuel Pump",text:"⛽"},{name:"Police Car Light",text:"🚨"},{name:"Horizontal Traffic Light",text:"🚥"},{name:"Vertical Traffic Light",text:"🚦"},{name:"Construction",text:"🚧"},{name:"Anchor",text:"⚓"},{name:"Sailboat",text:"⛵"},{name:"Speedboat",text:"🚤"},{name:"Passenger Ship",text:"🛳️"},{name:"Ferry",text:"⛴️"},{name:"Motor Boat",text:"🛥️"},{name:"Ship",text:"🚢"},{name:"Airplane",text:"✈️"},{name:"Small Airplane",text:"🛩️"},{name:"Airplane Departure",text:"🛫"},{name:"Airplane Arrival",text:"🛬"},{name:"Parachute",text:"🪂"},{name:"Seat",text:"💺"},{name:"Helicopter",text:"🚁"},{name:"Suspension Railway",text:"🚟"},{name:"Mountain Cableway",text:"🚠"},{name:"Aerial Tramway",text:"🚡"},{name:"Satellite",text:"🛰️"},{name:"Rocket",text:"🚀"},{name:"Flying Saucer",text:"🛸"},{name:"Ringed Planet",text:"🪐"},{name:"Shooting Star",text:"🌠"},{name:"Milky Way",text:"🌌"},{name:"Umbrella on Ground",text:"⛱️"},{name:"Fireworks",text:"🎆"},{name:"Sparkler",text:"🎇"},{name:"Moon Viewing Ceremony",text:"🎑"},{name:"Yen Banknote",text:"💴"},{name:"Dollar Banknote",text:"💵"},{name:"Euro Banknote",text:"💶"},{name:"Pound Banknote",text:"💷"},{name:"Moai",text:"🗿"},{name:"Passport Control",text:"🛂"},{name:"Customs",text:"🛃"},{name:"Baggage Claim",text:"🛄"},{name:"Left Luggage",text:"🛅"}]}).catch(i=>{console.error(i)});rt.keystrokes.set("Shift+Enter","enter");rt.editing.view.document.on("enter",(i,e)=>{e.isSoft,rt.execute("shiftEnter"),e.preventDefault(),i.stop(),rt.editing.view.scrollToTheSelection()},{priority:"high"});function I5(i){return new Option(i).innerHTML}document.querySelector("#count").innerHTML=0;rt.model.document.on("change",i=>{const t=rt.getData().replace("<p>","").replace("</p>","");document.querySelector("#result").innerHTML=I5(t),document.querySelector("#count").innerHTML=new Blob([t]).size});document.querySelector("#submit").addEventListener("click",()=>{const i=rt.getData();document.querySelector("#result").innerHTML=i})});export default B5();
